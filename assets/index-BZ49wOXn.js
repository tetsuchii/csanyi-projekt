function Jb(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(s,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();function Jg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uu={exports:{}},ci={},Fu={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function Xb(){if(_m)return Le;_m=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function C(O,D,K){this.props=O,this.context=D,this.refs=_,this.updater=K||b}C.prototype.isReactComponent={},C.prototype.setState=function(O,D){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,D,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function E(){}E.prototype=C.prototype;function j(O,D,K){this.props=O,this.context=D,this.refs=_,this.updater=K||b}var T=j.prototype=new E;T.constructor=j,S(T,C.prototype),T.isPureReactComponent=!0;var R=Array.isArray,B=Object.prototype.hasOwnProperty,L={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function $(O,D,K){var Q,ae={},fe=null,q=null;if(D!=null)for(Q in D.ref!==void 0&&(q=D.ref),D.key!==void 0&&(fe=""+D.key),D)B.call(D,Q)&&!M.hasOwnProperty(Q)&&(ae[Q]=D[Q]);var ee=arguments.length-2;if(ee===1)ae.children=K;else if(1<ee){for(var ue=Array(ee),ke=0;ke<ee;ke++)ue[ke]=arguments[ke+2];ae.children=ue}if(O&&O.defaultProps)for(Q in ee=O.defaultProps,ee)ae[Q]===void 0&&(ae[Q]=ee[Q]);return{$$typeof:t,type:O,key:fe,ref:q,props:ae,_owner:L.current}}function H(O,D){return{$$typeof:t,type:O.type,key:D,ref:O.ref,props:O.props,_owner:O._owner}}function Z(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function oe(O){var D={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(K){return D[K]})}var le=/\/+/g;function Y(O,D){return typeof O=="object"&&O!==null&&O.key!=null?oe(""+O.key):D.toString(36)}function ce(O,D,K,Q,ae){var fe=typeof O;(fe==="undefined"||fe==="boolean")&&(O=null);var q=!1;if(O===null)q=!0;else switch(fe){case"string":case"number":q=!0;break;case"object":switch(O.$$typeof){case t:case e:q=!0}}if(q)return q=O,ae=ae(q),O=Q===""?"."+Y(q,0):Q,R(ae)?(K="",O!=null&&(K=O.replace(le,"$&/")+"/"),ce(ae,D,K,"",function(ke){return ke})):ae!=null&&(Z(ae)&&(ae=H(ae,K+(!ae.key||q&&q.key===ae.key?"":(""+ae.key).replace(le,"$&/")+"/")+O)),D.push(ae)),1;if(q=0,Q=Q===""?".":Q+":",R(O))for(var ee=0;ee<O.length;ee++){fe=O[ee];var ue=Q+Y(fe,ee);q+=ce(fe,D,K,ue,ae)}else if(ue=x(O),typeof ue=="function")for(O=ue.call(O),ee=0;!(fe=O.next()).done;)fe=fe.value,ue=Q+Y(fe,ee++),q+=ce(fe,D,K,ue,ae);else if(fe==="object")throw D=String(O),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return q}function se(O,D,K){if(O==null)return O;var Q=[],ae=0;return ce(O,Q,"","",function(fe){return D.call(K,fe,ae++)}),Q}function G(O){if(O._status===-1){var D=O._result;D=D(),D.then(function(K){(O._status===0||O._status===-1)&&(O._status=1,O._result=K)},function(K){(O._status===0||O._status===-1)&&(O._status=2,O._result=K)}),O._status===-1&&(O._status=0,O._result=D)}if(O._status===1)return O._result.default;throw O._result}var J={current:null},A={transition:null},V={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:A,ReactCurrentOwner:L};function X(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:se,forEach:function(O,D,K){se(O,function(){D.apply(this,arguments)},K)},count:function(O){var D=0;return se(O,function(){D++}),D},toArray:function(O){return se(O,function(D){return D})||[]},only:function(O){if(!Z(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Le.Component=C,Le.Fragment=r,Le.Profiler=i,Le.PureComponent=j,Le.StrictMode=s,Le.Suspense=h,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Le.act=X,Le.cloneElement=function(O,D,K){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Q=S({},O.props),ae=O.key,fe=O.ref,q=O._owner;if(D!=null){if(D.ref!==void 0&&(fe=D.ref,q=L.current),D.key!==void 0&&(ae=""+D.key),O.type&&O.type.defaultProps)var ee=O.type.defaultProps;for(ue in D)B.call(D,ue)&&!M.hasOwnProperty(ue)&&(Q[ue]=D[ue]===void 0&&ee!==void 0?ee[ue]:D[ue])}var ue=arguments.length-2;if(ue===1)Q.children=K;else if(1<ue){ee=Array(ue);for(var ke=0;ke<ue;ke++)ee[ke]=arguments[ke+2];Q.children=ee}return{$$typeof:t,type:O.type,key:ae,ref:fe,props:Q,_owner:q}},Le.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Le.createElement=$,Le.createFactory=function(O){var D=$.bind(null,O);return D.type=O,D},Le.createRef=function(){return{current:null}},Le.forwardRef=function(O){return{$$typeof:d,render:O}},Le.isValidElement=Z,Le.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:G}},Le.memo=function(O,D){return{$$typeof:m,type:O,compare:D===void 0?null:D}},Le.startTransition=function(O){var D=A.transition;A.transition={};try{O()}finally{A.transition=D}},Le.unstable_act=X,Le.useCallback=function(O,D){return J.current.useCallback(O,D)},Le.useContext=function(O){return J.current.useContext(O)},Le.useDebugValue=function(){},Le.useDeferredValue=function(O){return J.current.useDeferredValue(O)},Le.useEffect=function(O,D){return J.current.useEffect(O,D)},Le.useId=function(){return J.current.useId()},Le.useImperativeHandle=function(O,D,K){return J.current.useImperativeHandle(O,D,K)},Le.useInsertionEffect=function(O,D){return J.current.useInsertionEffect(O,D)},Le.useLayoutEffect=function(O,D){return J.current.useLayoutEffect(O,D)},Le.useMemo=function(O,D){return J.current.useMemo(O,D)},Le.useReducer=function(O,D,K){return J.current.useReducer(O,D,K)},Le.useRef=function(O){return J.current.useRef(O)},Le.useState=function(O){return J.current.useState(O)},Le.useSyncExternalStore=function(O,D,K){return J.current.useSyncExternalStore(O,D,K)},Le.useTransition=function(){return J.current.useTransition()},Le.version="18.3.1",Le}var Sm;function qd(){return Sm||(Sm=1,Fu.exports=Xb()),Fu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function Qb(){if(km)return ci;km=1;var t=qd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,m){var v,g={},x=null,b=null;m!==void 0&&(x=""+m),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(b=h.ref);for(v in h)s.call(h,v)&&!l.hasOwnProperty(v)&&(g[v]=h[v]);if(d&&d.defaultProps)for(v in h=d.defaultProps,h)g[v]===void 0&&(g[v]=h[v]);return{$$typeof:e,type:d,key:x,ref:b,props:g,_owner:i.current}}return ci.Fragment=r,ci.jsx=c,ci.jsxs=c,ci}var Em;function Zb(){return Em||(Em=1,Uu.exports=Qb()),Uu.exports}var f=Zb(),Ba={},zu={exports:{}},Xt={},Bu={exports:{}},Vu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function e_(){return Cm||(Cm=1,(function(t){function e(A,V){var X=A.length;A.push(V);e:for(;0<X;){var O=X-1>>>1,D=A[O];if(0<i(D,V))A[O]=V,A[X]=D,X=O;else break e}}function r(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var V=A[0],X=A.pop();if(X!==V){A[0]=X;e:for(var O=0,D=A.length,K=D>>>1;O<K;){var Q=2*(O+1)-1,ae=A[Q],fe=Q+1,q=A[fe];if(0>i(ae,X))fe<D&&0>i(q,ae)?(A[O]=q,A[fe]=X,O=fe):(A[O]=ae,A[Q]=X,O=Q);else if(fe<D&&0>i(q,X))A[O]=q,A[fe]=X,O=fe;else break e}}return V}function i(A,V){var X=A.sortIndex-V.sortIndex;return X!==0?X:A.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],m=[],v=1,g=null,x=3,b=!1,S=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(A){for(var V=r(m);V!==null;){if(V.callback===null)s(m);else if(V.startTime<=A)s(m),V.sortIndex=V.expirationTime,e(h,V);else break;V=r(m)}}function R(A){if(_=!1,T(A),!S)if(r(h)!==null)S=!0,G(B);else{var V=r(m);V!==null&&J(R,V.startTime-A)}}function B(A,V){S=!1,_&&(_=!1,E($),$=-1),b=!0;var X=x;try{for(T(V),g=r(h);g!==null&&(!(g.expirationTime>V)||A&&!oe());){var O=g.callback;if(typeof O=="function"){g.callback=null,x=g.priorityLevel;var D=O(g.expirationTime<=V);V=t.unstable_now(),typeof D=="function"?g.callback=D:g===r(h)&&s(h),T(V)}else s(h);g=r(h)}if(g!==null)var K=!0;else{var Q=r(m);Q!==null&&J(R,Q.startTime-V),K=!1}return K}finally{g=null,x=X,b=!1}}var L=!1,M=null,$=-1,H=5,Z=-1;function oe(){return!(t.unstable_now()-Z<H)}function le(){if(M!==null){var A=t.unstable_now();Z=A;var V=!0;try{V=M(!0,A)}finally{V?Y():(L=!1,M=null)}}else L=!1}var Y;if(typeof j=="function")Y=function(){j(le)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,se=ce.port2;ce.port1.onmessage=le,Y=function(){se.postMessage(null)}}else Y=function(){C(le,0)};function G(A){M=A,L||(L=!0,Y())}function J(A,V){$=C(function(){A(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,G(B))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(A){switch(x){case 1:case 2:case 3:var V=3;break;default:V=x}var X=x;x=V;try{return A()}finally{x=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,V){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var X=x;x=A;try{return V()}finally{x=X}},t.unstable_scheduleCallback=function(A,V,X){var O=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?O+X:O):X=O,A){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=X+D,A={id:v++,callback:V,priorityLevel:A,startTime:X,expirationTime:D,sortIndex:-1},X>O?(A.sortIndex=X,e(m,A),r(h)===null&&A===r(m)&&(_?(E($),$=-1):_=!0,J(R,X-O))):(A.sortIndex=D,e(h,A),S||b||(S=!0,G(B))),A},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(A){var V=x;return function(){var X=x;x=V;try{return A.apply(this,arguments)}finally{x=X}}}})(Vu)),Vu}var Rm;function t_(){return Rm||(Rm=1,Bu.exports=e_()),Bu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function n_(){if(Tm)return Xt;Tm=1;var t=qd(),e=t_();function r(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(n,o){c(n,o),c(n+"Capture",o)}function c(n,o){for(i[n]=o,n=0;n<o.length;n++)s.add(o[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function x(n){return h.call(g,n)?!0:h.call(v,n)?!1:m.test(n)?g[n]=!0:(v[n]=!0,!1)}function b(n,o,a,u){if(a!==null&&a.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function S(n,o,a,u){if(o===null||typeof o>"u"||b(n,o,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function _(n,o,a,u,p,y,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=u,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=n,this.type=o,this.sanitizeURL=y,this.removeEmptyString=k}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new _(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];C[o]=new _(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new _(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new _(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new _(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new _(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new _(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new _(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new _(n,5,!1,n.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function j(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(E,j);C[o]=new _(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(E,j);C[o]=new _(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(E,j);C[o]=new _(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new _(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new _(n,1,!1,n.toLowerCase(),null,!0,!0)});function T(n,o,a,u){var p=C.hasOwnProperty(o)?C[o]:null;(p!==null?p.type!==0:u||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,a,p,u)&&(a=null),u||p===null?x(o)&&(a===null?n.removeAttribute(o):n.setAttribute(o,""+a)):p.mustUseProperty?n[p.propertyName]=a===null?p.type===3?!1:"":a:(o=p.attributeName,u=p.attributeNamespace,a===null?n.removeAttribute(o):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,u?n.setAttributeNS(u,o,a):n.setAttribute(o,a))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),L=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),oe=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),A=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=A&&n[A]||n["@@iterator"],typeof n=="function"?n:null)}var X=Object.assign,O;function D(n){if(O===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);O=o&&o[1]||""}return`
`+O+n}var K=!1;function Q(n,o){if(!n||K)return"";K=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(W){var u=W}Reflect.construct(n,[],o)}else{try{o.call()}catch(W){u=W}n.call(o.prototype)}else{try{throw Error()}catch(W){u=W}n()}}catch(W){if(W&&u&&typeof W.stack=="string"){for(var p=W.stack.split(`
`),y=u.stack.split(`
`),k=p.length-1,N=y.length-1;1<=k&&0<=N&&p[k]!==y[N];)N--;for(;1<=k&&0<=N;k--,N--)if(p[k]!==y[N]){if(k!==1||N!==1)do if(k--,N--,0>N||p[k]!==y[N]){var P=`
`+p[k].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=k&&0<=N);break}}}finally{K=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?D(n):""}function ae(n){switch(n.tag){case 5:return D(n.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return n=Q(n.type,!1),n;case 11:return n=Q(n.type.render,!1),n;case 1:return n=Q(n.type,!0),n;default:return""}}function fe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case L:return"Portal";case H:return"Profiler";case $:return"StrictMode";case Y:return"Suspense";case ce:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case oe:return(n.displayName||"Context")+".Consumer";case Z:return(n._context.displayName||"Context")+".Provider";case le:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case se:return o=n.displayName||null,o!==null?o:fe(n.type)||"Memo";case G:o=n._payload,n=n._init;try{return fe(n(o))}catch{}}return null}function q(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(o);case 8:return o===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ee(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ue(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ke(n){var o=ue(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),u=""+n[o];if(!n.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return p.call(this)},set:function(k){u=""+k,y.call(this,k)}}),Object.defineProperty(n,o,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(k){u=""+k},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Oe(n){n._valueTracker||(n._valueTracker=ke(n))}function Je(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var a=o.getValue(),u="";return n&&(u=ue(n)?n.checked?"true":"false":n.value),n=u,n!==a?(o.setValue(n),!0):!1}function rt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ee(n,o){var a=o.checked;return X({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Nt(n,o){var a=o.defaultValue==null?"":o.defaultValue,u=o.checked!=null?o.checked:o.defaultChecked;a=ee(o.value!=null?o.value:a),n._wrapperState={initialChecked:u,initialValue:a,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ln(n,o){o=o.checked,o!=null&&T(n,"checked",o,!1)}function It(n,o){Ln(n,o);var a=ee(o.value),u=o.type;if(a!=null)u==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(u==="submit"||u==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?Ce(n,o.type,a):o.hasOwnProperty("defaultValue")&&Ce(n,o.type,ee(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function he(n,o,a){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var u=o.type;if(!(u!=="submit"&&u!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,a||o===n.value||(n.value=o),n.defaultValue=o}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Ce(n,o,a){(o!=="number"||rt(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Ie=Array.isArray;function ot(n,o,a,u){if(n=n.options,o){o={};for(var p=0;p<a.length;p++)o["$"+a[p]]=!0;for(a=0;a<n.length;a++)p=o.hasOwnProperty("$"+n[a].value),n[a].selected!==p&&(n[a].selected=p),p&&u&&(n[a].defaultSelected=!0)}else{for(a=""+ee(a),o=null,p=0;p<n.length;p++){if(n[p].value===a){n[p].selected=!0,u&&(n[p].defaultSelected=!0);return}o!==null||n[p].disabled||(o=n[p])}o!==null&&(o.selected=!0)}}function Ze(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return X({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function xt(n,o){var a=o.value;if(a==null){if(a=o.children,o=o.defaultValue,a!=null){if(o!=null)throw Error(r(92));if(Ie(a)){if(1<a.length)throw Error(r(93));a=a[0]}o=a}o==null&&(o=""),a=o}n._wrapperState={initialValue:ee(a)}}function er(n,o){var a=ee(o.value),u=ee(o.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),o.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),u!=null&&(n.defaultValue=""+u)}function yr(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function fn(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gr(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?fn(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var hn,wr=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,a,u,p){MSApp.execUnsafeLocalFunction(function(){return n(o,a,u,p)})}:n})(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(hn=hn||document.createElement("div"),hn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=hn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function zt(n,o){if(o){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=o;return}}n.textContent=o}var Un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ht=["Webkit","ms","Moz","O"];Object.keys(Un).forEach(function(n){Ht.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),Un[o]=Un[n]})});function Yr(n,o,a){return o==null||typeof o=="boolean"||o===""?"":a||typeof o!="number"||o===0||Un.hasOwnProperty(n)&&Un[n]?(""+o).trim():o+"px"}function jo(n,o){n=n.style;for(var a in o)if(o.hasOwnProperty(a)){var u=a.indexOf("--")===0,p=Yr(a,o[a],u);a==="float"&&(a="cssFloat"),u?n.setProperty(a,p):n[a]=p}}var Ao=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xr(n,o){if(o){if(Ao[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Jr(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tr=null;function we(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ze=null,Be=null,De=null;function et(n){if(n=Gs(n)){if(typeof ze!="function")throw Error(r(280));var o=n.stateNode;o&&(o=ra(o),ze(n.stateNode,n.type,o))}}function be(n){Be?De?De.push(n):De=[n]:Be=n}function Ue(){if(Be){var n=Be,o=De;if(De=Be=null,et(n),o)for(n=0;n<o.length;n++)et(o[n])}}function Xe(n,o){return n(o)}function Qe(){}var Dt=!1;function qe(n,o,a){if(Dt)return n(o,a);Dt=!0;try{return Xe(n,o,a)}finally{Dt=!1,(Be!==null||De!==null)&&(Qe(),Ue())}}function Ge(n,o){var a=n.stateNode;if(a===null)return null;var u=ra(a);if(u===null)return null;a=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,o,typeof a));return a}var en=!1;if(d)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){en=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{en=!1}function tn(n,o,a,u,p,y,k,N,P){var W=Array.prototype.slice.call(arguments,3);try{o.apply(a,W)}catch(ne){this.onError(ne)}}var br=!1,pn=null,Ns=!1,oc=null,rx={onError:function(n){br=!0,pn=n}};function ox(n,o,a,u,p,y,k,N,P){br=!1,pn=null,tn.apply(rx,arguments)}function sx(n,o,a,u,p,y,k,N,P){if(ox.apply(this,arguments),br){if(br){var W=pn;br=!1,pn=null}else throw Error(r(198));Ns||(Ns=!0,oc=W)}}function Xr(n){var o=n,a=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(a=o.return),n=o.return;while(n)}return o.tag===3?a:null}function Hf(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function Kf(n){if(Xr(n)!==n)throw Error(r(188))}function ix(n){var o=n.alternate;if(!o){if(o=Xr(n),o===null)throw Error(r(188));return o!==n?null:n}for(var a=n,u=o;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){a=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return Kf(p),n;if(y===u)return Kf(p),o;y=y.sibling}throw Error(r(188))}if(a.return!==u.return)a=p,u=y;else{for(var k=!1,N=p.child;N;){if(N===a){k=!0,a=p,u=y;break}if(N===u){k=!0,u=p,a=y;break}N=N.sibling}if(!k){for(N=y.child;N;){if(N===a){k=!0,a=y,u=p;break}if(N===u){k=!0,u=y,a=p;break}N=N.sibling}if(!k)throw Error(r(189))}}if(a.alternate!==u)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:o}function qf(n){return n=ix(n),n!==null?Gf(n):null}function Gf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=Gf(n);if(o!==null)return o;n=n.sibling}return null}var Yf=e.unstable_scheduleCallback,Jf=e.unstable_cancelCallback,ax=e.unstable_shouldYield,lx=e.unstable_requestPaint,pt=e.unstable_now,cx=e.unstable_getCurrentPriorityLevel,sc=e.unstable_ImmediatePriority,Xf=e.unstable_UserBlockingPriority,$i=e.unstable_NormalPriority,ux=e.unstable_LowPriority,Qf=e.unstable_IdlePriority,Li=null,Fn=null;function dx(n){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Li,n,void 0,(n.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:px,fx=Math.log,hx=Math.LN2;function px(n){return n>>>=0,n===0?32:31-(fx(n)/hx|0)|0}var Ui=64,Fi=4194304;function js(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function zi(n,o){var a=n.pendingLanes;if(a===0)return 0;var u=0,p=n.suspendedLanes,y=n.pingedLanes,k=a&268435455;if(k!==0){var N=k&~p;N!==0?u=js(N):(y&=k,y!==0&&(u=js(y)))}else k=a&~p,k!==0?u=js(k):y!==0&&(u=js(y));if(u===0)return 0;if(o!==0&&o!==u&&(o&p)===0&&(p=u&-u,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if((u&4)!==0&&(u|=a&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=u;0<o;)a=31-Sn(o),p=1<<a,u|=n[a],o&=~p;return u}function mx(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gx(n,o){for(var a=n.suspendedLanes,u=n.pingedLanes,p=n.expirationTimes,y=n.pendingLanes;0<y;){var k=31-Sn(y),N=1<<k,P=p[k];P===-1?((N&a)===0||(N&u)!==0)&&(p[k]=mx(N,o)):P<=o&&(n.expiredLanes|=N),y&=~N}}function ic(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Zf(){var n=Ui;return Ui<<=1,(Ui&4194240)===0&&(Ui=64),n}function ac(n){for(var o=[],a=0;31>a;a++)o.push(n);return o}function As(n,o,a){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-Sn(o),n[o]=a}function vx(n,o){var a=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var u=n.eventTimes;for(n=n.expirationTimes;0<a;){var p=31-Sn(a),y=1<<p;o[p]=0,u[p]=-1,n[p]=-1,a&=~y}}function lc(n,o){var a=n.entangledLanes|=o;for(n=n.entanglements;a;){var u=31-Sn(a),p=1<<u;p&o|n[u]&o&&(n[u]|=o),a&=~p}}var Ye=0;function eh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var th,cc,nh,rh,oh,uc=!1,Bi=[],_r=null,Sr=null,kr=null,Ps=new Map,Os=new Map,Er=[],yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sh(n,o){switch(n){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Ps.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(o.pointerId)}}function Is(n,o,a,u,p,y){return n===null||n.nativeEvent!==y?(n={blockedOn:o,domEventName:a,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},o!==null&&(o=Gs(o),o!==null&&cc(o)),n):(n.eventSystemFlags|=u,o=n.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),n)}function wx(n,o,a,u,p){switch(o){case"focusin":return _r=Is(_r,n,o,a,u,p),!0;case"dragenter":return Sr=Is(Sr,n,o,a,u,p),!0;case"mouseover":return kr=Is(kr,n,o,a,u,p),!0;case"pointerover":var y=p.pointerId;return Ps.set(y,Is(Ps.get(y)||null,n,o,a,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Os.set(y,Is(Os.get(y)||null,n,o,a,u,p)),!0}return!1}function ih(n){var o=Qr(n.target);if(o!==null){var a=Xr(o);if(a!==null){if(o=a.tag,o===13){if(o=Hf(a),o!==null){n.blockedOn=o,oh(n.priority,function(){nh(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Vi(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var a=fc(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);tr=u,a.target.dispatchEvent(u),tr=null}else return o=Gs(a),o!==null&&cc(o),n.blockedOn=a,!1;o.shift()}return!0}function ah(n,o,a){Vi(n)&&a.delete(o)}function xx(){uc=!1,_r!==null&&Vi(_r)&&(_r=null),Sr!==null&&Vi(Sr)&&(Sr=null),kr!==null&&Vi(kr)&&(kr=null),Ps.forEach(ah),Os.forEach(ah)}function Ds(n,o){n.blockedOn===o&&(n.blockedOn=null,uc||(uc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xx)))}function Ms(n){function o(p){return Ds(p,n)}if(0<Bi.length){Ds(Bi[0],n);for(var a=1;a<Bi.length;a++){var u=Bi[a];u.blockedOn===n&&(u.blockedOn=null)}}for(_r!==null&&Ds(_r,n),Sr!==null&&Ds(Sr,n),kr!==null&&Ds(kr,n),Ps.forEach(o),Os.forEach(o),a=0;a<Er.length;a++)u=Er[a],u.blockedOn===n&&(u.blockedOn=null);for(;0<Er.length&&(a=Er[0],a.blockedOn===null);)ih(a),a.blockedOn===null&&Er.shift()}var Po=R.ReactCurrentBatchConfig,Wi=!0;function bx(n,o,a,u){var p=Ye,y=Po.transition;Po.transition=null;try{Ye=1,dc(n,o,a,u)}finally{Ye=p,Po.transition=y}}function _x(n,o,a,u){var p=Ye,y=Po.transition;Po.transition=null;try{Ye=4,dc(n,o,a,u)}finally{Ye=p,Po.transition=y}}function dc(n,o,a,u){if(Wi){var p=fc(n,o,a,u);if(p===null)Nc(n,o,u,Hi,a),sh(n,u);else if(wx(p,n,o,a,u))u.stopPropagation();else if(sh(n,u),o&4&&-1<yx.indexOf(n)){for(;p!==null;){var y=Gs(p);if(y!==null&&th(y),y=fc(n,o,a,u),y===null&&Nc(n,o,u,Hi,a),y===p)break;p=y}p!==null&&u.stopPropagation()}else Nc(n,o,u,null,a)}}var Hi=null;function fc(n,o,a,u){if(Hi=null,n=we(u),n=Qr(n),n!==null)if(o=Xr(n),o===null)n=null;else if(a=o.tag,a===13){if(n=Hf(o),n!==null)return n;n=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return Hi=n,null}function lh(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cx()){case sc:return 1;case Xf:return 4;case $i:case ux:return 16;case Qf:return 536870912;default:return 16}default:return 16}}var Cr=null,hc=null,Ki=null;function ch(){if(Ki)return Ki;var n,o=hc,a=o.length,u,p="value"in Cr?Cr.value:Cr.textContent,y=p.length;for(n=0;n<a&&o[n]===p[n];n++);var k=a-n;for(u=1;u<=k&&o[a-u]===p[y-u];u++);return Ki=p.slice(n,1<u?1-u:void 0)}function qi(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function Gi(){return!0}function uh(){return!1}function nn(n){function o(a,u,p,y,k){this._reactName=a,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(a=n[N],this[N]=a?a(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Gi:uh,this.isPropagationStopped=uh,this}return X(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),o}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=nn(Oo),$s=X({},Oo,{view:0,detail:0}),Sx=nn($s),mc,gc,Ls,Yi=X({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ls&&(Ls&&n.type==="mousemove"?(mc=n.screenX-Ls.screenX,gc=n.screenY-Ls.screenY):gc=mc=0,Ls=n),mc)},movementY:function(n){return"movementY"in n?n.movementY:gc}}),dh=nn(Yi),kx=X({},Yi,{dataTransfer:0}),Ex=nn(kx),Cx=X({},$s,{relatedTarget:0}),vc=nn(Cx),Rx=X({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),Tx=nn(Rx),Nx=X({},Oo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),jx=nn(Nx),Ax=X({},Oo,{data:0}),fh=nn(Ax),Px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ox={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ix={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dx(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=Ix[n])?!!o[n]:!1}function yc(){return Dx}var Mx=X({},$s,{key:function(n){if(n.key){var o=Px[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=qi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ox[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yc,charCode:function(n){return n.type==="keypress"?qi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),$x=nn(Mx),Lx=X({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hh=nn(Lx),Ux=X({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yc}),Fx=nn(Ux),zx=X({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bx=nn(zx),Vx=X({},Yi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Wx=nn(Vx),Hx=[9,13,27,32],wc=d&&"CompositionEvent"in window,Us=null;d&&"documentMode"in document&&(Us=document.documentMode);var Kx=d&&"TextEvent"in window&&!Us,ph=d&&(!wc||Us&&8<Us&&11>=Us),mh=" ",gh=!1;function vh(n,o){switch(n){case"keyup":return Hx.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Io=!1;function qx(n,o){switch(n){case"compositionend":return yh(o);case"keypress":return o.which!==32?null:(gh=!0,mh);case"textInput":return n=o.data,n===mh&&gh?null:n;default:return null}}function Gx(n,o){if(Io)return n==="compositionend"||!wc&&vh(n,o)?(n=ch(),Ki=hc=Cr=null,Io=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ph&&o.locale!=="ko"?null:o.data;default:return null}}var Yx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wh(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!Yx[n.type]:o==="textarea"}function xh(n,o,a,u){be(u),o=ea(o,"onChange"),0<o.length&&(a=new pc("onChange","change",null,a,u),n.push({event:a,listeners:o}))}var Fs=null,zs=null;function Jx(n){Lh(n,0)}function Ji(n){var o=Uo(n);if(Je(o))return n}function Xx(n,o){if(n==="change")return o}var bh=!1;if(d){var xc;if(d){var bc="oninput"in document;if(!bc){var _h=document.createElement("div");_h.setAttribute("oninput","return;"),bc=typeof _h.oninput=="function"}xc=bc}else xc=!1;bh=xc&&(!document.documentMode||9<document.documentMode)}function Sh(){Fs&&(Fs.detachEvent("onpropertychange",kh),zs=Fs=null)}function kh(n){if(n.propertyName==="value"&&Ji(zs)){var o=[];xh(o,zs,n,we(n)),qe(Jx,o)}}function Qx(n,o,a){n==="focusin"?(Sh(),Fs=o,zs=a,Fs.attachEvent("onpropertychange",kh)):n==="focusout"&&Sh()}function Zx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ji(zs)}function eb(n,o){if(n==="click")return Ji(o)}function tb(n,o){if(n==="input"||n==="change")return Ji(o)}function nb(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var kn=typeof Object.is=="function"?Object.is:nb;function Bs(n,o){if(kn(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var a=Object.keys(n),u=Object.keys(o);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var p=a[u];if(!h.call(o,p)||!kn(n[p],o[p]))return!1}return!0}function Eh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ch(n,o){var a=Eh(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=o&&u>=o)return{node:a,offset:o-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eh(a)}}function Rh(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Rh(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Th(){for(var n=window,o=rt();o instanceof n.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)n=o.contentWindow;else break;o=rt(n.document)}return o}function _c(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function rb(n){var o=Th(),a=n.focusedElem,u=n.selectionRange;if(o!==a&&a&&a.ownerDocument&&Rh(a.ownerDocument.documentElement,a)){if(u!==null&&_c(a)){if(o=u.start,n=u.end,n===void 0&&(n=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min(n,a.value.length);else if(n=(o=a.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var p=a.textContent.length,y=Math.min(u.start,p);u=u.end===void 0?y:Math.min(u.end,p),!n.extend&&y>u&&(p=u,u=y,y=p),p=Ch(a,y);var k=Ch(a,u);p&&k&&(n.rangeCount!==1||n.anchorNode!==p.node||n.anchorOffset!==p.offset||n.focusNode!==k.node||n.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),n.removeAllRanges(),y>u?(n.addRange(o),n.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),n.addRange(o)))}}for(o=[],n=a;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)n=o[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ob=d&&"documentMode"in document&&11>=document.documentMode,Do=null,Sc=null,Vs=null,kc=!1;function Nh(n,o,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kc||Do==null||Do!==rt(u)||(u=Do,"selectionStart"in u&&_c(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Vs&&Bs(Vs,u)||(Vs=u,u=ea(Sc,"onSelect"),0<u.length&&(o=new pc("onSelect","select",null,o,a),n.push({event:o,listeners:u}),o.target=Do)))}function Xi(n,o){var a={};return a[n.toLowerCase()]=o.toLowerCase(),a["Webkit"+n]="webkit"+o,a["Moz"+n]="moz"+o,a}var Mo={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionend:Xi("Transition","TransitionEnd")},Ec={},jh={};d&&(jh=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Qi(n){if(Ec[n])return Ec[n];if(!Mo[n])return n;var o=Mo[n],a;for(a in o)if(o.hasOwnProperty(a)&&a in jh)return Ec[n]=o[a];return n}var Ah=Qi("animationend"),Ph=Qi("animationiteration"),Oh=Qi("animationstart"),Ih=Qi("transitionend"),Dh=new Map,Mh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(n,o){Dh.set(n,o),l(o,[n])}for(var Cc=0;Cc<Mh.length;Cc++){var Rc=Mh[Cc],sb=Rc.toLowerCase(),ib=Rc[0].toUpperCase()+Rc.slice(1);Rr(sb,"on"+ib)}Rr(Ah,"onAnimationEnd"),Rr(Ph,"onAnimationIteration"),Rr(Oh,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ih,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ab=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ws));function $h(n,o,a){var u=n.type||"unknown-event";n.currentTarget=a,sx(u,o,void 0,n),n.currentTarget=null}function Lh(n,o){o=(o&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],p=u.event;u=u.listeners;e:{var y=void 0;if(o)for(var k=u.length-1;0<=k;k--){var N=u[k],P=N.instance,W=N.currentTarget;if(N=N.listener,P!==y&&p.isPropagationStopped())break e;$h(p,N,W),y=P}else for(k=0;k<u.length;k++){if(N=u[k],P=N.instance,W=N.currentTarget,N=N.listener,P!==y&&p.isPropagationStopped())break e;$h(p,N,W),y=P}}}if(Ns)throw n=oc,Ns=!1,oc=null,n}function st(n,o){var a=o[Dc];a===void 0&&(a=o[Dc]=new Set);var u=n+"__bubble";a.has(u)||(Uh(o,n,2,!1),a.add(u))}function Tc(n,o,a){var u=0;o&&(u|=4),Uh(a,n,u,o)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function Hs(n){if(!n[Zi]){n[Zi]=!0,s.forEach(function(a){a!=="selectionchange"&&(ab.has(a)||Tc(a,!1,n),Tc(a,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Zi]||(o[Zi]=!0,Tc("selectionchange",!1,o))}}function Uh(n,o,a,u){switch(lh(o)){case 1:var p=bx;break;case 4:p=_x;break;default:p=dc}a=p.bind(null,o,a,n),p=void 0,!en||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),u?p!==void 0?n.addEventListener(o,a,{capture:!0,passive:p}):n.addEventListener(o,a,!0):p!==void 0?n.addEventListener(o,a,{passive:p}):n.addEventListener(o,a,!1)}function Nc(n,o,a,u,p){var y=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var k=u.tag;if(k===3||k===4){var N=u.stateNode.containerInfo;if(N===p||N.nodeType===8&&N.parentNode===p)break;if(k===4)for(k=u.return;k!==null;){var P=k.tag;if((P===3||P===4)&&(P=k.stateNode.containerInfo,P===p||P.nodeType===8&&P.parentNode===p))return;k=k.return}for(;N!==null;){if(k=Qr(N),k===null)return;if(P=k.tag,P===5||P===6){u=y=k;continue e}N=N.parentNode}}u=u.return}qe(function(){var W=y,ne=we(a),re=[];e:{var te=Dh.get(n);if(te!==void 0){var de=pc,me=n;switch(n){case"keypress":if(qi(a)===0)break e;case"keydown":case"keyup":de=$x;break;case"focusin":me="focus",de=vc;break;case"focusout":me="blur",de=vc;break;case"beforeblur":case"afterblur":de=vc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Ex;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Fx;break;case Ah:case Ph:case Oh:de=Tx;break;case Ih:de=Bx;break;case"scroll":de=Sx;break;case"wheel":de=Wx;break;case"copy":case"cut":case"paste":de=jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=hh}var ye=(o&4)!==0,mt=!ye&&n==="scroll",U=ye?te!==null?te+"Capture":null:te;ye=[];for(var I=W,F;I!==null;){F=I;var ie=F.stateNode;if(F.tag===5&&ie!==null&&(F=ie,U!==null&&(ie=Ge(I,U),ie!=null&&ye.push(Ks(I,ie,F)))),mt)break;I=I.return}0<ye.length&&(te=new de(te,me,null,a,ne),re.push({event:te,listeners:ye}))}}if((o&7)===0){e:{if(te=n==="mouseover"||n==="pointerover",de=n==="mouseout"||n==="pointerout",te&&a!==tr&&(me=a.relatedTarget||a.fromElement)&&(Qr(me)||me[nr]))break e;if((de||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,de?(me=a.relatedTarget||a.toElement,de=W,me=me?Qr(me):null,me!==null&&(mt=Xr(me),me!==mt||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=W),de!==me)){if(ye=dh,ie="onMouseLeave",U="onMouseEnter",I="mouse",(n==="pointerout"||n==="pointerover")&&(ye=hh,ie="onPointerLeave",U="onPointerEnter",I="pointer"),mt=de==null?te:Uo(de),F=me==null?te:Uo(me),te=new ye(ie,I+"leave",de,a,ne),te.target=mt,te.relatedTarget=F,ie=null,Qr(ne)===W&&(ye=new ye(U,I+"enter",me,a,ne),ye.target=F,ye.relatedTarget=mt,ie=ye),mt=ie,de&&me)t:{for(ye=de,U=me,I=0,F=ye;F;F=$o(F))I++;for(F=0,ie=U;ie;ie=$o(ie))F++;for(;0<I-F;)ye=$o(ye),I--;for(;0<F-I;)U=$o(U),F--;for(;I--;){if(ye===U||U!==null&&ye===U.alternate)break t;ye=$o(ye),U=$o(U)}ye=null}else ye=null;de!==null&&Fh(re,te,de,ye,!1),me!==null&&mt!==null&&Fh(re,mt,me,ye,!0)}}e:{if(te=W?Uo(W):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var xe=Xx;else if(wh(te))if(bh)xe=tb;else{xe=Zx;var Re=Qx}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(xe=eb);if(xe&&(xe=xe(n,W))){xh(re,xe,a,ne);break e}Re&&Re(n,te,W),n==="focusout"&&(Re=te._wrapperState)&&Re.controlled&&te.type==="number"&&Ce(te,"number",te.value)}switch(Re=W?Uo(W):window,n){case"focusin":(wh(Re)||Re.contentEditable==="true")&&(Do=Re,Sc=W,Vs=null);break;case"focusout":Vs=Sc=Do=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,Nh(re,a,ne);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":Nh(re,a,ne)}var Te;if(wc)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Io?vh(n,a)&&(Pe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(ph&&a.locale!=="ko"&&(Io||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Io&&(Te=ch()):(Cr=ne,hc="value"in Cr?Cr.value:Cr.textContent,Io=!0)),Re=ea(W,Pe),0<Re.length&&(Pe=new fh(Pe,n,null,a,ne),re.push({event:Pe,listeners:Re}),Te?Pe.data=Te:(Te=yh(a),Te!==null&&(Pe.data=Te)))),(Te=Kx?qx(n,a):Gx(n,a))&&(W=ea(W,"onBeforeInput"),0<W.length&&(ne=new fh("onBeforeInput","beforeinput",null,a,ne),re.push({event:ne,listeners:W}),ne.data=Te))}Lh(re,o)})}function Ks(n,o,a){return{instance:n,listener:o,currentTarget:a}}function ea(n,o){for(var a=o+"Capture",u=[];n!==null;){var p=n,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=Ge(n,a),y!=null&&u.unshift(Ks(n,y,p)),y=Ge(n,o),y!=null&&u.push(Ks(n,y,p))),n=n.return}return u}function $o(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Fh(n,o,a,u,p){for(var y=o._reactName,k=[];a!==null&&a!==u;){var N=a,P=N.alternate,W=N.stateNode;if(P!==null&&P===u)break;N.tag===5&&W!==null&&(N=W,p?(P=Ge(a,y),P!=null&&k.unshift(Ks(a,P,N))):p||(P=Ge(a,y),P!=null&&k.push(Ks(a,P,N)))),a=a.return}k.length!==0&&n.push({event:o,listeners:k})}var lb=/\r\n?/g,cb=/\u0000|\uFFFD/g;function zh(n){return(typeof n=="string"?n:""+n).replace(lb,`
`).replace(cb,"")}function ta(n,o,a){if(o=zh(o),zh(n)!==o&&a)throw Error(r(425))}function na(){}var jc=null,Ac=null;function Pc(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Oc=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,Bh=typeof Promise=="function"?Promise:void 0,db=typeof queueMicrotask=="function"?queueMicrotask:typeof Bh<"u"?function(n){return Bh.resolve(null).then(n).catch(fb)}:Oc;function fb(n){setTimeout(function(){throw n})}function Ic(n,o){var a=o,u=0;do{var p=a.nextSibling;if(n.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(u===0){n.removeChild(p),Ms(o);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=p}while(a);Ms(o)}function Tr(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function Vh(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return n;o--}else a==="/$"&&o++}n=n.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),zn="__reactFiber$"+Lo,qs="__reactProps$"+Lo,nr="__reactContainer$"+Lo,Dc="__reactEvents$"+Lo,hb="__reactListeners$"+Lo,pb="__reactHandles$"+Lo;function Qr(n){var o=n[zn];if(o)return o;for(var a=n.parentNode;a;){if(o=a[nr]||a[zn]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(n=Vh(n);n!==null;){if(a=n[zn])return a;n=Vh(n)}return o}n=a,a=n.parentNode}return null}function Gs(n){return n=n[zn]||n[nr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Uo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function ra(n){return n[qs]||null}var Mc=[],Fo=-1;function Nr(n){return{current:n}}function it(n){0>Fo||(n.current=Mc[Fo],Mc[Fo]=null,Fo--)}function tt(n,o){Fo++,Mc[Fo]=n.current,n.current=o}var jr={},Mt=Nr(jr),Kt=Nr(!1),Zr=jr;function zo(n,o){var a=n.type.contextTypes;if(!a)return jr;var u=n.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===o)return u.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in a)p[y]=o[y];return u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=p),p}function qt(n){return n=n.childContextTypes,n!=null}function oa(){it(Kt),it(Mt)}function Wh(n,o,a){if(Mt.current!==jr)throw Error(r(168));tt(Mt,o),tt(Kt,a)}function Hh(n,o,a){var u=n.stateNode;if(o=o.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var p in u)if(!(p in o))throw Error(r(108,q(n)||"Unknown",p));return X({},a,u)}function sa(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||jr,Zr=Mt.current,tt(Mt,n),tt(Kt,Kt.current),!0}function Kh(n,o,a){var u=n.stateNode;if(!u)throw Error(r(169));a?(n=Hh(n,o,Zr),u.__reactInternalMemoizedMergedChildContext=n,it(Kt),it(Mt),tt(Mt,n)):it(Kt),tt(Kt,a)}var rr=null,ia=!1,$c=!1;function qh(n){rr===null?rr=[n]:rr.push(n)}function mb(n){ia=!0,qh(n)}function Ar(){if(!$c&&rr!==null){$c=!0;var n=0,o=Ye;try{var a=rr;for(Ye=1;n<a.length;n++){var u=a[n];do u=u(!0);while(u!==null)}rr=null,ia=!1}catch(p){throw rr!==null&&(rr=rr.slice(n+1)),Yf(sc,Ar),p}finally{Ye=o,$c=!1}}return null}var Bo=[],Vo=0,aa=null,la=0,mn=[],gn=0,eo=null,or=1,sr="";function to(n,o){Bo[Vo++]=la,Bo[Vo++]=aa,aa=n,la=o}function Gh(n,o,a){mn[gn++]=or,mn[gn++]=sr,mn[gn++]=eo,eo=n;var u=or;n=sr;var p=32-Sn(u)-1;u&=~(1<<p),a+=1;var y=32-Sn(o)+p;if(30<y){var k=p-p%5;y=(u&(1<<k)-1).toString(32),u>>=k,p-=k,or=1<<32-Sn(o)+p|a<<p|u,sr=y+n}else or=1<<y|a<<p|u,sr=n}function Lc(n){n.return!==null&&(to(n,1),Gh(n,1,0))}function Uc(n){for(;n===aa;)aa=Bo[--Vo],Bo[Vo]=null,la=Bo[--Vo],Bo[Vo]=null;for(;n===eo;)eo=mn[--gn],mn[gn]=null,sr=mn[--gn],mn[gn]=null,or=mn[--gn],mn[gn]=null}var rn=null,on=null,at=!1,En=null;function Yh(n,o){var a=xn(5,null,null,0);a.elementType="DELETED",a.stateNode=o,a.return=n,o=n.deletions,o===null?(n.deletions=[a],n.flags|=16):o.push(a)}function Jh(n,o){switch(n.tag){case 5:var a=n.type;return o=o.nodeType!==1||a.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,rn=n,on=Tr(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,rn=n,on=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(a=eo!==null?{id:or,overflow:sr}:null,n.memoizedState={dehydrated:o,treeContext:a,retryLane:1073741824},a=xn(18,null,null,0),a.stateNode=o,a.return=n,n.child=a,rn=n,on=null,!0):!1;default:return!1}}function Fc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function zc(n){if(at){var o=on;if(o){var a=o;if(!Jh(n,o)){if(Fc(n))throw Error(r(418));o=Tr(a.nextSibling);var u=rn;o&&Jh(n,o)?Yh(u,a):(n.flags=n.flags&-4097|2,at=!1,rn=n)}}else{if(Fc(n))throw Error(r(418));n.flags=n.flags&-4097|2,at=!1,rn=n}}}function Xh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rn=n}function ca(n){if(n!==rn)return!1;if(!at)return Xh(n),at=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!Pc(n.type,n.memoizedProps)),o&&(o=on)){if(Fc(n))throw Qh(),Error(r(418));for(;o;)Yh(n,o),o=Tr(o.nextSibling)}if(Xh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(o===0){on=Tr(n.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++}n=n.nextSibling}on=null}}else on=rn?Tr(n.stateNode.nextSibling):null;return!0}function Qh(){for(var n=on;n;)n=Tr(n.nextSibling)}function Wo(){on=rn=null,at=!1}function Bc(n){En===null?En=[n]:En.push(n)}var gb=R.ReactCurrentBatchConfig;function Ys(n,o,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(r(309));var u=a.stateNode}if(!u)throw Error(r(147,n));var p=u,y=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(k){var N=p.refs;k===null?delete N[y]:N[y]=k},o._stringRef=y,o)}if(typeof n!="string")throw Error(r(284));if(!a._owner)throw Error(r(290,n))}return n}function ua(n,o){throw n=Object.prototype.toString.call(o),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function Zh(n){var o=n._init;return o(n._payload)}function ep(n){function o(U,I){if(n){var F=U.deletions;F===null?(U.deletions=[I],U.flags|=16):F.push(I)}}function a(U,I){if(!n)return null;for(;I!==null;)o(U,I),I=I.sibling;return null}function u(U,I){for(U=new Map;I!==null;)I.key!==null?U.set(I.key,I):U.set(I.index,I),I=I.sibling;return U}function p(U,I){return U=Ur(U,I),U.index=0,U.sibling=null,U}function y(U,I,F){return U.index=F,n?(F=U.alternate,F!==null?(F=F.index,F<I?(U.flags|=2,I):F):(U.flags|=2,I)):(U.flags|=1048576,I)}function k(U){return n&&U.alternate===null&&(U.flags|=2),U}function N(U,I,F,ie){return I===null||I.tag!==6?(I=Ou(F,U.mode,ie),I.return=U,I):(I=p(I,F),I.return=U,I)}function P(U,I,F,ie){var xe=F.type;return xe===M?ne(U,I,F.props.children,ie,F.key):I!==null&&(I.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===G&&Zh(xe)===I.type)?(ie=p(I,F.props),ie.ref=Ys(U,I,F),ie.return=U,ie):(ie=Ia(F.type,F.key,F.props,null,U.mode,ie),ie.ref=Ys(U,I,F),ie.return=U,ie)}function W(U,I,F,ie){return I===null||I.tag!==4||I.stateNode.containerInfo!==F.containerInfo||I.stateNode.implementation!==F.implementation?(I=Iu(F,U.mode,ie),I.return=U,I):(I=p(I,F.children||[]),I.return=U,I)}function ne(U,I,F,ie,xe){return I===null||I.tag!==7?(I=co(F,U.mode,ie,xe),I.return=U,I):(I=p(I,F),I.return=U,I)}function re(U,I,F){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Ou(""+I,U.mode,F),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case B:return F=Ia(I.type,I.key,I.props,null,U.mode,F),F.ref=Ys(U,null,I),F.return=U,F;case L:return I=Iu(I,U.mode,F),I.return=U,I;case G:var ie=I._init;return re(U,ie(I._payload),F)}if(Ie(I)||V(I))return I=co(I,U.mode,F,null),I.return=U,I;ua(U,I)}return null}function te(U,I,F,ie){var xe=I!==null?I.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return xe!==null?null:N(U,I,""+F,ie);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case B:return F.key===xe?P(U,I,F,ie):null;case L:return F.key===xe?W(U,I,F,ie):null;case G:return xe=F._init,te(U,I,xe(F._payload),ie)}if(Ie(F)||V(F))return xe!==null?null:ne(U,I,F,ie,null);ua(U,F)}return null}function de(U,I,F,ie,xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return U=U.get(F)||null,N(I,U,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case B:return U=U.get(ie.key===null?F:ie.key)||null,P(I,U,ie,xe);case L:return U=U.get(ie.key===null?F:ie.key)||null,W(I,U,ie,xe);case G:var Re=ie._init;return de(U,I,F,Re(ie._payload),xe)}if(Ie(ie)||V(ie))return U=U.get(F)||null,ne(I,U,ie,xe,null);ua(I,ie)}return null}function me(U,I,F,ie){for(var xe=null,Re=null,Te=I,Pe=I=0,Tt=null;Te!==null&&Pe<F.length;Pe++){Te.index>Pe?(Tt=Te,Te=null):Tt=Te.sibling;var Ke=te(U,Te,F[Pe],ie);if(Ke===null){Te===null&&(Te=Tt);break}n&&Te&&Ke.alternate===null&&o(U,Te),I=y(Ke,I,Pe),Re===null?xe=Ke:Re.sibling=Ke,Re=Ke,Te=Tt}if(Pe===F.length)return a(U,Te),at&&to(U,Pe),xe;if(Te===null){for(;Pe<F.length;Pe++)Te=re(U,F[Pe],ie),Te!==null&&(I=y(Te,I,Pe),Re===null?xe=Te:Re.sibling=Te,Re=Te);return at&&to(U,Pe),xe}for(Te=u(U,Te);Pe<F.length;Pe++)Tt=de(Te,U,Pe,F[Pe],ie),Tt!==null&&(n&&Tt.alternate!==null&&Te.delete(Tt.key===null?Pe:Tt.key),I=y(Tt,I,Pe),Re===null?xe=Tt:Re.sibling=Tt,Re=Tt);return n&&Te.forEach(function(Fr){return o(U,Fr)}),at&&to(U,Pe),xe}function ye(U,I,F,ie){var xe=V(F);if(typeof xe!="function")throw Error(r(150));if(F=xe.call(F),F==null)throw Error(r(151));for(var Re=xe=null,Te=I,Pe=I=0,Tt=null,Ke=F.next();Te!==null&&!Ke.done;Pe++,Ke=F.next()){Te.index>Pe?(Tt=Te,Te=null):Tt=Te.sibling;var Fr=te(U,Te,Ke.value,ie);if(Fr===null){Te===null&&(Te=Tt);break}n&&Te&&Fr.alternate===null&&o(U,Te),I=y(Fr,I,Pe),Re===null?xe=Fr:Re.sibling=Fr,Re=Fr,Te=Tt}if(Ke.done)return a(U,Te),at&&to(U,Pe),xe;if(Te===null){for(;!Ke.done;Pe++,Ke=F.next())Ke=re(U,Ke.value,ie),Ke!==null&&(I=y(Ke,I,Pe),Re===null?xe=Ke:Re.sibling=Ke,Re=Ke);return at&&to(U,Pe),xe}for(Te=u(U,Te);!Ke.done;Pe++,Ke=F.next())Ke=de(Te,U,Pe,Ke.value,ie),Ke!==null&&(n&&Ke.alternate!==null&&Te.delete(Ke.key===null?Pe:Ke.key),I=y(Ke,I,Pe),Re===null?xe=Ke:Re.sibling=Ke,Re=Ke);return n&&Te.forEach(function(Yb){return o(U,Yb)}),at&&to(U,Pe),xe}function mt(U,I,F,ie){if(typeof F=="object"&&F!==null&&F.type===M&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case B:e:{for(var xe=F.key,Re=I;Re!==null;){if(Re.key===xe){if(xe=F.type,xe===M){if(Re.tag===7){a(U,Re.sibling),I=p(Re,F.props.children),I.return=U,U=I;break e}}else if(Re.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===G&&Zh(xe)===Re.type){a(U,Re.sibling),I=p(Re,F.props),I.ref=Ys(U,Re,F),I.return=U,U=I;break e}a(U,Re);break}else o(U,Re);Re=Re.sibling}F.type===M?(I=co(F.props.children,U.mode,ie,F.key),I.return=U,U=I):(ie=Ia(F.type,F.key,F.props,null,U.mode,ie),ie.ref=Ys(U,I,F),ie.return=U,U=ie)}return k(U);case L:e:{for(Re=F.key;I!==null;){if(I.key===Re)if(I.tag===4&&I.stateNode.containerInfo===F.containerInfo&&I.stateNode.implementation===F.implementation){a(U,I.sibling),I=p(I,F.children||[]),I.return=U,U=I;break e}else{a(U,I);break}else o(U,I);I=I.sibling}I=Iu(F,U.mode,ie),I.return=U,U=I}return k(U);case G:return Re=F._init,mt(U,I,Re(F._payload),ie)}if(Ie(F))return me(U,I,F,ie);if(V(F))return ye(U,I,F,ie);ua(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,I!==null&&I.tag===6?(a(U,I.sibling),I=p(I,F),I.return=U,U=I):(a(U,I),I=Ou(F,U.mode,ie),I.return=U,U=I),k(U)):a(U,I)}return mt}var Ho=ep(!0),tp=ep(!1),da=Nr(null),fa=null,Ko=null,Vc=null;function Wc(){Vc=Ko=fa=null}function Hc(n){var o=da.current;it(da),n._currentValue=o}function Kc(n,o,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),n===a)break;n=n.return}}function qo(n,o){fa=n,Vc=Ko=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&o)!==0&&(Gt=!0),n.firstContext=null)}function vn(n){var o=n._currentValue;if(Vc!==n)if(n={context:n,memoizedValue:o,next:null},Ko===null){if(fa===null)throw Error(r(308));Ko=n,fa.dependencies={lanes:0,firstContext:n}}else Ko=Ko.next=n;return o}var no=null;function qc(n){no===null?no=[n]:no.push(n)}function np(n,o,a,u){var p=o.interleaved;return p===null?(a.next=a,qc(o)):(a.next=p.next,p.next=a),o.interleaved=a,ir(n,u)}function ir(n,o){n.lanes|=o;var a=n.alternate;for(a!==null&&(a.lanes|=o),a=n,n=n.return;n!==null;)n.childLanes|=o,a=n.alternate,a!==null&&(a.childLanes|=o),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Pr=!1;function Gc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rp(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ar(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function Or(n,o,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ve&2)!==0){var p=u.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),u.pending=o,ir(n,a)}return p=u.interleaved,p===null?(o.next=o,qc(u)):(o.next=p.next,p.next=o),u.interleaved=o,ir(n,a)}function ha(n,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194240)!==0)){var u=o.lanes;u&=n.pendingLanes,a|=u,o.lanes=a,lc(n,a)}}function op(n,o){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var k={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?p=y=k:y=y.next=k,a=a.next}while(a!==null);y===null?p=y=o:y=y.next=o}else p=y=o;a={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,effects:u.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=o:n.next=o,a.lastBaseUpdate=o}function pa(n,o,a,u){var p=n.updateQueue;Pr=!1;var y=p.firstBaseUpdate,k=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var P=N,W=P.next;P.next=null,k===null?y=W:k.next=W,k=P;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==k&&(N===null?ne.firstBaseUpdate=W:N.next=W,ne.lastBaseUpdate=P))}if(y!==null){var re=p.baseState;k=0,ne=W=P=null,N=y;do{var te=N.lane,de=N.eventTime;if((u&te)===te){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var me=n,ye=N;switch(te=o,de=a,ye.tag){case 1:if(me=ye.payload,typeof me=="function"){re=me.call(de,re,te);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,te=typeof me=="function"?me.call(de,re,te):me,te==null)break e;re=X({},re,te);break e;case 2:Pr=!0}}N.callback!==null&&N.lane!==0&&(n.flags|=64,te=p.effects,te===null?p.effects=[N]:te.push(N))}else de={eventTime:de,lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(W=ne=de,P=re):ne=ne.next=de,k|=te;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;te=N,N=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);if(ne===null&&(P=re),p.baseState=P,p.firstBaseUpdate=W,p.lastBaseUpdate=ne,o=p.shared.interleaved,o!==null){p=o;do k|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);so|=k,n.lanes=k,n.memoizedState=re}}function sp(n,o,a){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var u=n[o],p=u.callback;if(p!==null){if(u.callback=null,u=a,typeof p!="function")throw Error(r(191,p));p.call(u)}}}var Js={},Bn=Nr(Js),Xs=Nr(Js),Qs=Nr(Js);function ro(n){if(n===Js)throw Error(r(174));return n}function Yc(n,o){switch(tt(Qs,o),tt(Xs,n),tt(Bn,Js),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Gr(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=Gr(o,n)}it(Bn),tt(Bn,o)}function Go(){it(Bn),it(Xs),it(Qs)}function ip(n){ro(Qs.current);var o=ro(Bn.current),a=Gr(o,n.type);o!==a&&(tt(Xs,n),tt(Bn,a))}function Jc(n){Xs.current===n&&(it(Bn),it(Xs))}var ct=Nr(0);function ma(n){for(var o=n;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Xc=[];function Qc(){for(var n=0;n<Xc.length;n++)Xc[n]._workInProgressVersionPrimary=null;Xc.length=0}var ga=R.ReactCurrentDispatcher,Zc=R.ReactCurrentBatchConfig,oo=0,ut=null,bt=null,Ct=null,va=!1,Zs=!1,ei=0,vb=0;function $t(){throw Error(r(321))}function eu(n,o){if(o===null)return!1;for(var a=0;a<o.length&&a<n.length;a++)if(!kn(n[a],o[a]))return!1;return!0}function tu(n,o,a,u,p,y){if(oo=y,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ga.current=n===null||n.memoizedState===null?bb:_b,n=a(u,p),Zs){y=0;do{if(Zs=!1,ei=0,25<=y)throw Error(r(301));y+=1,Ct=bt=null,o.updateQueue=null,ga.current=Sb,n=a(u,p)}while(Zs)}if(ga.current=xa,o=bt!==null&&bt.next!==null,oo=0,Ct=bt=ut=null,va=!1,o)throw Error(r(300));return n}function nu(){var n=ei!==0;return ei=0,n}function Vn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ut.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function yn(){if(bt===null){var n=ut.alternate;n=n!==null?n.memoizedState:null}else n=bt.next;var o=Ct===null?ut.memoizedState:Ct.next;if(o!==null)Ct=o,bt=n;else{if(n===null)throw Error(r(310));bt=n,n={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ct===null?ut.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function ti(n,o){return typeof o=="function"?o(n):o}function ru(n){var o=yn(),a=o.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var u=bt,p=u.baseQueue,y=a.pending;if(y!==null){if(p!==null){var k=p.next;p.next=y.next,y.next=k}u.baseQueue=p=y,a.pending=null}if(p!==null){y=p.next,u=u.baseState;var N=k=null,P=null,W=y;do{var ne=W.lane;if((oo&ne)===ne)P!==null&&(P=P.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),u=W.hasEagerState?W.eagerState:n(u,W.action);else{var re={lane:ne,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};P===null?(N=P=re,k=u):P=P.next=re,ut.lanes|=ne,so|=ne}W=W.next}while(W!==null&&W!==y);P===null?k=u:P.next=N,kn(u,o.memoizedState)||(Gt=!0),o.memoizedState=u,o.baseState=k,o.baseQueue=P,a.lastRenderedState=u}if(n=a.interleaved,n!==null){p=n;do y=p.lane,ut.lanes|=y,so|=y,p=p.next;while(p!==n)}else p===null&&(a.lanes=0);return[o.memoizedState,a.dispatch]}function ou(n){var o=yn(),a=o.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var u=a.dispatch,p=a.pending,y=o.memoizedState;if(p!==null){a.pending=null;var k=p=p.next;do y=n(y,k.action),k=k.next;while(k!==p);kn(y,o.memoizedState)||(Gt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),a.lastRenderedState=y}return[y,u]}function ap(){}function lp(n,o){var a=ut,u=yn(),p=o(),y=!kn(u.memoizedState,p);if(y&&(u.memoizedState=p,Gt=!0),u=u.queue,su(dp.bind(null,a,u,n),[n]),u.getSnapshot!==o||y||Ct!==null&&Ct.memoizedState.tag&1){if(a.flags|=2048,ni(9,up.bind(null,a,u,p,o),void 0,null),Rt===null)throw Error(r(349));(oo&30)!==0||cp(a,o,p)}return p}function cp(n,o,a){n.flags|=16384,n={getSnapshot:o,value:a},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[n]):(a=o.stores,a===null?o.stores=[n]:a.push(n))}function up(n,o,a,u){o.value=a,o.getSnapshot=u,fp(o)&&hp(n)}function dp(n,o,a){return a(function(){fp(o)&&hp(n)})}function fp(n){var o=n.getSnapshot;n=n.value;try{var a=o();return!kn(n,a)}catch{return!0}}function hp(n){var o=ir(n,1);o!==null&&Nn(o,n,1,-1)}function pp(n){var o=Vn();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:n},o.queue=n,n=n.dispatch=xb.bind(null,ut,n),[o.memoizedState,n]}function ni(n,o,a,u){return n={tag:n,create:o,destroy:a,deps:u,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=n.next=n):(a=o.lastEffect,a===null?o.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,o.lastEffect=n)),n}function mp(){return yn().memoizedState}function ya(n,o,a,u){var p=Vn();ut.flags|=n,p.memoizedState=ni(1|o,a,void 0,u===void 0?null:u)}function wa(n,o,a,u){var p=yn();u=u===void 0?null:u;var y=void 0;if(bt!==null){var k=bt.memoizedState;if(y=k.destroy,u!==null&&eu(u,k.deps)){p.memoizedState=ni(o,a,y,u);return}}ut.flags|=n,p.memoizedState=ni(1|o,a,y,u)}function gp(n,o){return ya(8390656,8,n,o)}function su(n,o){return wa(2048,8,n,o)}function vp(n,o){return wa(4,2,n,o)}function yp(n,o){return wa(4,4,n,o)}function wp(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function xp(n,o,a){return a=a!=null?a.concat([n]):null,wa(4,4,wp.bind(null,o,n),a)}function iu(){}function bp(n,o){var a=yn();o=o===void 0?null:o;var u=a.memoizedState;return u!==null&&o!==null&&eu(o,u[1])?u[0]:(a.memoizedState=[n,o],n)}function _p(n,o){var a=yn();o=o===void 0?null:o;var u=a.memoizedState;return u!==null&&o!==null&&eu(o,u[1])?u[0]:(n=n(),a.memoizedState=[n,o],n)}function Sp(n,o,a){return(oo&21)===0?(n.baseState&&(n.baseState=!1,Gt=!0),n.memoizedState=a):(kn(a,o)||(a=Zf(),ut.lanes|=a,so|=a,n.baseState=!0),o)}function yb(n,o){var a=Ye;Ye=a!==0&&4>a?a:4,n(!0);var u=Zc.transition;Zc.transition={};try{n(!1),o()}finally{Ye=a,Zc.transition=u}}function kp(){return yn().memoizedState}function wb(n,o,a){var u=$r(n);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},Ep(n))Cp(o,a);else if(a=np(n,o,a,u),a!==null){var p=Vt();Nn(a,n,u,p),Rp(a,o,u)}}function xb(n,o,a){var u=$r(n),p={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ep(n))Cp(o,p);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var k=o.lastRenderedState,N=y(k,a);if(p.hasEagerState=!0,p.eagerState=N,kn(N,k)){var P=o.interleaved;P===null?(p.next=p,qc(o)):(p.next=P.next,P.next=p),o.interleaved=p;return}}catch{}finally{}a=np(n,o,p,u),a!==null&&(p=Vt(),Nn(a,n,u,p),Rp(a,o,u))}}function Ep(n){var o=n.alternate;return n===ut||o!==null&&o===ut}function Cp(n,o){Zs=va=!0;var a=n.pending;a===null?o.next=o:(o.next=a.next,a.next=o),n.pending=o}function Rp(n,o,a){if((a&4194240)!==0){var u=o.lanes;u&=n.pendingLanes,a|=u,o.lanes=a,lc(n,a)}}var xa={readContext:vn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},bb={readContext:vn,useCallback:function(n,o){return Vn().memoizedState=[n,o===void 0?null:o],n},useContext:vn,useEffect:gp,useImperativeHandle:function(n,o,a){return a=a!=null?a.concat([n]):null,ya(4194308,4,wp.bind(null,o,n),a)},useLayoutEffect:function(n,o){return ya(4194308,4,n,o)},useInsertionEffect:function(n,o){return ya(4,2,n,o)},useMemo:function(n,o){var a=Vn();return o=o===void 0?null:o,n=n(),a.memoizedState=[n,o],n},useReducer:function(n,o,a){var u=Vn();return o=a!==void 0?a(o):o,u.memoizedState=u.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},u.queue=n,n=n.dispatch=wb.bind(null,ut,n),[u.memoizedState,n]},useRef:function(n){var o=Vn();return n={current:n},o.memoizedState=n},useState:pp,useDebugValue:iu,useDeferredValue:function(n){return Vn().memoizedState=n},useTransition:function(){var n=pp(!1),o=n[0];return n=yb.bind(null,n[1]),Vn().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,a){var u=ut,p=Vn();if(at){if(a===void 0)throw Error(r(407));a=a()}else{if(a=o(),Rt===null)throw Error(r(349));(oo&30)!==0||cp(u,o,a)}p.memoizedState=a;var y={value:a,getSnapshot:o};return p.queue=y,gp(dp.bind(null,u,y,n),[n]),u.flags|=2048,ni(9,up.bind(null,u,y,a,o),void 0,null),a},useId:function(){var n=Vn(),o=Rt.identifierPrefix;if(at){var a=sr,u=or;a=(u&~(1<<32-Sn(u)-1)).toString(32)+a,o=":"+o+"R"+a,a=ei++,0<a&&(o+="H"+a.toString(32)),o+=":"}else a=vb++,o=":"+o+"r"+a.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},_b={readContext:vn,useCallback:bp,useContext:vn,useEffect:su,useImperativeHandle:xp,useInsertionEffect:vp,useLayoutEffect:yp,useMemo:_p,useReducer:ru,useRef:mp,useState:function(){return ru(ti)},useDebugValue:iu,useDeferredValue:function(n){var o=yn();return Sp(o,bt.memoizedState,n)},useTransition:function(){var n=ru(ti)[0],o=yn().memoizedState;return[n,o]},useMutableSource:ap,useSyncExternalStore:lp,useId:kp,unstable_isNewReconciler:!1},Sb={readContext:vn,useCallback:bp,useContext:vn,useEffect:su,useImperativeHandle:xp,useInsertionEffect:vp,useLayoutEffect:yp,useMemo:_p,useReducer:ou,useRef:mp,useState:function(){return ou(ti)},useDebugValue:iu,useDeferredValue:function(n){var o=yn();return bt===null?o.memoizedState=n:Sp(o,bt.memoizedState,n)},useTransition:function(){var n=ou(ti)[0],o=yn().memoizedState;return[n,o]},useMutableSource:ap,useSyncExternalStore:lp,useId:kp,unstable_isNewReconciler:!1};function Cn(n,o){if(n&&n.defaultProps){o=X({},o),n=n.defaultProps;for(var a in n)o[a]===void 0&&(o[a]=n[a]);return o}return o}function au(n,o,a,u){o=n.memoizedState,a=a(u,o),a=a==null?o:X({},o,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ba={isMounted:function(n){return(n=n._reactInternals)?Xr(n)===n:!1},enqueueSetState:function(n,o,a){n=n._reactInternals;var u=Vt(),p=$r(n),y=ar(u,p);y.payload=o,a!=null&&(y.callback=a),o=Or(n,y,p),o!==null&&(Nn(o,n,p,u),ha(o,n,p))},enqueueReplaceState:function(n,o,a){n=n._reactInternals;var u=Vt(),p=$r(n),y=ar(u,p);y.tag=1,y.payload=o,a!=null&&(y.callback=a),o=Or(n,y,p),o!==null&&(Nn(o,n,p,u),ha(o,n,p))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var a=Vt(),u=$r(n),p=ar(a,u);p.tag=2,o!=null&&(p.callback=o),o=Or(n,p,u),o!==null&&(Nn(o,n,u,a),ha(o,n,u))}};function Tp(n,o,a,u,p,y,k){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,k):o.prototype&&o.prototype.isPureReactComponent?!Bs(a,u)||!Bs(p,y):!0}function Np(n,o,a){var u=!1,p=jr,y=o.contextType;return typeof y=="object"&&y!==null?y=vn(y):(p=qt(o)?Zr:Mt.current,u=o.contextTypes,y=(u=u!=null)?zo(n,p):jr),o=new o(a,y),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ba,n.stateNode=o,o._reactInternals=n,u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=p,n.__reactInternalMemoizedMaskedChildContext=y),o}function jp(n,o,a,u){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,u),o.state!==n&&ba.enqueueReplaceState(o,o.state,null)}function lu(n,o,a,u){var p=n.stateNode;p.props=a,p.state=n.memoizedState,p.refs={},Gc(n);var y=o.contextType;typeof y=="object"&&y!==null?p.context=vn(y):(y=qt(o)?Zr:Mt.current,p.context=zo(n,y)),p.state=n.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(au(n,o,y,a),p.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&ba.enqueueReplaceState(p,p.state,null),pa(n,a,p,u),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308)}function Yo(n,o){try{var a="",u=o;do a+=ae(u),u=u.return;while(u);var p=a}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:n,source:o,stack:p,digest:null}}function cu(n,o,a){return{value:n,source:null,stack:a??null,digest:o??null}}function uu(n,o){try{console.error(o.value)}catch(a){setTimeout(function(){throw a})}}var kb=typeof WeakMap=="function"?WeakMap:Map;function Ap(n,o,a){a=ar(-1,a),a.tag=3,a.payload={element:null};var u=o.value;return a.callback=function(){Ta||(Ta=!0,Eu=u),uu(n,o)},a}function Pp(n,o,a){a=ar(-1,a),a.tag=3;var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var p=o.value;a.payload=function(){return u(p)},a.callback=function(){uu(n,o)}}var y=n.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){uu(n,o),typeof u!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),a}function Op(n,o,a){var u=n.pingCache;if(u===null){u=n.pingCache=new kb;var p=new Set;u.set(o,p)}else p=u.get(o),p===void 0&&(p=new Set,u.set(o,p));p.has(a)||(p.add(a),n=Lb.bind(null,n,o,a),o.then(n,n))}function Ip(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function Dp(n,o,a,u,p){return(n.mode&1)===0?(n===o?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(o=ar(-1,1),o.tag=2,Or(a,o,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=p,n)}var Eb=R.ReactCurrentOwner,Gt=!1;function Bt(n,o,a,u){o.child=n===null?tp(o,null,a,u):Ho(o,n.child,a,u)}function Mp(n,o,a,u,p){a=a.render;var y=o.ref;return qo(o,p),u=tu(n,o,a,u,y,p),a=nu(),n!==null&&!Gt?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~p,lr(n,o,p)):(at&&a&&Lc(o),o.flags|=1,Bt(n,o,u,p),o.child)}function $p(n,o,a,u,p){if(n===null){var y=a.type;return typeof y=="function"&&!Pu(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(o.tag=15,o.type=y,Lp(n,o,y,u,p)):(n=Ia(a.type,null,u,o,o.mode,p),n.ref=o.ref,n.return=o,o.child=n)}if(y=n.child,(n.lanes&p)===0){var k=y.memoizedProps;if(a=a.compare,a=a!==null?a:Bs,a(k,u)&&n.ref===o.ref)return lr(n,o,p)}return o.flags|=1,n=Ur(y,u),n.ref=o.ref,n.return=o,o.child=n}function Lp(n,o,a,u,p){if(n!==null){var y=n.memoizedProps;if(Bs(y,u)&&n.ref===o.ref)if(Gt=!1,o.pendingProps=u=y,(n.lanes&p)!==0)(n.flags&131072)!==0&&(Gt=!0);else return o.lanes=n.lanes,lr(n,o,p)}return du(n,o,a,u,p)}function Up(n,o,a){var u=o.pendingProps,p=u.children,y=n!==null?n.memoizedState:null;if(u.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Xo,sn),sn|=a;else{if((a&1073741824)===0)return n=y!==null?y.baseLanes|a:a,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,tt(Xo,sn),sn|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=y!==null?y.baseLanes:a,tt(Xo,sn),sn|=u}else y!==null?(u=y.baseLanes|a,o.memoizedState=null):u=a,tt(Xo,sn),sn|=u;return Bt(n,o,p,a),o.child}function Fp(n,o){var a=o.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(o.flags|=512,o.flags|=2097152)}function du(n,o,a,u,p){var y=qt(a)?Zr:Mt.current;return y=zo(o,y),qo(o,p),a=tu(n,o,a,u,y,p),u=nu(),n!==null&&!Gt?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~p,lr(n,o,p)):(at&&u&&Lc(o),o.flags|=1,Bt(n,o,a,p),o.child)}function zp(n,o,a,u,p){if(qt(a)){var y=!0;sa(o)}else y=!1;if(qo(o,p),o.stateNode===null)Sa(n,o),Np(o,a,u),lu(o,a,u,p),u=!0;else if(n===null){var k=o.stateNode,N=o.memoizedProps;k.props=N;var P=k.context,W=a.contextType;typeof W=="object"&&W!==null?W=vn(W):(W=qt(a)?Zr:Mt.current,W=zo(o,W));var ne=a.getDerivedStateFromProps,re=typeof ne=="function"||typeof k.getSnapshotBeforeUpdate=="function";re||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(N!==u||P!==W)&&jp(o,k,u,W),Pr=!1;var te=o.memoizedState;k.state=te,pa(o,u,k,p),P=o.memoizedState,N!==u||te!==P||Kt.current||Pr?(typeof ne=="function"&&(au(o,a,ne,u),P=o.memoizedState),(N=Pr||Tp(o,a,N,u,te,P,W))?(re||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=P),k.props=u,k.state=P,k.context=W,u=N):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{k=o.stateNode,rp(n,o),N=o.memoizedProps,W=o.type===o.elementType?N:Cn(o.type,N),k.props=W,re=o.pendingProps,te=k.context,P=a.contextType,typeof P=="object"&&P!==null?P=vn(P):(P=qt(a)?Zr:Mt.current,P=zo(o,P));var de=a.getDerivedStateFromProps;(ne=typeof de=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(N!==re||te!==P)&&jp(o,k,u,P),Pr=!1,te=o.memoizedState,k.state=te,pa(o,u,k,p);var me=o.memoizedState;N!==re||te!==me||Kt.current||Pr?(typeof de=="function"&&(au(o,a,de,u),me=o.memoizedState),(W=Pr||Tp(o,a,W,u,te,me,P)||!1)?(ne||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(u,me,P),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(u,me,P)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||N===n.memoizedProps&&te===n.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&te===n.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=me),k.props=u,k.state=me,k.context=P,u=W):(typeof k.componentDidUpdate!="function"||N===n.memoizedProps&&te===n.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&te===n.memoizedState||(o.flags|=1024),u=!1)}return fu(n,o,a,u,y,p)}function fu(n,o,a,u,p,y){Fp(n,o);var k=(o.flags&128)!==0;if(!u&&!k)return p&&Kh(o,a,!1),lr(n,o,y);u=o.stateNode,Eb.current=o;var N=k&&typeof a.getDerivedStateFromError!="function"?null:u.render();return o.flags|=1,n!==null&&k?(o.child=Ho(o,n.child,null,y),o.child=Ho(o,null,N,y)):Bt(n,o,N,y),o.memoizedState=u.state,p&&Kh(o,a,!0),o.child}function Bp(n){var o=n.stateNode;o.pendingContext?Wh(n,o.pendingContext,o.pendingContext!==o.context):o.context&&Wh(n,o.context,!1),Yc(n,o.containerInfo)}function Vp(n,o,a,u,p){return Wo(),Bc(p),o.flags|=256,Bt(n,o,a,u),o.child}var hu={dehydrated:null,treeContext:null,retryLane:0};function pu(n){return{baseLanes:n,cachePool:null,transitions:null}}function Wp(n,o,a){var u=o.pendingProps,p=ct.current,y=!1,k=(o.flags&128)!==0,N;if((N=k)||(N=n!==null&&n.memoizedState===null?!1:(p&2)!==0),N?(y=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(p|=1),tt(ct,p&1),n===null)return zc(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((o.mode&1)===0?o.lanes=1:n.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(k=u.children,n=u.fallback,y?(u=o.mode,y=o.child,k={mode:"hidden",children:k},(u&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=k):y=Da(k,u,0,null),n=co(n,u,a,null),y.return=o,n.return=o,y.sibling=n,o.child=y,o.child.memoizedState=pu(a),o.memoizedState=hu,n):mu(o,k));if(p=n.memoizedState,p!==null&&(N=p.dehydrated,N!==null))return Cb(n,o,k,u,N,p,a);if(y){y=u.fallback,k=o.mode,p=n.child,N=p.sibling;var P={mode:"hidden",children:u.children};return(k&1)===0&&o.child!==p?(u=o.child,u.childLanes=0,u.pendingProps=P,o.deletions=null):(u=Ur(p,P),u.subtreeFlags=p.subtreeFlags&14680064),N!==null?y=Ur(N,y):(y=co(y,k,a,null),y.flags|=2),y.return=o,u.return=o,u.sibling=y,o.child=u,u=y,y=o.child,k=n.child.memoizedState,k=k===null?pu(a):{baseLanes:k.baseLanes|a,cachePool:null,transitions:k.transitions},y.memoizedState=k,y.childLanes=n.childLanes&~a,o.memoizedState=hu,u}return y=n.child,n=y.sibling,u=Ur(y,{mode:"visible",children:u.children}),(o.mode&1)===0&&(u.lanes=a),u.return=o,u.sibling=null,n!==null&&(a=o.deletions,a===null?(o.deletions=[n],o.flags|=16):a.push(n)),o.child=u,o.memoizedState=null,u}function mu(n,o){return o=Da({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function _a(n,o,a,u){return u!==null&&Bc(u),Ho(o,n.child,null,a),n=mu(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Cb(n,o,a,u,p,y,k){if(a)return o.flags&256?(o.flags&=-257,u=cu(Error(r(422))),_a(n,o,k,u)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(y=u.fallback,p=o.mode,u=Da({mode:"visible",children:u.children},p,0,null),y=co(y,p,k,null),y.flags|=2,u.return=o,y.return=o,u.sibling=y,o.child=u,(o.mode&1)!==0&&Ho(o,n.child,null,k),o.child.memoizedState=pu(k),o.memoizedState=hu,y);if((o.mode&1)===0)return _a(n,o,k,null);if(p.data==="$!"){if(u=p.nextSibling&&p.nextSibling.dataset,u)var N=u.dgst;return u=N,y=Error(r(419)),u=cu(y,u,void 0),_a(n,o,k,u)}if(N=(k&n.childLanes)!==0,Gt||N){if(u=Rt,u!==null){switch(k&-k){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(u.suspendedLanes|k))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,ir(n,p),Nn(u,n,p,-1))}return Au(),u=cu(Error(r(421))),_a(n,o,k,u)}return p.data==="$?"?(o.flags|=128,o.child=n.child,o=Ub.bind(null,n),p._reactRetry=o,null):(n=y.treeContext,on=Tr(p.nextSibling),rn=o,at=!0,En=null,n!==null&&(mn[gn++]=or,mn[gn++]=sr,mn[gn++]=eo,or=n.id,sr=n.overflow,eo=o),o=mu(o,u.children),o.flags|=4096,o)}function Hp(n,o,a){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o),Kc(n.return,o,a)}function gu(n,o,a,u,p){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=a,y.tailMode=p)}function Kp(n,o,a){var u=o.pendingProps,p=u.revealOrder,y=u.tail;if(Bt(n,o,u.children,a),u=ct.current,(u&2)!==0)u=u&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Hp(n,a,o);else if(n.tag===19)Hp(n,a,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}if(tt(ct,u),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(a=o.child,p=null;a!==null;)n=a.alternate,n!==null&&ma(n)===null&&(p=a),a=a.sibling;a=p,a===null?(p=o.child,o.child=null):(p=a.sibling,a.sibling=null),gu(o,!1,p,a,y);break;case"backwards":for(a=null,p=o.child,o.child=null;p!==null;){if(n=p.alternate,n!==null&&ma(n)===null){o.child=p;break}n=p.sibling,p.sibling=a,a=p,p=n}gu(o,!0,a,null,y);break;case"together":gu(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Sa(n,o){(o.mode&1)===0&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function lr(n,o,a){if(n!==null&&(o.dependencies=n.dependencies),so|=o.lanes,(a&o.childLanes)===0)return null;if(n!==null&&o.child!==n.child)throw Error(r(153));if(o.child!==null){for(n=o.child,a=Ur(n,n.pendingProps),o.child=a,a.return=o;n.sibling!==null;)n=n.sibling,a=a.sibling=Ur(n,n.pendingProps),a.return=o;a.sibling=null}return o.child}function Rb(n,o,a){switch(o.tag){case 3:Bp(o),Wo();break;case 5:ip(o);break;case 1:qt(o.type)&&sa(o);break;case 4:Yc(o,o.stateNode.containerInfo);break;case 10:var u=o.type._context,p=o.memoizedProps.value;tt(da,u._currentValue),u._currentValue=p;break;case 13:if(u=o.memoizedState,u!==null)return u.dehydrated!==null?(tt(ct,ct.current&1),o.flags|=128,null):(a&o.child.childLanes)!==0?Wp(n,o,a):(tt(ct,ct.current&1),n=lr(n,o,a),n!==null?n.sibling:null);tt(ct,ct.current&1);break;case 19:if(u=(a&o.childLanes)!==0,(n.flags&128)!==0){if(u)return Kp(n,o,a);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),tt(ct,ct.current),u)break;return null;case 22:case 23:return o.lanes=0,Up(n,o,a)}return lr(n,o,a)}var qp,vu,Gp,Yp;qp=function(n,o){for(var a=o.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},vu=function(){},Gp=function(n,o,a,u){var p=n.memoizedProps;if(p!==u){n=o.stateNode,ro(Bn.current);var y=null;switch(a){case"input":p=Ee(n,p),u=Ee(n,u),y=[];break;case"select":p=X({},p,{value:void 0}),u=X({},u,{value:void 0}),y=[];break;case"textarea":p=Ze(n,p),u=Ze(n,u),y=[];break;default:typeof p.onClick!="function"&&typeof u.onClick=="function"&&(n.onclick=na)}xr(a,u);var k;a=null;for(W in p)if(!u.hasOwnProperty(W)&&p.hasOwnProperty(W)&&p[W]!=null)if(W==="style"){var N=p[W];for(k in N)N.hasOwnProperty(k)&&(a||(a={}),a[k]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?y||(y=[]):(y=y||[]).push(W,null));for(W in u){var P=u[W];if(N=p?.[W],u.hasOwnProperty(W)&&P!==N&&(P!=null||N!=null))if(W==="style")if(N){for(k in N)!N.hasOwnProperty(k)||P&&P.hasOwnProperty(k)||(a||(a={}),a[k]="");for(k in P)P.hasOwnProperty(k)&&N[k]!==P[k]&&(a||(a={}),a[k]=P[k])}else a||(y||(y=[]),y.push(W,a)),a=P;else W==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,N=N?N.__html:void 0,P!=null&&N!==P&&(y=y||[]).push(W,P)):W==="children"?typeof P!="string"&&typeof P!="number"||(y=y||[]).push(W,""+P):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(i.hasOwnProperty(W)?(P!=null&&W==="onScroll"&&st("scroll",n),y||N===P||(y=[])):(y=y||[]).push(W,P))}a&&(y=y||[]).push("style",a);var W=y;(o.updateQueue=W)&&(o.flags|=4)}},Yp=function(n,o,a,u){a!==u&&(o.flags|=4)};function ri(n,o){if(!at)switch(n.tailMode){case"hidden":o=n.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Lt(n){var o=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(o)for(var p=n.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags&14680064,u|=p.flags&14680064,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=u,n.childLanes=a,o}function Tb(n,o,a){var u=o.pendingProps;switch(Uc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(o),null;case 1:return qt(o.type)&&oa(),Lt(o),null;case 3:return u=o.stateNode,Go(),it(Kt),it(Mt),Qc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(ca(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,En!==null&&(Tu(En),En=null))),vu(n,o),Lt(o),null;case 5:Jc(o);var p=ro(Qs.current);if(a=o.type,n!==null&&o.stateNode!=null)Gp(n,o,a,u,p),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!u){if(o.stateNode===null)throw Error(r(166));return Lt(o),null}if(n=ro(Bn.current),ca(o)){u=o.stateNode,a=o.type;var y=o.memoizedProps;switch(u[zn]=o,u[qs]=y,n=(o.mode&1)!==0,a){case"dialog":st("cancel",u),st("close",u);break;case"iframe":case"object":case"embed":st("load",u);break;case"video":case"audio":for(p=0;p<Ws.length;p++)st(Ws[p],u);break;case"source":st("error",u);break;case"img":case"image":case"link":st("error",u),st("load",u);break;case"details":st("toggle",u);break;case"input":Nt(u,y),st("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!y.multiple},st("invalid",u);break;case"textarea":xt(u,y),st("invalid",u)}xr(a,y),p=null;for(var k in y)if(y.hasOwnProperty(k)){var N=y[k];k==="children"?typeof N=="string"?u.textContent!==N&&(y.suppressHydrationWarning!==!0&&ta(u.textContent,N,n),p=["children",N]):typeof N=="number"&&u.textContent!==""+N&&(y.suppressHydrationWarning!==!0&&ta(u.textContent,N,n),p=["children",""+N]):i.hasOwnProperty(k)&&N!=null&&k==="onScroll"&&st("scroll",u)}switch(a){case"input":Oe(u),he(u,y,!0);break;case"textarea":Oe(u),yr(u);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(u.onclick=na)}u=p,o.updateQueue=u,u!==null&&(o.flags|=4)}else{k=p.nodeType===9?p:p.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=fn(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=k.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof u.is=="string"?n=k.createElement(a,{is:u.is}):(n=k.createElement(a),a==="select"&&(k=n,u.multiple?k.multiple=!0:u.size&&(k.size=u.size))):n=k.createElementNS(n,a),n[zn]=o,n[qs]=u,qp(n,o,!1,!1),o.stateNode=n;e:{switch(k=Jr(a,u),a){case"dialog":st("cancel",n),st("close",n),p=u;break;case"iframe":case"object":case"embed":st("load",n),p=u;break;case"video":case"audio":for(p=0;p<Ws.length;p++)st(Ws[p],n);p=u;break;case"source":st("error",n),p=u;break;case"img":case"image":case"link":st("error",n),st("load",n),p=u;break;case"details":st("toggle",n),p=u;break;case"input":Nt(n,u),p=Ee(n,u),st("invalid",n);break;case"option":p=u;break;case"select":n._wrapperState={wasMultiple:!!u.multiple},p=X({},u,{value:void 0}),st("invalid",n);break;case"textarea":xt(n,u),p=Ze(n,u),st("invalid",n);break;default:p=u}xr(a,p),N=p;for(y in N)if(N.hasOwnProperty(y)){var P=N[y];y==="style"?jo(n,P):y==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&wr(n,P)):y==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&zt(n,P):typeof P=="number"&&zt(n,""+P):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?P!=null&&y==="onScroll"&&st("scroll",n):P!=null&&T(n,y,P,k))}switch(a){case"input":Oe(n),he(n,u,!1);break;case"textarea":Oe(n),yr(n);break;case"option":u.value!=null&&n.setAttribute("value",""+ee(u.value));break;case"select":n.multiple=!!u.multiple,y=u.value,y!=null?ot(n,!!u.multiple,y,!1):u.defaultValue!=null&&ot(n,!!u.multiple,u.defaultValue,!0);break;default:typeof p.onClick=="function"&&(n.onclick=na)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Lt(o),null;case 6:if(n&&o.stateNode!=null)Yp(n,o,n.memoizedProps,u);else{if(typeof u!="string"&&o.stateNode===null)throw Error(r(166));if(a=ro(Qs.current),ro(Bn.current),ca(o)){if(u=o.stateNode,a=o.memoizedProps,u[zn]=o,(y=u.nodeValue!==a)&&(n=rn,n!==null))switch(n.tag){case 3:ta(u.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ta(u.nodeValue,a,(n.mode&1)!==0)}y&&(o.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[zn]=o,o.stateNode=u}return Lt(o),null;case 13:if(it(ct),u=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(at&&on!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Qh(),Wo(),o.flags|=98560,y=!1;else if(y=ca(o),u!==null&&u.dehydrated!==null){if(n===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[zn]=o}else Wo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Lt(o),y=!1}else En!==null&&(Tu(En),En=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=a,o):(u=u!==null,u!==(n!==null&&n.memoizedState!==null)&&u&&(o.child.flags|=8192,(o.mode&1)!==0&&(n===null||(ct.current&1)!==0?_t===0&&(_t=3):Au())),o.updateQueue!==null&&(o.flags|=4),Lt(o),null);case 4:return Go(),vu(n,o),n===null&&Hs(o.stateNode.containerInfo),Lt(o),null;case 10:return Hc(o.type._context),Lt(o),null;case 17:return qt(o.type)&&oa(),Lt(o),null;case 19:if(it(ct),y=o.memoizedState,y===null)return Lt(o),null;if(u=(o.flags&128)!==0,k=y.rendering,k===null)if(u)ri(y,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(k=ma(n),k!==null){for(o.flags|=128,ri(y,!1),u=k.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),o.subtreeFlags=0,u=a,a=o.child;a!==null;)y=a,n=u,y.flags&=14680066,k=y.alternate,k===null?(y.childLanes=0,y.lanes=n,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=k.childLanes,y.lanes=k.lanes,y.child=k.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=k.memoizedProps,y.memoizedState=k.memoizedState,y.updateQueue=k.updateQueue,y.type=k.type,n=k.dependencies,y.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return tt(ct,ct.current&1|2),o.child}n=n.sibling}y.tail!==null&&pt()>Qo&&(o.flags|=128,u=!0,ri(y,!1),o.lanes=4194304)}else{if(!u)if(n=ma(k),n!==null){if(o.flags|=128,u=!0,a=n.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),ri(y,!0),y.tail===null&&y.tailMode==="hidden"&&!k.alternate&&!at)return Lt(o),null}else 2*pt()-y.renderingStartTime>Qo&&a!==1073741824&&(o.flags|=128,u=!0,ri(y,!1),o.lanes=4194304);y.isBackwards?(k.sibling=o.child,o.child=k):(a=y.last,a!==null?a.sibling=k:o.child=k,y.last=k)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=pt(),o.sibling=null,a=ct.current,tt(ct,u?a&1|2:a&1),o):(Lt(o),null);case 22:case 23:return ju(),u=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==u&&(o.flags|=8192),u&&(o.mode&1)!==0?(sn&1073741824)!==0&&(Lt(o),o.subtreeFlags&6&&(o.flags|=8192)):Lt(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function Nb(n,o){switch(Uc(o),o.tag){case 1:return qt(o.type)&&oa(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Go(),it(Kt),it(Mt),Qc(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 5:return Jc(o),null;case 13:if(it(ct),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Wo()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return it(ct),null;case 4:return Go(),null;case 10:return Hc(o.type._context),null;case 22:case 23:return ju(),null;case 24:return null;default:return null}}var ka=!1,Ut=!1,jb=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Jo(n,o){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){ft(n,o,u)}else a.current=null}function yu(n,o,a){try{a()}catch(u){ft(n,o,u)}}var Jp=!1;function Ab(n,o){if(jc=Wi,n=Th(),_c(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var k=0,N=-1,P=-1,W=0,ne=0,re=n,te=null;t:for(;;){for(var de;re!==a||p!==0&&re.nodeType!==3||(N=k+p),re!==y||u!==0&&re.nodeType!==3||(P=k+u),re.nodeType===3&&(k+=re.nodeValue.length),(de=re.firstChild)!==null;)te=re,re=de;for(;;){if(re===n)break t;if(te===a&&++W===p&&(N=k),te===y&&++ne===u&&(P=k),(de=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=de}a=N===-1||P===-1?null:{start:N,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ac={focusedElem:n,selectionRange:a},Wi=!1,pe=o;pe!==null;)if(o=pe,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,pe=n;else for(;pe!==null;){o=pe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ye=me.memoizedProps,mt=me.memoizedState,U=o.stateNode,I=U.getSnapshotBeforeUpdate(o.elementType===o.type?ye:Cn(o.type,ye),mt);U.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var F=o.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ie){ft(o,o.return,ie)}if(n=o.sibling,n!==null){n.return=o.return,pe=n;break}pe=o.return}return me=Jp,Jp=!1,me}function oi(n,o,a){var u=o.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&n)===n){var y=p.destroy;p.destroy=void 0,y!==void 0&&yu(o,a,y)}p=p.next}while(p!==u)}}function Ea(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&n)===n){var u=a.create;a.destroy=u()}a=a.next}while(a!==o)}}function wu(n){var o=n.ref;if(o!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof o=="function"?o(n):o.current=n}}function Xp(n){var o=n.alternate;o!==null&&(n.alternate=null,Xp(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[zn],delete o[qs],delete o[Dc],delete o[hb],delete o[pb])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Qp(n){return n.tag===5||n.tag===3||n.tag===4}function Zp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Qp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function xu(n,o,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,o?a.nodeType===8?a.parentNode.insertBefore(n,o):a.insertBefore(n,o):(a.nodeType===8?(o=a.parentNode,o.insertBefore(n,a)):(o=a,o.appendChild(n)),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=na));else if(u!==4&&(n=n.child,n!==null))for(xu(n,o,a),n=n.sibling;n!==null;)xu(n,o,a),n=n.sibling}function bu(n,o,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,o?a.insertBefore(n,o):a.appendChild(n);else if(u!==4&&(n=n.child,n!==null))for(bu(n,o,a),n=n.sibling;n!==null;)bu(n,o,a),n=n.sibling}var jt=null,Rn=!1;function Ir(n,o,a){for(a=a.child;a!==null;)em(n,o,a),a=a.sibling}function em(n,o,a){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Li,a)}catch{}switch(a.tag){case 5:Ut||Jo(a,o);case 6:var u=jt,p=Rn;jt=null,Ir(n,o,a),jt=u,Rn=p,jt!==null&&(Rn?(n=jt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):jt.removeChild(a.stateNode));break;case 18:jt!==null&&(Rn?(n=jt,a=a.stateNode,n.nodeType===8?Ic(n.parentNode,a):n.nodeType===1&&Ic(n,a),Ms(n)):Ic(jt,a.stateNode));break;case 4:u=jt,p=Rn,jt=a.stateNode.containerInfo,Rn=!0,Ir(n,o,a),jt=u,Rn=p;break;case 0:case 11:case 14:case 15:if(!Ut&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){p=u=u.next;do{var y=p,k=y.destroy;y=y.tag,k!==void 0&&((y&2)!==0||(y&4)!==0)&&yu(a,o,k),p=p.next}while(p!==u)}Ir(n,o,a);break;case 1:if(!Ut&&(Jo(a,o),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(N){ft(a,o,N)}Ir(n,o,a);break;case 21:Ir(n,o,a);break;case 22:a.mode&1?(Ut=(u=Ut)||a.memoizedState!==null,Ir(n,o,a),Ut=u):Ir(n,o,a);break;default:Ir(n,o,a)}}function tm(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new jb),o.forEach(function(u){var p=Fb.bind(null,n,u);a.has(u)||(a.add(u),u.then(p,p))})}}function Tn(n,o){var a=o.deletions;if(a!==null)for(var u=0;u<a.length;u++){var p=a[u];try{var y=n,k=o,N=k;e:for(;N!==null;){switch(N.tag){case 5:jt=N.stateNode,Rn=!1;break e;case 3:jt=N.stateNode.containerInfo,Rn=!0;break e;case 4:jt=N.stateNode.containerInfo,Rn=!0;break e}N=N.return}if(jt===null)throw Error(r(160));em(y,k,p),jt=null,Rn=!1;var P=p.alternate;P!==null&&(P.return=null),p.return=null}catch(W){ft(p,o,W)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)nm(o,n),o=o.sibling}function nm(n,o){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Tn(o,n),Wn(n),u&4){try{oi(3,n,n.return),Ea(3,n)}catch(ye){ft(n,n.return,ye)}try{oi(5,n,n.return)}catch(ye){ft(n,n.return,ye)}}break;case 1:Tn(o,n),Wn(n),u&512&&a!==null&&Jo(a,a.return);break;case 5:if(Tn(o,n),Wn(n),u&512&&a!==null&&Jo(a,a.return),n.flags&32){var p=n.stateNode;try{zt(p,"")}catch(ye){ft(n,n.return,ye)}}if(u&4&&(p=n.stateNode,p!=null)){var y=n.memoizedProps,k=a!==null?a.memoizedProps:y,N=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{N==="input"&&y.type==="radio"&&y.name!=null&&Ln(p,y),Jr(N,k);var W=Jr(N,y);for(k=0;k<P.length;k+=2){var ne=P[k],re=P[k+1];ne==="style"?jo(p,re):ne==="dangerouslySetInnerHTML"?wr(p,re):ne==="children"?zt(p,re):T(p,ne,re,W)}switch(N){case"input":It(p,y);break;case"textarea":er(p,y);break;case"select":var te=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var de=y.value;de!=null?ot(p,!!y.multiple,de,!1):te!==!!y.multiple&&(y.defaultValue!=null?ot(p,!!y.multiple,y.defaultValue,!0):ot(p,!!y.multiple,y.multiple?[]:"",!1))}p[qs]=y}catch(ye){ft(n,n.return,ye)}}break;case 6:if(Tn(o,n),Wn(n),u&4){if(n.stateNode===null)throw Error(r(162));p=n.stateNode,y=n.memoizedProps;try{p.nodeValue=y}catch(ye){ft(n,n.return,ye)}}break;case 3:if(Tn(o,n),Wn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Ms(o.containerInfo)}catch(ye){ft(n,n.return,ye)}break;case 4:Tn(o,n),Wn(n);break;case 13:Tn(o,n),Wn(n),p=n.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(ku=pt())),u&4&&tm(n);break;case 22:if(ne=a!==null&&a.memoizedState!==null,n.mode&1?(Ut=(W=Ut)||ne,Tn(o,n),Ut=W):Tn(o,n),Wn(n),u&8192){if(W=n.memoizedState!==null,(n.stateNode.isHidden=W)&&!ne&&(n.mode&1)!==0)for(pe=n,ne=n.child;ne!==null;){for(re=pe=ne;pe!==null;){switch(te=pe,de=te.child,te.tag){case 0:case 11:case 14:case 15:oi(4,te,te.return);break;case 1:Jo(te,te.return);var me=te.stateNode;if(typeof me.componentWillUnmount=="function"){u=te,a=te.return;try{o=u,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ye){ft(u,a,ye)}}break;case 5:Jo(te,te.return);break;case 22:if(te.memoizedState!==null){sm(re);continue}}de!==null?(de.return=te,pe=de):sm(re)}ne=ne.sibling}e:for(ne=null,re=n;;){if(re.tag===5){if(ne===null){ne=re;try{p=re.stateNode,W?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(N=re.stateNode,P=re.memoizedProps.style,k=P!=null&&P.hasOwnProperty("display")?P.display:null,N.style.display=Yr("display",k))}catch(ye){ft(n,n.return,ye)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=W?"":re.memoizedProps}catch(ye){ft(n,n.return,ye)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===n)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===n)break e;for(;re.sibling===null;){if(re.return===null||re.return===n)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Tn(o,n),Wn(n),u&4&&tm(n);break;case 21:break;default:Tn(o,n),Wn(n)}}function Wn(n){var o=n.flags;if(o&2){try{e:{for(var a=n.return;a!==null;){if(Qp(a)){var u=a;break e}a=a.return}throw Error(r(160))}switch(u.tag){case 5:var p=u.stateNode;u.flags&32&&(zt(p,""),u.flags&=-33);var y=Zp(n);bu(n,y,p);break;case 3:case 4:var k=u.stateNode.containerInfo,N=Zp(n);xu(n,N,k);break;default:throw Error(r(161))}}catch(P){ft(n,n.return,P)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function Pb(n,o,a){pe=n,rm(n)}function rm(n,o,a){for(var u=(n.mode&1)!==0;pe!==null;){var p=pe,y=p.child;if(p.tag===22&&u){var k=p.memoizedState!==null||ka;if(!k){var N=p.alternate,P=N!==null&&N.memoizedState!==null||Ut;N=ka;var W=Ut;if(ka=k,(Ut=P)&&!W)for(pe=p;pe!==null;)k=pe,P=k.child,k.tag===22&&k.memoizedState!==null?im(p):P!==null?(P.return=k,pe=P):im(p);for(;y!==null;)pe=y,rm(y),y=y.sibling;pe=p,ka=N,Ut=W}om(n)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,pe=y):om(n)}}function om(n){for(;pe!==null;){var o=pe;if((o.flags&8772)!==0){var a=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ut||Ea(5,o);break;case 1:var u=o.stateNode;if(o.flags&4&&!Ut)if(a===null)u.componentDidMount();else{var p=o.elementType===o.type?a.memoizedProps:Cn(o.type,a.memoizedProps);u.componentDidUpdate(p,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&sp(o,y,u);break;case 3:var k=o.updateQueue;if(k!==null){if(a=null,o.child!==null)switch(o.child.tag){case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}sp(o,k,a)}break;case 5:var N=o.stateNode;if(a===null&&o.flags&4){a=N;var P=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var W=o.alternate;if(W!==null){var ne=W.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&Ms(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ut||o.flags&512&&wu(o)}catch(te){ft(o,o.return,te)}}if(o===n){pe=null;break}if(a=o.sibling,a!==null){a.return=o.return,pe=a;break}pe=o.return}}function sm(n){for(;pe!==null;){var o=pe;if(o===n){pe=null;break}var a=o.sibling;if(a!==null){a.return=o.return,pe=a;break}pe=o.return}}function im(n){for(;pe!==null;){var o=pe;try{switch(o.tag){case 0:case 11:case 15:var a=o.return;try{Ea(4,o)}catch(P){ft(o,a,P)}break;case 1:var u=o.stateNode;if(typeof u.componentDidMount=="function"){var p=o.return;try{u.componentDidMount()}catch(P){ft(o,p,P)}}var y=o.return;try{wu(o)}catch(P){ft(o,y,P)}break;case 5:var k=o.return;try{wu(o)}catch(P){ft(o,k,P)}}}catch(P){ft(o,o.return,P)}if(o===n){pe=null;break}var N=o.sibling;if(N!==null){N.return=o.return,pe=N;break}pe=o.return}}var Ob=Math.ceil,Ca=R.ReactCurrentDispatcher,_u=R.ReactCurrentOwner,wn=R.ReactCurrentBatchConfig,Ve=0,Rt=null,vt=null,At=0,sn=0,Xo=Nr(0),_t=0,si=null,so=0,Ra=0,Su=0,ii=null,Yt=null,ku=0,Qo=1/0,cr=null,Ta=!1,Eu=null,Dr=null,Na=!1,Mr=null,ja=0,ai=0,Cu=null,Aa=-1,Pa=0;function Vt(){return(Ve&6)!==0?pt():Aa!==-1?Aa:Aa=pt()}function $r(n){return(n.mode&1)===0?1:(Ve&2)!==0&&At!==0?At&-At:gb.transition!==null?(Pa===0&&(Pa=Zf()),Pa):(n=Ye,n!==0||(n=window.event,n=n===void 0?16:lh(n.type)),n)}function Nn(n,o,a,u){if(50<ai)throw ai=0,Cu=null,Error(r(185));As(n,a,u),((Ve&2)===0||n!==Rt)&&(n===Rt&&((Ve&2)===0&&(Ra|=a),_t===4&&Lr(n,At)),Jt(n,u),a===1&&Ve===0&&(o.mode&1)===0&&(Qo=pt()+500,ia&&Ar()))}function Jt(n,o){var a=n.callbackNode;gx(n,o);var u=zi(n,n===Rt?At:0);if(u===0)a!==null&&Jf(a),n.callbackNode=null,n.callbackPriority=0;else if(o=u&-u,n.callbackPriority!==o){if(a!=null&&Jf(a),o===1)n.tag===0?mb(lm.bind(null,n)):qh(lm.bind(null,n)),db(function(){(Ve&6)===0&&Ar()}),a=null;else{switch(eh(u)){case 1:a=sc;break;case 4:a=Xf;break;case 16:a=$i;break;case 536870912:a=Qf;break;default:a=$i}a=gm(a,am.bind(null,n))}n.callbackPriority=o,n.callbackNode=a}}function am(n,o){if(Aa=-1,Pa=0,(Ve&6)!==0)throw Error(r(327));var a=n.callbackNode;if(Zo()&&n.callbackNode!==a)return null;var u=zi(n,n===Rt?At:0);if(u===0)return null;if((u&30)!==0||(u&n.expiredLanes)!==0||o)o=Oa(n,u);else{o=u;var p=Ve;Ve|=2;var y=um();(Rt!==n||At!==o)&&(cr=null,Qo=pt()+500,ao(n,o));do try{Mb();break}catch(N){cm(n,N)}while(!0);Wc(),Ca.current=y,Ve=p,vt!==null?o=0:(Rt=null,At=0,o=_t)}if(o!==0){if(o===2&&(p=ic(n),p!==0&&(u=p,o=Ru(n,p))),o===1)throw a=si,ao(n,0),Lr(n,u),Jt(n,pt()),a;if(o===6)Lr(n,u);else{if(p=n.current.alternate,(u&30)===0&&!Ib(p)&&(o=Oa(n,u),o===2&&(y=ic(n),y!==0&&(u=y,o=Ru(n,y))),o===1))throw a=si,ao(n,0),Lr(n,u),Jt(n,pt()),a;switch(n.finishedWork=p,n.finishedLanes=u,o){case 0:case 1:throw Error(r(345));case 2:lo(n,Yt,cr);break;case 3:if(Lr(n,u),(u&130023424)===u&&(o=ku+500-pt(),10<o)){if(zi(n,0)!==0)break;if(p=n.suspendedLanes,(p&u)!==u){Vt(),n.pingedLanes|=n.suspendedLanes&p;break}n.timeoutHandle=Oc(lo.bind(null,n,Yt,cr),o);break}lo(n,Yt,cr);break;case 4:if(Lr(n,u),(u&4194240)===u)break;for(o=n.eventTimes,p=-1;0<u;){var k=31-Sn(u);y=1<<k,k=o[k],k>p&&(p=k),u&=~y}if(u=p,u=pt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Ob(u/1960))-u,10<u){n.timeoutHandle=Oc(lo.bind(null,n,Yt,cr),u);break}lo(n,Yt,cr);break;case 5:lo(n,Yt,cr);break;default:throw Error(r(329))}}}return Jt(n,pt()),n.callbackNode===a?am.bind(null,n):null}function Ru(n,o){var a=ii;return n.current.memoizedState.isDehydrated&&(ao(n,o).flags|=256),n=Oa(n,o),n!==2&&(o=Yt,Yt=a,o!==null&&Tu(o)),n}function Tu(n){Yt===null?Yt=n:Yt.push.apply(Yt,n)}function Ib(n){for(var o=n;;){if(o.flags&16384){var a=o.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var p=a[u],y=p.getSnapshot;p=p.value;try{if(!kn(y(),p))return!1}catch{return!1}}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Lr(n,o){for(o&=~Su,o&=~Ra,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var a=31-Sn(o),u=1<<a;n[a]=-1,o&=~u}}function lm(n){if((Ve&6)!==0)throw Error(r(327));Zo();var o=zi(n,0);if((o&1)===0)return Jt(n,pt()),null;var a=Oa(n,o);if(n.tag!==0&&a===2){var u=ic(n);u!==0&&(o=u,a=Ru(n,u))}if(a===1)throw a=si,ao(n,0),Lr(n,o),Jt(n,pt()),a;if(a===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,lo(n,Yt,cr),Jt(n,pt()),null}function Nu(n,o){var a=Ve;Ve|=1;try{return n(o)}finally{Ve=a,Ve===0&&(Qo=pt()+500,ia&&Ar())}}function io(n){Mr!==null&&Mr.tag===0&&(Ve&6)===0&&Zo();var o=Ve;Ve|=1;var a=wn.transition,u=Ye;try{if(wn.transition=null,Ye=1,n)return n()}finally{Ye=u,wn.transition=a,Ve=o,(Ve&6)===0&&Ar()}}function ju(){sn=Xo.current,it(Xo)}function ao(n,o){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,ub(a)),vt!==null)for(a=vt.return;a!==null;){var u=a;switch(Uc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&oa();break;case 3:Go(),it(Kt),it(Mt),Qc();break;case 5:Jc(u);break;case 4:Go();break;case 13:it(ct);break;case 19:it(ct);break;case 10:Hc(u.type._context);break;case 22:case 23:ju()}a=a.return}if(Rt=n,vt=n=Ur(n.current,null),At=sn=o,_t=0,si=null,Su=Ra=so=0,Yt=ii=null,no!==null){for(o=0;o<no.length;o++)if(a=no[o],u=a.interleaved,u!==null){a.interleaved=null;var p=u.next,y=a.pending;if(y!==null){var k=y.next;y.next=p,u.next=k}a.pending=u}no=null}return n}function cm(n,o){do{var a=vt;try{if(Wc(),ga.current=xa,va){for(var u=ut.memoizedState;u!==null;){var p=u.queue;p!==null&&(p.pending=null),u=u.next}va=!1}if(oo=0,Ct=bt=ut=null,Zs=!1,ei=0,_u.current=null,a===null||a.return===null){_t=1,si=o,vt=null;break}e:{var y=n,k=a.return,N=a,P=o;if(o=At,N.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var W=P,ne=N,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=Ip(k);if(de!==null){de.flags&=-257,Dp(de,k,N,y,o),de.mode&1&&Op(y,W,o),o=de,P=W;var me=o.updateQueue;if(me===null){var ye=new Set;ye.add(P),o.updateQueue=ye}else me.add(P);break e}else{if((o&1)===0){Op(y,W,o),Au();break e}P=Error(r(426))}}else if(at&&N.mode&1){var mt=Ip(k);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),Dp(mt,k,N,y,o),Bc(Yo(P,N));break e}}y=P=Yo(P,N),_t!==4&&(_t=2),ii===null?ii=[y]:ii.push(y),y=k;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var U=Ap(y,P,o);op(y,U);break e;case 1:N=P;var I=y.type,F=y.stateNode;if((y.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Dr===null||!Dr.has(F)))){y.flags|=65536,o&=-o,y.lanes|=o;var ie=Pp(y,N,o);op(y,ie);break e}}y=y.return}while(y!==null)}fm(a)}catch(xe){o=xe,vt===a&&a!==null&&(vt=a=a.return);continue}break}while(!0)}function um(){var n=Ca.current;return Ca.current=xa,n===null?xa:n}function Au(){(_t===0||_t===3||_t===2)&&(_t=4),Rt===null||(so&268435455)===0&&(Ra&268435455)===0||Lr(Rt,At)}function Oa(n,o){var a=Ve;Ve|=2;var u=um();(Rt!==n||At!==o)&&(cr=null,ao(n,o));do try{Db();break}catch(p){cm(n,p)}while(!0);if(Wc(),Ve=a,Ca.current=u,vt!==null)throw Error(r(261));return Rt=null,At=0,_t}function Db(){for(;vt!==null;)dm(vt)}function Mb(){for(;vt!==null&&!ax();)dm(vt)}function dm(n){var o=mm(n.alternate,n,sn);n.memoizedProps=n.pendingProps,o===null?fm(n):vt=o,_u.current=null}function fm(n){var o=n;do{var a=o.alternate;if(n=o.return,(o.flags&32768)===0){if(a=Tb(a,o,sn),a!==null){vt=a;return}}else{if(a=Nb(a,o),a!==null){a.flags&=32767,vt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{_t=6,vt=null;return}}if(o=o.sibling,o!==null){vt=o;return}vt=o=n}while(o!==null);_t===0&&(_t=5)}function lo(n,o,a){var u=Ye,p=wn.transition;try{wn.transition=null,Ye=1,$b(n,o,a,u)}finally{wn.transition=p,Ye=u}return null}function $b(n,o,a,u){do Zo();while(Mr!==null);if((Ve&6)!==0)throw Error(r(327));a=n.finishedWork;var p=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var y=a.lanes|a.childLanes;if(vx(n,y),n===Rt&&(vt=Rt=null,At=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Na||(Na=!0,gm($i,function(){return Zo(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=wn.transition,wn.transition=null;var k=Ye;Ye=1;var N=Ve;Ve|=4,_u.current=null,Ab(n,a),nm(a,n),rb(Ac),Wi=!!jc,Ac=jc=null,n.current=a,Pb(a),lx(),Ve=N,Ye=k,wn.transition=y}else n.current=a;if(Na&&(Na=!1,Mr=n,ja=p),y=n.pendingLanes,y===0&&(Dr=null),dx(a.stateNode),Jt(n,pt()),o!==null)for(u=n.onRecoverableError,a=0;a<o.length;a++)p=o[a],u(p.value,{componentStack:p.stack,digest:p.digest});if(Ta)throw Ta=!1,n=Eu,Eu=null,n;return(ja&1)!==0&&n.tag!==0&&Zo(),y=n.pendingLanes,(y&1)!==0?n===Cu?ai++:(ai=0,Cu=n):ai=0,Ar(),null}function Zo(){if(Mr!==null){var n=eh(ja),o=wn.transition,a=Ye;try{if(wn.transition=null,Ye=16>n?16:n,Mr===null)var u=!1;else{if(n=Mr,Mr=null,ja=0,(Ve&6)!==0)throw Error(r(331));var p=Ve;for(Ve|=4,pe=n.current;pe!==null;){var y=pe,k=y.child;if((pe.flags&16)!==0){var N=y.deletions;if(N!==null){for(var P=0;P<N.length;P++){var W=N[P];for(pe=W;pe!==null;){var ne=pe;switch(ne.tag){case 0:case 11:case 15:oi(8,ne,y)}var re=ne.child;if(re!==null)re.return=ne,pe=re;else for(;pe!==null;){ne=pe;var te=ne.sibling,de=ne.return;if(Xp(ne),ne===W){pe=null;break}if(te!==null){te.return=de,pe=te;break}pe=de}}}var me=y.alternate;if(me!==null){var ye=me.child;if(ye!==null){me.child=null;do{var mt=ye.sibling;ye.sibling=null,ye=mt}while(ye!==null)}}pe=y}}if((y.subtreeFlags&2064)!==0&&k!==null)k.return=y,pe=k;else e:for(;pe!==null;){if(y=pe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:oi(9,y,y.return)}var U=y.sibling;if(U!==null){U.return=y.return,pe=U;break e}pe=y.return}}var I=n.current;for(pe=I;pe!==null;){k=pe;var F=k.child;if((k.subtreeFlags&2064)!==0&&F!==null)F.return=k,pe=F;else e:for(k=I;pe!==null;){if(N=pe,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Ea(9,N)}}catch(xe){ft(N,N.return,xe)}if(N===k){pe=null;break e}var ie=N.sibling;if(ie!==null){ie.return=N.return,pe=ie;break e}pe=N.return}}if(Ve=p,Ar(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Li,n)}catch{}u=!0}return u}finally{Ye=a,wn.transition=o}}return!1}function hm(n,o,a){o=Yo(a,o),o=Ap(n,o,1),n=Or(n,o,1),o=Vt(),n!==null&&(As(n,1,o),Jt(n,o))}function ft(n,o,a){if(n.tag===3)hm(n,n,a);else for(;o!==null;){if(o.tag===3){hm(o,n,a);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Dr===null||!Dr.has(u))){n=Yo(a,n),n=Pp(o,n,1),o=Or(o,n,1),n=Vt(),o!==null&&(As(o,1,n),Jt(o,n));break}}o=o.return}}function Lb(n,o,a){var u=n.pingCache;u!==null&&u.delete(o),o=Vt(),n.pingedLanes|=n.suspendedLanes&a,Rt===n&&(At&a)===a&&(_t===4||_t===3&&(At&130023424)===At&&500>pt()-ku?ao(n,0):Su|=a),Jt(n,o)}function pm(n,o){o===0&&((n.mode&1)===0?o=1:(o=Fi,Fi<<=1,(Fi&130023424)===0&&(Fi=4194304)));var a=Vt();n=ir(n,o),n!==null&&(As(n,o,a),Jt(n,a))}function Ub(n){var o=n.memoizedState,a=0;o!==null&&(a=o.retryLane),pm(n,a)}function Fb(n,o){var a=0;switch(n.tag){case 13:var u=n.stateNode,p=n.memoizedState;p!==null&&(a=p.retryLane);break;case 19:u=n.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(o),pm(n,a)}var mm;mm=function(n,o,a){if(n!==null)if(n.memoizedProps!==o.pendingProps||Kt.current)Gt=!0;else{if((n.lanes&a)===0&&(o.flags&128)===0)return Gt=!1,Rb(n,o,a);Gt=(n.flags&131072)!==0}else Gt=!1,at&&(o.flags&1048576)!==0&&Gh(o,la,o.index);switch(o.lanes=0,o.tag){case 2:var u=o.type;Sa(n,o),n=o.pendingProps;var p=zo(o,Mt.current);qo(o,a),p=tu(null,o,u,n,p,a);var y=nu();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,qt(u)?(y=!0,sa(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Gc(o),p.updater=ba,o.stateNode=p,p._reactInternals=o,lu(o,u,n,a),o=fu(null,o,u,!0,y,a)):(o.tag=0,at&&y&&Lc(o),Bt(null,o,p,a),o=o.child),o;case 16:u=o.elementType;e:{switch(Sa(n,o),n=o.pendingProps,p=u._init,u=p(u._payload),o.type=u,p=o.tag=Bb(u),n=Cn(u,n),p){case 0:o=du(null,o,u,n,a);break e;case 1:o=zp(null,o,u,n,a);break e;case 11:o=Mp(null,o,u,n,a);break e;case 14:o=$p(null,o,u,Cn(u.type,n),a);break e}throw Error(r(306,u,""))}return o;case 0:return u=o.type,p=o.pendingProps,p=o.elementType===u?p:Cn(u,p),du(n,o,u,p,a);case 1:return u=o.type,p=o.pendingProps,p=o.elementType===u?p:Cn(u,p),zp(n,o,u,p,a);case 3:e:{if(Bp(o),n===null)throw Error(r(387));u=o.pendingProps,y=o.memoizedState,p=y.element,rp(n,o),pa(o,u,null,a);var k=o.memoizedState;if(u=k.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=Yo(Error(r(423)),o),o=Vp(n,o,u,a,p);break e}else if(u!==p){p=Yo(Error(r(424)),o),o=Vp(n,o,u,a,p);break e}else for(on=Tr(o.stateNode.containerInfo.firstChild),rn=o,at=!0,En=null,a=tp(o,null,u,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Wo(),u===p){o=lr(n,o,a);break e}Bt(n,o,u,a)}o=o.child}return o;case 5:return ip(o),n===null&&zc(o),u=o.type,p=o.pendingProps,y=n!==null?n.memoizedProps:null,k=p.children,Pc(u,p)?k=null:y!==null&&Pc(u,y)&&(o.flags|=32),Fp(n,o),Bt(n,o,k,a),o.child;case 6:return n===null&&zc(o),null;case 13:return Wp(n,o,a);case 4:return Yc(o,o.stateNode.containerInfo),u=o.pendingProps,n===null?o.child=Ho(o,null,u,a):Bt(n,o,u,a),o.child;case 11:return u=o.type,p=o.pendingProps,p=o.elementType===u?p:Cn(u,p),Mp(n,o,u,p,a);case 7:return Bt(n,o,o.pendingProps,a),o.child;case 8:return Bt(n,o,o.pendingProps.children,a),o.child;case 12:return Bt(n,o,o.pendingProps.children,a),o.child;case 10:e:{if(u=o.type._context,p=o.pendingProps,y=o.memoizedProps,k=p.value,tt(da,u._currentValue),u._currentValue=k,y!==null)if(kn(y.value,k)){if(y.children===p.children&&!Kt.current){o=lr(n,o,a);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var N=y.dependencies;if(N!==null){k=y.child;for(var P=N.firstContext;P!==null;){if(P.context===u){if(y.tag===1){P=ar(-1,a&-a),P.tag=2;var W=y.updateQueue;if(W!==null){W=W.shared;var ne=W.pending;ne===null?P.next=P:(P.next=ne.next,ne.next=P),W.pending=P}}y.lanes|=a,P=y.alternate,P!==null&&(P.lanes|=a),Kc(y.return,a,o),N.lanes|=a;break}P=P.next}}else if(y.tag===10)k=y.type===o.type?null:y.child;else if(y.tag===18){if(k=y.return,k===null)throw Error(r(341));k.lanes|=a,N=k.alternate,N!==null&&(N.lanes|=a),Kc(k,a,o),k=y.sibling}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===o){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}Bt(n,o,p.children,a),o=o.child}return o;case 9:return p=o.type,u=o.pendingProps.children,qo(o,a),p=vn(p),u=u(p),o.flags|=1,Bt(n,o,u,a),o.child;case 14:return u=o.type,p=Cn(u,o.pendingProps),p=Cn(u.type,p),$p(n,o,u,p,a);case 15:return Lp(n,o,o.type,o.pendingProps,a);case 17:return u=o.type,p=o.pendingProps,p=o.elementType===u?p:Cn(u,p),Sa(n,o),o.tag=1,qt(u)?(n=!0,sa(o)):n=!1,qo(o,a),Np(o,u,p),lu(o,u,p,a),fu(null,o,u,!0,n,a);case 19:return Kp(n,o,a);case 22:return Up(n,o,a)}throw Error(r(156,o.tag))};function gm(n,o){return Yf(n,o)}function zb(n,o,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(n,o,a,u){return new zb(n,o,a,u)}function Pu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Bb(n){if(typeof n=="function")return Pu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===le)return 11;if(n===se)return 14}return 2}function Ur(n,o){var a=n.alternate;return a===null?(a=xn(n.tag,o,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=o,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,o=n.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Ia(n,o,a,u,p,y){var k=2;if(u=n,typeof n=="function")Pu(n)&&(k=1);else if(typeof n=="string")k=5;else e:switch(n){case M:return co(a.children,p,y,o);case $:k=8,p|=8;break;case H:return n=xn(12,a,o,p|2),n.elementType=H,n.lanes=y,n;case Y:return n=xn(13,a,o,p),n.elementType=Y,n.lanes=y,n;case ce:return n=xn(19,a,o,p),n.elementType=ce,n.lanes=y,n;case J:return Da(a,p,y,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Z:k=10;break e;case oe:k=9;break e;case le:k=11;break e;case se:k=14;break e;case G:k=16,u=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return o=xn(k,a,o,p),o.elementType=n,o.type=u,o.lanes=y,o}function co(n,o,a,u){return n=xn(7,n,u,o),n.lanes=a,n}function Da(n,o,a,u){return n=xn(22,n,u,o),n.elementType=J,n.lanes=a,n.stateNode={isHidden:!1},n}function Ou(n,o,a){return n=xn(6,n,null,o),n.lanes=a,n}function Iu(n,o,a){return o=xn(4,n.children!==null?n.children:[],n.key,o),o.lanes=a,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function Vb(n,o,a,u,p){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ac(0),this.expirationTimes=ac(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ac(0),this.identifierPrefix=u,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Du(n,o,a,u,p,y,k,N,P){return n=new Vb(n,o,a,N,P),o===1?(o=1,y===!0&&(o|=8)):o=0,y=xn(3,null,null,o),n.current=y,y.stateNode=n,y.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(y),n}function Wb(n,o,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:u==null?null:""+u,children:n,containerInfo:o,implementation:a}}function vm(n){if(!n)return jr;n=n._reactInternals;e:{if(Xr(n)!==n||n.tag!==1)throw Error(r(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(qt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(n.tag===1){var a=n.type;if(qt(a))return Hh(n,a,o)}return o}function ym(n,o,a,u,p,y,k,N,P){return n=Du(a,u,!0,n,p,y,k,N,P),n.context=vm(null),a=n.current,u=Vt(),p=$r(a),y=ar(u,p),y.callback=o??null,Or(a,y,p),n.current.lanes=p,As(n,p,u),Jt(n,u),n}function Ma(n,o,a,u){var p=o.current,y=Vt(),k=$r(p);return a=vm(a),o.context===null?o.context=a:o.pendingContext=a,o=ar(y,k),o.payload={element:n},u=u===void 0?null:u,u!==null&&(o.callback=u),n=Or(p,o,k),n!==null&&(Nn(n,p,k,y),ha(n,p,k)),k}function $a(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function wm(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<o?a:o}}function Mu(n,o){wm(n,o),(n=n.alternate)&&wm(n,o)}function Hb(){return null}var xm=typeof reportError=="function"?reportError:function(n){console.error(n)};function $u(n){this._internalRoot=n}La.prototype.render=$u.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(r(409));Ma(n,o,null,null)},La.prototype.unmount=$u.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;io(function(){Ma(null,n,null,null)}),o[nr]=null}};function La(n){this._internalRoot=n}La.prototype.unstable_scheduleHydration=function(n){if(n){var o=rh();n={blockedOn:null,target:n,priority:o};for(var a=0;a<Er.length&&o!==0&&o<Er[a].priority;a++);Er.splice(a,0,n),a===0&&ih(n)}};function Lu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ua(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function bm(){}function Kb(n,o,a,u,p){if(p){if(typeof u=="function"){var y=u;u=function(){var W=$a(k);y.call(W)}}var k=ym(o,u,n,0,null,!1,!1,"",bm);return n._reactRootContainer=k,n[nr]=k.current,Hs(n.nodeType===8?n.parentNode:n),io(),k}for(;p=n.lastChild;)n.removeChild(p);if(typeof u=="function"){var N=u;u=function(){var W=$a(P);N.call(W)}}var P=Du(n,0,!1,null,null,!1,!1,"",bm);return n._reactRootContainer=P,n[nr]=P.current,Hs(n.nodeType===8?n.parentNode:n),io(function(){Ma(o,P,a,u)}),P}function Fa(n,o,a,u,p){var y=a._reactRootContainer;if(y){var k=y;if(typeof p=="function"){var N=p;p=function(){var P=$a(k);N.call(P)}}Ma(o,k,n,p)}else k=Kb(a,o,n,p,u);return $a(k)}th=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var a=js(o.pendingLanes);a!==0&&(lc(o,a|1),Jt(o,pt()),(Ve&6)===0&&(Qo=pt()+500,Ar()))}break;case 13:io(function(){var u=ir(n,1);if(u!==null){var p=Vt();Nn(u,n,1,p)}}),Mu(n,1)}},cc=function(n){if(n.tag===13){var o=ir(n,134217728);if(o!==null){var a=Vt();Nn(o,n,134217728,a)}Mu(n,134217728)}},nh=function(n){if(n.tag===13){var o=$r(n),a=ir(n,o);if(a!==null){var u=Vt();Nn(a,n,o,u)}Mu(n,o)}},rh=function(){return Ye},oh=function(n,o){var a=Ye;try{return Ye=n,o()}finally{Ye=a}},ze=function(n,o,a){switch(o){case"input":if(It(n,a),o=a.name,a.type==="radio"&&o!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<a.length;o++){var u=a[o];if(u!==n&&u.form===n.form){var p=ra(u);if(!p)throw Error(r(90));Je(u),It(u,p)}}}break;case"textarea":er(n,a);break;case"select":o=a.value,o!=null&&ot(n,!!a.multiple,o,!1)}},Xe=Nu,Qe=io;var qb={usingClientEntryPoint:!1,Events:[Gs,Uo,ra,be,Ue,Nu]},li={findFiberByHostInstance:Qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gb={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=qf(n),n===null?null:n.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||Hb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!za.isDisabled&&za.supportsFiber)try{Li=za.inject(Gb),Fn=za}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qb,Xt.createPortal=function(n,o){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lu(o))throw Error(r(200));return Wb(n,o,null,a)},Xt.createRoot=function(n,o){if(!Lu(n))throw Error(r(299));var a=!1,u="",p=xm;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=Du(n,1,!1,null,null,a,!1,u,p),n[nr]=o.current,Hs(n.nodeType===8?n.parentNode:n),new $u(o)},Xt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=qf(o),n=n===null?null:n.stateNode,n},Xt.flushSync=function(n){return io(n)},Xt.hydrate=function(n,o,a){if(!Ua(o))throw Error(r(200));return Fa(null,n,o,!0,a)},Xt.hydrateRoot=function(n,o,a){if(!Lu(n))throw Error(r(405));var u=a!=null&&a.hydratedSources||null,p=!1,y="",k=xm;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(k=a.onRecoverableError)),o=ym(o,null,n,1,a??null,p,!1,y,k),n[nr]=o.current,Hs(n),u)for(n=0;n<u.length;n++)a=u[n],p=a._getVersion,p=p(a._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[a,p]:o.mutableSourceEagerHydrationData.push(a,p);return new La(o)},Xt.render=function(n,o,a){if(!Ua(o))throw Error(r(200));return Fa(null,n,o,!1,a)},Xt.unmountComponentAtNode=function(n){if(!Ua(n))throw Error(r(40));return n._reactRootContainer?(io(function(){Fa(null,null,n,!1,function(){n._reactRootContainer=null,n[nr]=null})}),!0):!1},Xt.unstable_batchedUpdates=Nu,Xt.unstable_renderSubtreeIntoContainer=function(n,o,a,u){if(!Ua(a))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Fa(n,o,a,!1,u)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var Nm;function Xg(){if(Nm)return zu.exports;Nm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zu.exports=n_(),zu.exports}var jm;function r_(){if(jm)return Ba;jm=1;var t=Xg();return Ba.createRoot=t.createRoot,Ba.hydrateRoot=t.hydrateRoot,Ba}var o_=r_();const s_="modulepreload",i_=function(t){return"/csanyi-projekt/"+t},Am={},Qg=function(e,r,s){let i=Promise.resolve();if(r&&r.length>0){let c=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");i=c(r.map(m=>{if(m=i_(m),m in Am)return;Am[m]=!0;const v=m.endsWith(".css"),g=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${g}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":s_,v||(x.as="script"),x.crossOrigin="",x.href=m,h&&x.setAttribute("nonce",h),document.head.appendChild(x),v)return new Promise((b,S)=>{x.addEventListener("load",b),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};var w=qd();const z=Jg(w),Gd=Jb({__proto__:null,default:z},[w]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l_=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),Pm=t=>{const e=l_(t);return e.charAt(0).toUpperCase()+e.slice(1)},Zg=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:c,...d},h)=>w.createElement("svg",{ref:h,...c_,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:Zg("lucide",i),...d},[...c.map(([m,v])=>w.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(t,e)=>{const r=w.forwardRef(({className:s,...i},l)=>w.createElement(u_,{ref:l,iconNode:e,className:Zg(`lucide-${a_(Pm(t))}`,`lucide-${t}`,s),...i}));return r.displayName=Pm(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ul=He("arrow-left",d_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bo=He("check",f_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],p_=He("chevron-down",h_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ev=He("chevron-up",m_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],tv=He("circle-alert",g_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],y_=He("circle-help",v_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],x_=He("copy",w_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],__=He("download",b_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],k_=He("ellipsis-vertical",S_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],C_=He("external-link",E_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],T_=He("image",R_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_o=He("loader-circle",N_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],A_=He("log-out",j_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],O_=He("mail",P_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],wo=He("mic",I_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}]],M_=He("move-horizontal",D_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],nv=He("music",$_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],dl=He("pause",L_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ys=He("play",U_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fl=He("plus",F_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],B_=He("repeat",z_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],W_=He("rotate-ccw",V_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Wu=He("search",H_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],q_=He("settings-2",K_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Y_=He("share-2",G_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],X_=He("shield",J_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],rv=He("square",Q_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ov=He("trash-2",Z_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sv=He("triangle-alert",eS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],On=He("upload",tS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iv=He("user",nS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],av=He("volume-2",rS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yi=He("x",oS);var Kn=function(){return Kn=Object.assign||function(e){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},Kn.apply(this,arguments)};function bs(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r}function sS(t,e,r,s){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(v){try{m(s.next(v))}catch(g){c(g)}}function h(v){try{m(s.throw(v))}catch(g){c(g)}}function m(v){v.done?l(v.value):i(v.value).then(d,h)}m((s=s.apply(t,e||[])).next())})}function iS(t,e,r){if(r||arguments.length===2)for(var s=0,i=e.length,l;s<i;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return t.concat(l||Array.prototype.slice.call(e))}const aS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Yd extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class lS extends Yd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Om extends Yd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Im extends Yd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(gd||(gd={}));class cS{constructor(e,{headers:r={},customFetch:s,region:i=gd.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=aS(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return sS(this,arguments,void 0,function*(r,s={}){var i;let l,c;try{const{headers:d,method:h,body:m,signal:v,timeout:g}=s;let x={},{region:b}=s;b||(b=this.region);const S=new URL(`${this.url}/${r}`);b&&b!=="any"&&(x["x-region"]=b,S.searchParams.set("forceFunctionRegion",b));let _;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",_=m):typeof m=="string"?(x["Content-Type"]="text/plain",_=m):typeof FormData<"u"&&m instanceof FormData?_=m:(x["Content-Type"]="application/json",_=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?_=JSON.stringify(m):_=m;let C=v;g&&(c=new AbortController,l=setTimeout(()=>c.abort(),g),v?(C=c.signal,v.addEventListener("abort",()=>c.abort())):C=c.signal);const E=yield this.fetch(S.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),d),body:_,signal:C}).catch(B=>{throw new lS(B)}),j=E.headers.get("x-relay-error");if(j&&j==="true")throw new Om(E);if(!E.ok)throw new Im(E);let T=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),R;return T==="application/json"?R=yield E.json():T==="application/octet-stream"||T==="application/pdf"?R=yield E.blob():T==="text/event-stream"?R=E:T==="multipart/form-data"?R=yield E.formData():R=yield E.text(),{data:R,error:null,response:E}}catch(d){return{data:null,error:d,response:d instanceof Im||d instanceof Om?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var uS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},dS=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,d=null,h=null,m=l.status,v=l.statusText;if(l.ok){var g,x;if(r.method!=="HEAD"){var b;const E=await l.text();E===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((b=r.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?d=E:d=JSON.parse(E))}const _=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),C=(x=l.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");_&&C&&C.length>1&&(h=parseInt(C[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var S;const _=await l.text();try{c=JSON.parse(_),Array.isArray(c)&&l.status===404&&(d=[],c=null,m=200,v="OK")}catch{l.status===404&&_===""?(m=204,v="No Content"):c={message:_}}if(c&&r.isMaybeSingle&&(!(c==null||(S=c.details)===null||S===void 0)&&S.includes("0 rows"))&&(c=null,m=200,v="OK"),c&&r.shouldThrowOnError)throw new uS(c)}return{error:c,data:d,count:h,status:m,statusText:v}});return this.shouldThrowOnError||(i=i.catch(l=>{var c;let d="";const h=l?.cause;if(h){var m,v,g,x;const S=(m=h?.message)!==null&&m!==void 0?m:"",_=(v=h?.code)!==null&&v!==void 0?v:"";d=`${(g=l?.name)!==null&&g!==void 0?g:"FetchError"}: ${l?.message}`,d+=`

Caused by: ${(x=h?.name)!==null&&x!==void 0?x:"Error"}: ${S}`,_&&(d+=` (${_})`),h?.stack&&(d+=`
${h.stack}`)}else{var b;d=(b=l?.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(c=l?.name)!==null&&c!==void 0?c:"FetchError"}: ${l?.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},fS=class extends dS{select(t){let e=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var c;const d=[t?"analyze":null,e?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Dm=new RegExp("[,()]");var us=class extends fS{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(s=>typeof s=="string"&&Dm.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(s=>typeof s=="string"&&Dm.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},hS=class{constructor(t,{headers:e={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:s}=e??{},i=r?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(m=>/\s/.test(m)&&!l?"":(m==='"'&&(l=!l),m)).join(""),{url:d,headers:h}=this.cloneRequestState();return d.searchParams.set("select",c),s&&h.append("Prefer",`count=${s}`),new us({method:i,url:d,headers:h,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var s;const i="POST",{url:l,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),r||c.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);l.searchParams.set("columns",h.join(","))}}return new us({method:i,url:l,headers:c,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var l;const c="POST",{url:d,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&d.searchParams.set("on_conflict",e),s&&h.append("Prefer",`count=${s}`),i||h.append("Prefer","missing=default"),Array.isArray(t)){const m=t.reduce((v,g)=>v.concat(Object.keys(g)),[]);if(m.length>0){const v=[...new Set(m)].map(g=>`"${g}"`);d.searchParams.set("columns",v.join(","))}}return new us({method:c,url:d,headers:h,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var r;const s="PATCH",{url:i,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new us({method:s,url:i,headers:l,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new us({method:r,url:s,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},pS=class lv{constructor(e,{headers:r={},schema:s,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=s,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new hS(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new lv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:s=!1,get:i=!1,count:l}={}){var c;let d;const h=new URL(`${this.url}/rpc/${e}`);let m;const v=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(v)),g=s&&Object.values(r).some(v);g?(d="POST",m=r):s||i?(d=s?"HEAD":"GET",Object.entries(r).filter(([b,S])=>S!==void 0).map(([b,S])=>[b,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([b,S])=>{h.searchParams.append(b,S)})):(d="POST",m=r);const x=new Headers(this.headers);return g?x.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&x.set("Prefer",`count=${l}`),new us({method:d,url:h,headers:x,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class mS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const i=s.node,l=parseInt(i.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const gS="2.93.3",vS=`realtime-js/${gS}`,yS="1.0.0",cv="2.0.0",Mm=cv,vd=1e4,wS=1e3,xS=100;var Vr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Vr||(Vr={}));var kt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(kt||(kt={}));var Pn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Pn||(Pn={}));var yd;(function(t){t.websocket="websocket"})(yd||(yd={}));var go;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(go||(go={}));class bS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const i=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,s;const i=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,s){var i,l;const c=e.topic,d=(i=e.ref)!==null&&i!==void 0?i:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},g=Object.keys(v).length===0?"":JSON.stringify(v);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+c.length+m.length+g.length,b=new ArrayBuffer(this.HEADER_LENGTH+x);let S=new DataView(b),_=0;S.setUint8(_++,this.KINDS.userBroadcastPush),S.setUint8(_++,h.length),S.setUint8(_++,d.length),S.setUint8(_++,c.length),S.setUint8(_++,m.length),S.setUint8(_++,g.length),S.setUint8(_++,r),Array.from(h,E=>S.setUint8(_++,E.charCodeAt(0))),Array.from(d,E=>S.setUint8(_++,E.charCodeAt(0))),Array.from(c,E=>S.setUint8(_++,E.charCodeAt(0))),Array.from(m,E=>S.setUint8(_++,E.charCodeAt(0))),Array.from(g,E=>S.setUint8(_++,E.charCodeAt(0)));var C=new Uint8Array(b.byteLength+s.byteLength);return C.set(new Uint8Array(b),0),C.set(new Uint8Array(s),b.byteLength),C.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[i,l,c,d,h]=s;return r({join_ref:i,ref:l,topic:c,event:d,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),i=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,s){const i=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3),d=r.getUint8(4);let h=this.HEADER_LENGTH+4;const m=s.decode(e.slice(h,h+i));h=h+i;const v=s.decode(e.slice(h,h+l));h=h+l;const g=s.decode(e.slice(h,h+c));h=h+c;const x=e.slice(h,e.byteLength),b=d===this.JSON_ENCODING?JSON.parse(s.decode(x)):x,S={type:this.BROADCAST_EVENT,event:v,payload:b};return c>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>r.includes(s)))}}class uv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(nt||(nt={}));const $m=(t,e,r={})=>{var s;const i=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=_S(c,t,e,i),l),{}):{}},_S=(t,e,r,s)=>{const i=e.find(d=>d.name===t),l=i?.type,c=r[t];return l&&!s.includes(l)?dv(l,c):wd(c)},dv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return CS(e,r)}switch(t){case nt.bool:return SS(e);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return kS(e);case nt.json:case nt.jsonb:return ES(e);case nt.timestamp:return RS(e);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return wd(e);default:return wd(e)}},wd=t=>t,SS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},kS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ES=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},CS=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let l;const c=t.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>dv(e,d))}return t},RS=t=>typeof t=="string"?t.replace(" ","T"):t,fv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Hu{constructor(e,r,s={},i=vd){this.channel=e,this.event=r,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Lm||(Lm={}));class wi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wi.syncState(this.state,i,l,c),this.pendingDiffs.forEach(h=>{this.state=wi.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=wi.syncDiff(this.state,i,l,c),d())}),this.onJoin((i,l,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:c})}),this.onLeave((i,l,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,i){const l=this.cloneDeep(e),c=this.transformState(r),d={},h={};return this.map(l,(m,v)=>{c[m]||(h[m]=v)}),this.map(c,(m,v)=>{const g=l[m];if(g){const x=v.map(C=>C.presence_ref),b=g.map(C=>C.presence_ref),S=v.filter(C=>b.indexOf(C.presence_ref)<0),_=g.filter(C=>x.indexOf(C.presence_ref)<0);S.length>0&&(d[m]=S),_.length>0&&(h[m]=_)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:h},s,i)}static syncDiff(e,r,s,i){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(l,(d,h)=>{var m;const v=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),v.length>0){const g=e[d].map(b=>b.presence_ref),x=v.filter(b=>g.indexOf(b.presence_ref)<0);e[d].unshift(...x)}s(d,v,h)}),this.map(c,(d,h)=>{let m=e[d];if(!m)return;const v=h.map(g=>g.presence_ref);m=m.filter(g=>v.indexOf(g.presence_ref)<0),e[d]=m,i(d,m,h),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const i=e[s];return"metas"in i?r[s]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[s]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Um;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Um||(Um={}));var xi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xi||(xi={}));var dr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(dr||(dr={}));class hs{constructor(e,r={config:{}},s){var i,l;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Hu(this,Pn.join,this.params,this.timeout),this.rejoinTimer=new uv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pn.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new wi(this),this.broadcastEndpointURL=fv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,m=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(b=>b.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[xi.PRESENCE]&&this.bindings[xi.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,g={},x={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(dr.CHANNEL_ERROR,b)),this._onClose(()=>e?.(dr.CLOSED)),this.updateJoinPayload(Object.assign({config:x},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e?.(dr.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,C=(S=_?.length)!==null&&S!==void 0?S:0,E=[];for(let j=0;j<C;j++){const T=_[j],{filter:{event:R,schema:B,table:L,filter:M}}=T,$=b&&b[j];if($&&$.event===R&&hs.isFilterValueEqual($.schema,B)&&hs.isFilterValueEqual($.table,L)&&hs.isFilterValueEqual($.filter,M))E.push(Object.assign(Object.assign({},T),{id:$.id}));else{this.unsubscribe(),this.state=kt.errored,e?.(dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(dr.SUBSCRIBED);return}}).receive("error",b=>{this.state=kt.errored,e?.(dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===kt.joined&&e===xi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=kt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new Hu(this,Pn.leave,{},e),s.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const i=new AbortController,l=setTimeout(()=>i.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),c}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Hu(this,e,r,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>xS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var i,l;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:v}=Pn;if(s&&[d,h,m,v].indexOf(c)>=0&&s!==this._joinRef())return;let x=this._onMessage(c,r,s);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var S,_,C;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((C=(_=b.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(b=>b.callback(x,s)):(l=this.bindings[c])===null||l===void 0||l.filter(b=>{var S,_,C,E,j,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const R=b.id,B=(S=b.filter)===null||S===void 0?void 0:S.event;return R&&((_=r.ids)===null||_===void 0?void 0:_.includes(R))&&(B==="*"||B?.toLocaleLowerCase()===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const R=(j=(E=b?.filter)===null||E===void 0?void 0:E.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return R==="*"||R===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof x=="object"&&"ids"in x){const S=x.data,{schema:_,table:C,commit_timestamp:E,type:j,errors:T}=S;x=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:E,eventType:j,new:{},old:{},errors:T}),this._getPayloadRecords(S))}b.callback(x,s)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const i=e.toLocaleLowerCase(),l={type:i,filter:r,callback:s};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&hs.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Pn.close,{},e)}_onError(e){this._on(Pn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=$m(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=$m(e.columns,e.old_record)),r}}const Ku=()=>{},Va={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TS=[1e3,2e3,5e3,1e4],NS=1e4,jS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AS{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vd,this.transport=null,this.heartbeatIntervalMs=Va.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ku,this.ref=0,this.reconnectTimer=null,this.vsn=Mm,this.logger=Ku,this.conn=null,this.sendBuffer=[],this.serializer=new bS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...l)=>i(...l):(...l)=>fetch(...l),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${yd.websocket}`,this.httpEndpoint=fv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Vr.connecting:return go.Connecting;case Vr.open:return go.Open;case Vr.closing:return go.Closing;default:return go.Closed}}isConnected(){return this.connectionState()===go.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===s);if(i)return i;{const l=new hs(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:s,payload:i,ref:l}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${s} (${l})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(wS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Va.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",m)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:i,payload:l,ref:c}=r,d=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${s} ${i} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(i,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Vr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Vr.open||this.conn.readyState===Vr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Pn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${s}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([jS],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,s=!1;if(e)r=e,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:vS};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Pn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new uv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Va.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,i,l,c,d,h,m,v,g,x,b;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:vd,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Va.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Ku,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:Mm,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(S=>TS[S-1]||NS),this.vsn){case yS:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((S,_)=>_(JSON.stringify(S))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:((S,_)=>_(JSON.parse(S)));break;case cv:this.encode=(x=e?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var bi=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function PS(t,e,r){const s=new URL(e,t);if(r)for(const[i,l]of Object.entries(r))l!==void 0&&s.searchParams.set(i,l);return s.toString()}async function OS(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function IS(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:i,body:l,headers:c}){const d=PS(t.baseUrl,s,i),h=await OS(t.auth),m=await e(d,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...c},body:l?JSON.stringify(l):void 0}),v=await m.text(),g=(m.headers.get("content-type")||"").includes("application/json"),x=g&&v?JSON.parse(v):v;if(!m.ok){const b=g?x:void 0,S=b?.error;throw new bi(S?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:S?.type,icebergCode:S?.code,details:b})}return{status:m.status,headers:m.headers,data:x}}}}function Wa(t){return t.join("")}var DS=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Wa(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wa(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wa(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wa(t.namespace)}`}),!0}catch(e){if(e instanceof bi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof bi&&r.status===409)return;throw r}}};function es(t){return t.join("")}var MS=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${es(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof bi&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof bi&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},$S=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=IS({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new DS(this.client,e),this.tableOps=new MS(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},jl=class extends Error{constructor(t,e="storage",r,s){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=s}};function Al(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Ha=class extends jl{constructor(t,e,r,s="storage"){super(t,s,e,r),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hv=class extends jl{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const LS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),US=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},xd=t=>{if(Array.isArray(t))return t.map(r=>xd(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=xd(s)}),e},FS=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function _i(t){"@babel/helpers - typeof";return _i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_i(t)}function zS(t,e){if(_i(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(_i(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BS(t){var e=zS(t,"string");return _i(e)=="symbol"?e:e+""}function VS(t,e,r){return(e=BS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function Ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fm(Object(r),!0).forEach(function(s){VS(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fm(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}const zm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},WS=async(t,e,r,s)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t,l=i.status||500;if(typeof i.json=="function")i.json().then(c=>{const d=c?.statusCode||c?.code||l+"";e(new Ha(zm(c),l,d,s))}).catch(()=>{if(s==="vectors"){const c=l+"";e(new Ha(i.statusText||`HTTP ${l} error`,l,c,s))}else{const c=l+"";e(new Ha(i.statusText||`HTTP ${l} error`,l,c,s))}});else{const c=l+"";e(new Ha(i.statusText||`HTTP ${l} error`,l,c,s))}}else e(new hv(zm(t),t,s))},HS=(t,e,r,s)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!s?Ae(Ae({},i),r):(US(s)?(i.headers=Ae({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,e?.duplex&&(i.duplex=e.duplex),Ae(Ae({},i),r))};async function ui(t,e,r,s,i,l,c){return new Promise((d,h)=>{t(r,HS(e,s,i,l)).then(m=>{if(!m.ok)throw m;if(s?.noResolveJson)return m;if(c==="vectors"){const v=m.headers.get("content-type");if(m.headers.get("content-length")==="0"||m.status===204)return{};if(!v||!v.includes("application/json"))return{}}return m.json()}).then(m=>d(m)).catch(m=>WS(m,h,s,c))})}function pv(t="storage"){return{get:async(e,r,s,i)=>ui(e,"GET",r,s,i,void 0,t),post:async(e,r,s,i,l)=>ui(e,"POST",r,i,l,s,t),put:async(e,r,s,i,l)=>ui(e,"PUT",r,i,l,s,t),head:async(e,r,s,i)=>ui(e,"HEAD",r,Ae(Ae({},s),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,r,s,i,l)=>ui(e,"DELETE",r,i,l,s,t)}}const KS=pv("storage"),{get:Si,post:An,put:bd,head:qS,remove:Jd}=KS,cn=pv("vectors");var _s=class{constructor(t,e={},r,s="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=LS(r),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Al(r))return{data:null,error:r};throw r}}},GS=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Al(e))return{data:null,error:e};throw e}}};let mv;mv=Symbol.toStringTag;var YS=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[mv]="BlobDownloadBuilder",this.promise=null}asStream(){return new GS(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Al(e))return{data:null,error:e};throw e}}};const JS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var XS=class extends _s{constructor(t,e={},r,s){super(t,e,s,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,s){var i=this;return i.handleOperation(async()=>{let l;const c=Ae(Ae({},Bm),s);let d=Ae(Ae({},i.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",i.encodeMetadata(h)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),h&&!l.has("metadata")&&l.append("metadata",i.encodeMetadata(h))):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=i.toBase64(i.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),s?.headers&&(d=Ae(Ae({},d),s.headers));const m=i._removeEmptyFolders(e),v=i._getFinalPath(m),g=await(t=="PUT"?bd:An)(i.fetch,`${i.url}/object/${v}`,l,Ae({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{path:m,id:g.Id,fullPath:g.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,s){var i=this;const l=i._removeEmptyFolders(t),c=i._getFinalPath(l),d=new URL(i.url+`/object/upload/sign/${c}`);return d.searchParams.set("token",e),i.handleOperation(async()=>{let h;const m=Ae({upsert:Bm.upsert},s),v=Ae(Ae({},i.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",m.cacheControl)):(h=r,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType),{path:l,fullPath:(await bd(i.fetch,d.toString(),h,{headers:v})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(t);const i=Ae({},r.headers);e?.upsert&&(i["x-upsert"]="true");const l=await An(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:i}),c=new URL(r.url+l.url),d=c.searchParams.get("token");if(!d)throw new jl("No token returned by API");return{signedUrl:c.toString(),path:t,token:d}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var s=this;return s.handleOperation(async()=>await An(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:s.headers}))}async copy(t,e,r){var s=this;return s.handleOperation(async()=>({path:(await An(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(t,e,r){var s=this;return s.handleOperation(async()=>{let i=s._getFinalPath(t),l=await An(s.fetch,`${s.url}/object/sign/${i}`,Ae({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:s.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${s.url}${l.signedURL}${c}`)}})}async createSignedUrls(t,e,r){var s=this;return s.handleOperation(async()=>{const i=await An(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(c=>Ae(Ae({},c),{},{signedUrl:c.signedURL?encodeURI(`${s.url}${c.signedURL}${l}`):null}))})}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),i=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>Si(this.fetch,`${this.url}/${r}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new YS(c,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>xd(await Si(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await qS(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Al(s)&&s instanceof hv){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const r=this._getFinalPath(t),s=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&s.push(i);const l=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Jd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var s=this;return s.handleOperation(async()=>{const i=Ae(Ae(Ae({},JS),e),{},{prefix:t||""});return await An(s.fetch,`${s.url}/object/list/${s.bucketId}`,i,{headers:s.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const s=Ae({},t);return await An(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const QS="2.93.3",ji={"X-Client-Info":`storage-js/${QS}`};var ZS=class extends _s{constructor(t,e={},r,s){const i=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const l=i.href.replace(/\/$/,""),c=Ae(Ae({},ji),e);super(l,c,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Si(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Si(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await An(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await bd(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await An(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Jd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},ek=class extends _s{constructor(t,e={},r){const s=t.replace(/\/$/,""),i=Ae(Ae({},ji),e);super(s,i,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await An(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const s=r.toString(),i=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return await Si(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Jd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!FS(t))throw new jl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new $S({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(i,l){const c=i[l];return typeof c!="function"?c:async(...d)=>{try{return{data:await c.apply(i,d),error:null}}catch(h){if(s)throw h;return{data:null,error:h}}}}})}},tk=class extends _s{constructor(t,e={},r){const s=t.replace(/\/$/,""),i=Ae(Ae({},ji),{},{"Content-Type":"application/json"},e);super(s,i,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await cn.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await cn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await cn.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await cn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},nk=class extends _s{constructor(t,e={},r){const s=t.replace(/\/$/,""),i=Ae(Ae({},ji),{},{"Content-Type":"application/json"},e);super(s,i,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await cn.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await cn.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await cn.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await cn.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await cn.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},rk=class extends _s{constructor(t,e={},r){const s=t.replace(/\/$/,""),i=Ae(Ae({},ji),{},{"Content-Type":"application/json"},e);super(s,i,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await cn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await cn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await cn.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await cn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},ok=class extends rk{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new sk(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},sk=class extends tk{constructor(t,e,r,s){super(t,e,s),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Ae(Ae({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Ae(Ae({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new ik(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},ik=class extends nk{constructor(t,e,r,s,i){super(t,e,i),this.vectorBucketName=r,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Ae(Ae({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Ae(Ae({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Ae(Ae({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Ae(Ae({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Ae(Ae({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},ak=class extends ZS{constructor(t,e={},r,s){super(t,e,r,s)}from(t){return new XS(this.url,this.headers,t,this.fetch)}get vectors(){return new ok(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ek(this.url+"/iceberg",this.headers,this.fetch)}};const gv="2.93.3",ds=30*1e3,_d=3,qu=_d*ds,lk="http://localhost:9999",ck="supabase.auth.token",uk={"X-Client-Info":`gotrue-js/${gv}`},Sd="X-Supabase-Api-Version",vv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fk=600*1e3;class ki extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function _e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class hk extends ki{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function pk(t){return _e(t)&&t.name==="AuthApiError"}class vo extends ki{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class mr extends ki{constructor(e,r,s,i){super(e,s,i),this.name=r,this.status=s}}class an extends mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gu(t){return _e(t)&&t.name==="AuthSessionMissingError"}class ts extends mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ka extends mr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class qa extends mr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mk(t){return _e(t)&&t.name==="AuthImplicitGrantRedirectError"}class Vm extends mr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gk extends mr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class kd extends mr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Yu(t){return _e(t)&&t.name==="AuthRetryableFetchError"}class Wm extends mr{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Ed extends mr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hm=` 	
\r=`.split(""),vk=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Hm.length;e+=1)t[Hm[e].charCodeAt(0)]=-2;for(let e=0;e<hl.length;e+=1)t[hl[e].charCodeAt(0)]=e;return t})();function Km(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(hl[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(hl[s]),e.queuedBits-=6}}function yv(t,e,r){const s=vk[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function qm(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=c=>{xk(c,s,r)};for(let c=0;c<t.length;c+=1)yv(t.charCodeAt(c),i,l);return e.join("")}function yk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function wk(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}yk(s,e)}}function xk(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ps(t){const e=[],r={queue:0,queuedBits:0},s=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)yv(t.charCodeAt(i),r,s);return new Uint8Array(e)}function bk(t){const e=[];return wk(t,r=>e.push(r)),new Uint8Array(e)}function xo(t){const e=[],r={queue:0,queuedBits:0},s=i=>{e.push(i)};return t.forEach(i=>Km(i,r,s)),Km(null,r,s),e.join("")}function _k(t){return Math.round(Date.now()/1e3)+t}function Sk(){return Symbol("auth-callback")}const Ot=()=>typeof window<"u"&&typeof document<"u",uo={tested:!1,writable:!1},wv=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(uo.tested)return uo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),uo.tested=!0,uo.writable=!0}catch{uo.tested=!0,uo.writable=!1}return uo.writable};function kk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return r.searchParams.forEach((s,i)=>{e[i]=s}),e}const xv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ek=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",fs=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},fo=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Pt=async(t,e)=>{await t.removeItem(e)};class Pl{constructor(){this.promise=new Pl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Pl.promiseConstructor=Promise;function Ga(t){const e=t.split(".");if(e.length!==3)throw new Ed("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!dk.test(e[s]))throw new Ed("JWT not in base64url format");return{header:JSON.parse(qm(e[0])),payload:JSON.parse(qm(e[1])),signature:ps(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ck(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Rk(t,e){return new Promise((s,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){i(c);return}}})()})}function Tk(t){return("0"+t.toString(16)).substr(-2)}function Nk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,Tk).join("")}async function jk(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(s);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function Ak(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await jk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ns(t,e,r=!1){const s=Nk();let i=s;r&&(i+="/PASSWORD_RECOVERY"),await fs(t,`${e}-code-verifier`,i);const l=await Ak(s);return[l,s===l?"plain":"s256"]}const Pk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ok(t){const e=t.headers.get(Sd);if(!e||!e.match(Pk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ik(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Dk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Mk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rs(t){if(!Mk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ju(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $k(t,e){return new Proxy(t,{get:(r,s,i)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,i)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,i)}})}function Gm(t){return JSON.parse(JSON.stringify(t))}const mo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lk=[502,503,504];async function Ym(t){var e;if(!Ek(t))throw new kd(mo(t),0);if(Lk.includes(t.status))throw new kd(mo(t),t.status);let r;try{r=await t.json()}catch(l){throw new vo(mo(l),l)}let s;const i=Ok(t);if(i&&i.getTime()>=vv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Wm(mo(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new an}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Wm(mo(r),t.status,r.weak_password.reasons);throw new hk(mo(r),t.status||500,s)}const Uk=(t,e,r,s)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),r))};async function je(t,e,r,s){var i;const l=Object.assign({},s?.headers);l[Sd]||(l[Sd]=vv["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await Fk(t,e,r+d,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function Fk(t,e,r,s,i,l){const c=Uk(e,s,i,l);let d;try{d=await t(r,Object.assign({},c))}catch(h){throw console.error(h),new kd(mo(h),0)}if(d.ok||await Ym(d),s?.noResolveJson)return d;try{return await d.json()}catch(h){await Ym(h)}}function jn(t){var e;let r=null;Vk(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=_k(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Jm(t){const e=jn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Wr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function zk(t){return{data:t,error:null}}function Bk(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:i,verification_type:l}=t,c=bs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:s,redirect_to:i,verification_type:l},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function Xm(t){return t}function Vk(t){return t.access_token&&t.refresh_token&&t.expires_in}const Xu=["global","local","others"];class Wk{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=xv(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Xu[0]){if(Xu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xu.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wr})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=bs(e,["options"]),i=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Bk,redirectTo:r?.redirectTo})}catch(r){if(_e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Wr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,i,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},v=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:Xm});if(v.error)throw v.error;const g=await v.json(),x=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(S.split(";")[1].split("=")[1]);m[`${C}Page`]=_}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(_e(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){rs(e);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Wr})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){rs(e);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Wr})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){rs(e);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wr})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){rs(e.userId);try{const{data:r,error:s}=await je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:s}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _deleteFactor(e){rs(e.userId),rs(e.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,i,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},v=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:Xm});if(v.error)throw v.error;const g=await v.json(),x=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(S.split(";")[1].split("=")[1]);m[`${C}Page`]=_}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(_e(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}}function Qm(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const os={debug:!!(globalThis&&wv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Hk extends bv{}async function Kk(t,e,r){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Hk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(os.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function qk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _v(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Gk(t){return parseInt(t,16)}function Yk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Jk(t){var e;const{chainId:r,domain:s,expirationTime:i,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:h,resources:m,scheme:v,uri:g,version:x}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=_v(t.address),S=v?`${v}://${s}`:s,_=t.statement?`${t.statement}
`:"",C=`${S} wants you to sign in with your Ethereum account:
${b}

${_}`;let E=`URI: ${g}
Version: ${x}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),d&&(E+=`
Not Before: ${d.toISOString()}`),h&&(E+=`
Request ID: ${h}`),m){let j=`
Resources:`;for(const T of m){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);j+=`
- ${T}`}E+=j}return`${C}
${E}`}class yt extends Error{constructor({message:e,code:r,cause:s,name:i}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=i??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class pl extends yt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Xk({error:t,options:e}){var r,s,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new yt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new yt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new yt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new yt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new yt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new yt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new yt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new yt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(Sv(c)){if(l.rp.id!==c)return new yt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new yt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new yt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Qk({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new yt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new yt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Sv(s)){if(r.rpId!==s)return new yt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new yt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new yt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new yt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Zk{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const eE=new Zk;function tE(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,i=bs(t,["challenge","user","excludeCredentials"]),l=ps(e).buffer,c=Object.assign(Object.assign({},r),{id:ps(r.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:l,user:c});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:ps(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function nE(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=bs(t,["challenge","allowCredentials"]),i=ps(e).buffer,l=Object.assign(Object.assign({},s),{challenge:i});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:ps(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function rE(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:xo(new Uint8Array(t.response.attestationObject)),clientDataJSON:xo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function oE(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:xo(new Uint8Array(i.authenticatorData)),clientDataJSON:xo(new Uint8Array(i.clientDataJSON)),signature:xo(new Uint8Array(i.signature)),userHandle:i.userHandle?xo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Sv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Zm(){var t,e;return!!(Ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function sE(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pl("Browser returned unexpected credential type",e)}:{data:null,error:new pl("Empty credential response",e)}}catch(e){return{data:null,error:Xk({error:e,options:t})}}}async function iE(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pl("Browser returned unexpected credential type",e)}:{data:null,error:new pl("Empty credential response",e)}}catch(e){return{data:null,error:Qk({error:e,options:t})}}}const aE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ml(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of t)if(i)for(const l in i){const c=i[l];if(c!==void 0)if(Array.isArray(c))s[l]=c;else if(r(c))s[l]=c;else if(e(c)){const d=s[l];e(d)?s[l]=ml(d,c):s[l]=ml(c)}else s[l]=c}return s}function cE(t,e){return ml(aE,t,e||{})}function uE(t,e){return ml(lE,t,e||{})}class dE{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:i},l){var c;try{const{data:d,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!d)return{data:null,error:h};const m=i??eE.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:v}=d.webauthn.credential_options.publicKey;if(!v.name){const g=s;if(g)v.name=`${v.id}:${g}`;else{const b=(await this.client.getUser()).data.user,S=((c=b?.user_metadata)===null||c===void 0?void 0:c.name)||b?.email||b?.id||"User";v.name=`${v.id}:${S}`}}v.displayName||(v.displayName=v.name)}switch(d.webauthn.type){case"create":{const v=cE(d.webauthn.credential_options.publicKey,l?.create),{data:g,error:x}=await sE({publicKey:v,signal:m});return g?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}case"request":{const v=uE(d.webauthn.credential_options.publicKey,l?.request),{data:g,error:x}=await iE(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:v,signal:m}));return g?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}}}catch(d){return _e(d)?{data:null,error:d}:{data:null,error:new vo("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new ki("rpId is required for WebAuthn authentication")};try{if(!Zm())return{data:null,error:new vo("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:i},{request:l});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:s,credential_response:h.credential_response}})}catch(c){return _e(c)?{data:null,error:c}:{data:null,error:new vo("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new ki("rpId is required for WebAuthn registration")};try{if(!Zm())return{data:null,error:new vo("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var g;return(g=v.data)===null||g===void 0?void 0:g.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:i},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return _e(c)?{data:null,error:c}:{data:null,error:new vo("Unexpected error in register",c)}}}}qk();const fE={url:lk,storageKey:ck,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function eg(t,e,r){return await r()}const ss={};class Ei{get jwks(){var e,r;return(r=(e=ss[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ss[this.storageKey]=Object.assign(Object.assign({},ss[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ss[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ss[this.storageKey]=Object.assign(Object.assign({},ss[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},fE),e);if(this.storageKey=l.storageKey,this.instanceID=(r=Ei.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ei.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Ot()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Wk({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=xv(l.fetch),this.lock=l.lock||eg,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&Ot()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Kk:this.lock=eg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:wv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Qm(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(Ot()&&(r=kk(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),Ot()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),mk(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _e(r)?this._returnResult({error:r}):this._returnResult({error:new vo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,i;try{const l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:jn}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(_e(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,s,i;try{let l;if("email"in e){const{email:v,password:g,options:x}=e;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await ns(this.storage,this.storageKey)),l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:v,password:g,data:(r=x?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:b,code_challenge_method:S},xform:jn})}else if("phone"in e){const{phone:v,password:g,options:x}=e;l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:g,data:(s=x?.data)!==null&&s!==void 0?s:{},channel:(i=x?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:jn})}else throw new Ka("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return await Pt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),_e(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:c,options:d}=e;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Jm})}else if("phone"in e){const{phone:l,password:c,options:d}=e;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Jm})}else throw new Ka("You must provide either an email or phone number and a password");const{data:s,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!s||!s.session||!s.user){const l=new ts;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,i,l,c,d,h,m,v,g,x;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:_,wallet:C,statement:E,options:j}=e;let T;if(Ot())if(typeof C=="object")T=C;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")T=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=C}const R=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href),B=await T.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=_v(B[0]);let M=(s=j?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!M){const H=await T.request({method:"eth_chainId"});M=Gk(H)}const $={domain:R.host,address:L,statement:E,uri:R.href,version:"1",chainId:M,nonce:(i=j?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(l=j?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=j?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=j?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=j?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=j?.signInWithEthereum)===null||v===void 0?void 0:v.resources};b=Jk($),S=await T.request({method:"personal_sign",params:[Yk(b),L]})}try{const{data:_,error:C}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:jn});if(C)throw C;if(!_||!_.session||!_.user){const E=new ts;return this._returnResult({data:{user:null,session:null},error:E})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:C})}catch(_){if(_e(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var r,s,i,l,c,d,h,m,v,g,x,b;let S,_;if("message"in e)S=e.message,_=e.signature;else{const{chain:C,wallet:E,statement:j,options:T}=e;let R;if(Ot())if(typeof E=="object")R=E;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))R=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const B=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const L=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),j?{statement:j}:null));let M;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")M=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)M=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)S=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),_=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${B.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(i=(s=T?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=T?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((g=(v=T?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||g===void 0)&&g.length?["Resources",...T.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const L=await R.signMessage(new TextEncoder().encode(S),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=L}}try{const{data:C,error:E}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:xo(_)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:jn});if(E)throw E;if(!C||!C.session||!C.user){const j=new ts;return this._returnResult({data:{user:null,session:null},error:j})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:E})}catch(C){if(_e(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const r=await fo(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new gk;const{data:l,error:c}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:jn});if(await Pt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new ts;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:c})}catch(l){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),_e(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:s,token:i,access_token:l,nonce:c}=e,d=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:jn}),{data:h,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const v=new ts;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,i,l,c;try{if("email"in e){const{email:d,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await ns(this.storage,this.storageKey));const{error:g}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:v}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new Ka("You must provide either an email or phone number.")}catch(d){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),_e(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,s;try{let i,l;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:d}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:jn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(i){if(_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,s,i,l,c;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await ns(this.storage,this.storageKey));const m=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:zk});return!((l=m.data)===null||l===void 0)&&l.url&&Ot()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),_e(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new an;const{error:i}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(_e(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:l}=e,{error:c}=await je(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:i,options:l}=e,{data:c,error:d}=await je(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new Ka("You must provide either an email or phone number and a type")}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await fo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<qu:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await fo(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Ju()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=$k(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wr}):await this._useSession(async r=>{var s,i,l;const{data:c,error:d}=r;if(d)throw d;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new an}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:Wr})})}catch(r){if(_e(r))return Gu(r)&&(await this._removeSession(),await Pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:i,error:l}=s;if(l)throw l;if(!i.session)throw new an;const c=i.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await ns(this.storage,this.storageKey));const{data:m,error:v}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:Wr});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),_e(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new an;const r=Date.now()/1e3;let s=r,i=!0,l=null;const{payload:c}=Ga(e.access_token);if(c.exp&&(s=c.exp,i=s<=r),i){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(_e(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:c,error:d}=r;if(d)throw d;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new an;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(_e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ot())throw new qa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new qa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Vm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qa("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Vm("No code detected.");const{data:j,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:l,refresh_token:c,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!c||!m)throw new qa("No session defined in URL");const v=Math.round(Date.now()/1e3),g=parseInt(d);let x=v+g;h&&(x=parseInt(h));const b=x-v;b*1e3<=ds&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const S=x-g;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,x,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,x,v);const{data:_,error:C}=await this._getUser(l);if(C)throw C;const E={provider_token:s,provider_refresh_token:i,access_token:l,expires_in:g,expires_at:x,refresh_token:c,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(s){if(_e(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await fo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:i,error:l}=r;if(l&&!Gu(l))return this._returnResult({error:l});const c=(s=i.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(pk(d)&&(d.status===404||d.status===401||d.status===403)||Gu(d)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Sk(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,i;try{const{data:{session:l},error:c}=r;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await ns(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),_e(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:i}=await this._useSession(async l=>{var c,d,h,m,v;const{data:g,error:x}=l;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(m=g.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return Ot()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(_e(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:i,data:{session:l}}=r;if(i)throw i;const{options:c,provider:d,token:h,access_token:m,nonce:v}=e,g=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:h,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:jn}),{data:x,error:b}=g;return b?this._returnResult({data:{user:null,session:null},error:b}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new ts}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:b}))}catch(i){if(await Pt(this.storage,`${this.storageKey}-code-verifier`),_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,i;const{data:l,error:c}=r;if(c)throw c;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Rk(async i=>(i>0&&await Ck(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:jn})),(i,l)=>{const c=200*Math.pow(2,i);return l&&Yu(l)&&Date.now()+c-s<ds})}catch(s){if(this._debug(r,"error",s),_e(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Ot()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await fo(this.storage,this.storageKey);if(i&&this.userStorage){let c=await fo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await fs(this.userStorage,this.storageKey+"-user",c)),i.user=(e=c?.user)!==null&&e!==void 0?e:Ju()}else if(i&&!i.user&&!i.user){const c=await fo(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Pt(this.storage,this.storageKey+"-user"),await fs(this.storage,this.storageKey,i)):i.user=Ju()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const l=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qu;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${qu}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Yu(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new an;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pl;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new an;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),_e(l)){const c={data:null,error:l};return Yu(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Pt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await fs(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const l=Gm(i);await fs(this.storage,this.storageKey,l)}else{const i=Gm(r);await fs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Pt(this.storage,this.storageKey),await Pt(this.storage,this.storageKey+"-code-verifier"),await Pt(this.storage,this.storageKey+"-user"),this.userStorage&&await Pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ot()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ds);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/ds);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ds}ms, refresh threshold is ${_d} ticks`),i<=_d&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const i=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await ns(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);i.push(l.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:i,error:l}=r;return l?this._returnResult({data:null,error:l}):await je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,i;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await je(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?rE(e.webauthn.credential_response):oE(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:tE(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:nE(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,s,i,l;if(e)try{const{payload:b}=Ga(e);let S=null;b.aal&&(S=b.aal);let _=S;const{data:{user:C},error:E}=await this.getUser(e);if(E)return this._returnResult({data:null,error:E});((s=(r=C?.factors)===null||r===void 0?void 0:r.filter(R=>R.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(_="aal2");const T=b.amr||[];return{data:{currentLevel:S,nextLevel:_,currentAuthenticationMethods:T},error:null}}catch(b){if(_e(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:c},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Ga(c.access_token);let m=null;h.aal&&(m=h.aal);let v=m;((l=(i=c.user.factors)===null||i===void 0?void 0:i.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(v="aal2");const x=h.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;return i?this._returnResult({data:null,error:i}):s?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new an})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:i},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new an});const c=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Ot()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(_e(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:i},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new an});const c=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Ot()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(_e(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;return s?this._returnResult({data:null,error:s}):r?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new an})})}catch(e){if(_e(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;return i?this._returnResult({data:null,error:i}):s?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new an})})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(d=>d.kid===e);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+fk>i)return s;const{data:l,error:c}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:b,error:S}=await this.getSession();if(S||!b.session)return this._returnResult({data:null,error:S});s=b.session.access_token}const{header:i,payload:l,signature:c,raw:{header:d,payload:h}}=Ga(s);r?.allowExpired||Ik(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:b}=await this.getUser(s);if(b)throw b;return{data:{claims:l,header:i,signature:c},error:null}}const v=Dk(i.alg),g=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,g,c,bk(`${d}.${h}`)))throw new Ed("Invalid JWT signature");return{data:{claims:l,header:i,signature:c},error:null}}catch(s){if(_e(s))return this._returnResult({data:null,error:s});throw s}}}Ei.nextInstanceID={};const hE=Ei,pE="2.93.3";let pi="";typeof Deno<"u"?pi="deno":typeof document<"u"?pi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pi="react-native":pi="node";const mE={"X-Client-Info":`supabase-js-${pi}/${pE}`},gE={headers:mE},vE={schema:"public"},yE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wE={};function Ci(t){"@babel/helpers - typeof";return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(t)}function xE(t,e){if(Ci(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ci(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bE(t){var e=xE(t,"string");return Ci(e)=="symbol"?e:e+""}function _E(t,e,r){return(e=bE(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tg(Object(r),!0).forEach(function(s){_E(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tg(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}const SE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),kE=()=>Headers,EE=(t,e,r)=>{const s=SE(r),i=kE();return async(l,c)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:t;let m=new i(c?.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),s(l,ht(ht({},c),{},{headers:m}))}};function CE(t){return t.endsWith("/")?t:t+"/"}function RE(t,e){var r,s;const{db:i,auth:l,realtime:c,global:d}=t,{db:h,auth:m,realtime:v,global:g}=e,x={db:ht(ht({},h),i),auth:ht(ht({},m),l),realtime:ht(ht({},v),c),storage:{},global:ht(ht(ht({},g),d),{},{headers:ht(ht({},(r=g?.headers)!==null&&r!==void 0?r:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function TE(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(CE(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var NE=class extends hE{constructor(t){super(t)}},jE=class{constructor(t,e,r){var s,i;this.supabaseUrl=t,this.supabaseKey=e;const l=TE(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:vE,realtime:wE,auth:ht(ht({},yE),{},{storageKey:c}),global:gE},h=RE(r??{},d);if(this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(v,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=EE(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(ht({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new pS(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new ak(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new cS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:l,flowType:c,lock:d,debug:h,throwOnError:m},v,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new NE({url:this.authUrl.href,headers:ht(ht({},x),v),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:s,userStorage:i,flowType:c,lock:d,debug:h,throwOnError:m,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new AS(this.realtimeUrl.href,ht(ht({},t),{},{params:ht(ht({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const AE=(t,e,r)=>new jE(t,e,r);function PE(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}PE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function ng(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function qr(...t){return e=>{let r=!1;const s=t.map(i=>{const l=ng(i,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let i=0;i<s.length;i++){const l=s[i];typeof l=="function"?l():ng(t[i],null)}}}}function We(...t){return w.useCallback(qr(...t),t)}var OE=Symbol.for("react.lazy"),gl=Gd[" use ".trim().toString()];function IE(t){return typeof t=="object"&&t!==null&&"then"in t}function kv(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===OE&&"_payload"in t&&IE(t._payload)}function Ev(t){const e=ME(t),r=w.forwardRef((s,i)=>{let{children:l,...c}=s;kv(l)&&typeof gl=="function"&&(l=gl(l._payload));const d=w.Children.toArray(l),h=d.find(LE);if(h){const m=h.props.children,v=d.map(g=>g===h?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:i,children:w.isValidElement(m)?w.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:i,children:l})});return r.displayName=`${t}.Slot`,r}var DE=Ev("Slot");function ME(t){const e=w.forwardRef((r,s)=>{let{children:i,...l}=r;if(kv(i)&&typeof gl=="function"&&(i=gl(i._payload)),w.isValidElement(i)){const c=FE(i),d=UE(l,i.props);return i.type!==w.Fragment&&(d.ref=s?qr(s,c):c),w.cloneElement(i,d)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $E=Symbol("radix.slottable");function LE(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$E}function UE(t,e){const r={...e};for(const s in e){const i=t[s],l=e[s];/^on[A-Z]/.test(s)?i&&l?r[s]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(r[s]=i):s==="style"?r[s]={...i,...l}:s==="className"&&(r[s]=[i,l].filter(Boolean).join(" "))}return{...t,...r}}function FE(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Cv(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Cv(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function Rv(){for(var t,e,r=0,s="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Cv(t))&&(s&&(s+=" "),s+=e);return s}const rg=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,og=Rv,Tv=(t,e)=>r=>{var s;if(e?.variants==null)return og(t,r?.class,r?.className);const{variants:i,defaultVariants:l}=e,c=Object.keys(i).map(m=>{const v=r?.[m],g=l?.[m];if(v===null)return null;const x=rg(v)||rg(g);return i[m][x]}),d=r&&Object.entries(r).reduce((m,v)=>{let[g,x]=v;return x===void 0||(m[g]=x),m},{}),h=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((m,v)=>{let{class:g,className:x,...b}=v;return Object.entries(b).every(S=>{let[_,C]=S;return Array.isArray(C)?C.includes({...l,...d}[_]):{...l,...d}[_]===C})?[...m,g,x]:m},[]);return og(t,c,h,r?.class,r?.className)},zE=(t,e)=>{const r=new Array(t.length+e.length);for(let s=0;s<t.length;s++)r[s]=t[s];for(let s=0;s<e.length;s++)r[t.length+s]=e[s];return r},BE=(t,e)=>({classGroupId:t,validator:e}),Nv=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),vl="-",sg=[],VE="arbitrary..",WE=t=>{const e=KE(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return HE(c);const d=c.split(vl),h=d[0]===""&&d.length>1?1:0;return jv(d,h,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const h=s[c],m=r[c];return h?m?zE(m,h):h:m||sg}return r[c]||sg}}},jv=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const i=t[e],l=r.nextPart.get(i);if(l){const m=jv(t,e+1,l);if(m)return m}const c=r.validators;if(c===null)return;const d=e===0?t.join(vl):t.slice(e).join(vl),h=c.length;for(let m=0;m<h;m++){const v=c[m];if(v.validator(d))return v.classGroupId}},HE=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),s=e.slice(0,r);return s?VE+s:void 0})(),KE=t=>{const{theme:e,classGroups:r}=t;return qE(r,e)},qE=(t,e)=>{const r=Nv();for(const s in t){const i=t[s];Xd(i,r,s,e)}return r},Xd=(t,e,r,s)=>{const i=t.length;for(let l=0;l<i;l++){const c=t[l];GE(c,e,r,s)}},GE=(t,e,r,s)=>{if(typeof t=="string"){YE(t,e,r);return}if(typeof t=="function"){JE(t,e,r,s);return}XE(t,e,r,s)},YE=(t,e,r)=>{const s=t===""?e:Av(e,t);s.classGroupId=r},JE=(t,e,r,s)=>{if(QE(t)){Xd(t(s),e,r,s);return}e.validators===null&&(e.validators=[]),e.validators.push(BE(r,t))},XE=(t,e,r,s)=>{const i=Object.entries(t),l=i.length;for(let c=0;c<l;c++){const[d,h]=i[c];Xd(h,Av(e,d),r,s)}},Av=(t,e)=>{let r=t;const s=e.split(vl),i=s.length;for(let l=0;l<i;l++){const c=s[l];let d=r.nextPart.get(c);d||(d=Nv(),r.nextPart.set(c,d)),r=d}return r},QE=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,ZE=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),s=Object.create(null);const i=(l,c)=>{r[l]=c,e++,e>t&&(e=0,s=r,r=Object.create(null))};return{get(l){let c=r[l];if(c!==void 0)return c;if((c=s[l])!==void 0)return i(l,c),c},set(l,c){l in r?r[l]=c:i(l,c)}}},Cd="!",ig=":",e1=[],ag=(t,e,r,s,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:s,isExternal:i}),t1=t=>{const{prefix:e,experimentalParseClassName:r}=t;let s=i=>{const l=[];let c=0,d=0,h=0,m;const v=i.length;for(let _=0;_<v;_++){const C=i[_];if(c===0&&d===0){if(C===ig){l.push(i.slice(h,_)),h=_+1;continue}if(C==="/"){m=_;continue}}C==="["?c++:C==="]"?c--:C==="("?d++:C===")"&&d--}const g=l.length===0?i:i.slice(h);let x=g,b=!1;g.endsWith(Cd)?(x=g.slice(0,-1),b=!0):g.startsWith(Cd)&&(x=g.slice(1),b=!0);const S=m&&m>h?m-h:void 0;return ag(l,b,x,S)};if(e){const i=e+ig,l=s;s=c=>c.startsWith(i)?l(c.slice(i.length)):ag(e1,!1,c,void 0,!0)}if(r){const i=s;s=l=>r({className:l,parseClassName:i})}return s},n1=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,s)=>{e.set(r,1e6+s)}),r=>{const s=[];let i=[];for(let l=0;l<r.length;l++){const c=r[l],d=c[0]==="[",h=e.has(c);d||h?(i.length>0&&(i.sort(),s.push(...i),i=[]),s.push(c)):i.push(c)}return i.length>0&&(i.sort(),s.push(...i)),s}},r1=t=>({cache:ZE(t.cacheSize),parseClassName:t1(t),sortModifiers:n1(t),...WE(t)}),o1=/\s+/,s1=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:l}=e,c=[],d=t.trim().split(o1);let h="";for(let m=d.length-1;m>=0;m-=1){const v=d[m],{isExternal:g,modifiers:x,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:_}=r(v);if(g){h=v+(h.length>0?" "+h:h);continue}let C=!!_,E=s(C?S.substring(0,_):S);if(!E){if(!C){h=v+(h.length>0?" "+h:h);continue}if(E=s(S),!E){h=v+(h.length>0?" "+h:h);continue}C=!1}const j=x.length===0?"":x.length===1?x[0]:l(x).join(":"),T=b?j+Cd:j,R=T+E;if(c.indexOf(R)>-1)continue;c.push(R);const B=i(E,C);for(let L=0;L<B.length;++L){const M=B[L];c.push(T+M)}h=v+(h.length>0?" "+h:h)}return h},i1=(...t)=>{let e=0,r,s,i="";for(;e<t.length;)(r=t[e++])&&(s=Pv(r))&&(i&&(i+=" "),i+=s);return i},Pv=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=Pv(t[s]))&&(r&&(r+=" "),r+=e);return r},a1=(t,...e)=>{let r,s,i,l;const c=h=>{const m=e.reduce((v,g)=>g(v),t());return r=r1(m),s=r.cache.get,i=r.cache.set,l=d,d(h)},d=h=>{const m=s(h);if(m)return m;const v=s1(h,r);return i(h,v),v};return l=c,(...h)=>l(i1(...h))},l1=[],St=t=>{const e=r=>r[t]||l1;return e.isThemeGetter=!0,e},Ov=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Iv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,c1=/^\d+\/\d+$/,u1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,d1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,h1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,p1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,is=t=>c1.test(t),$e=t=>!!t&&!Number.isNaN(Number(t)),zr=t=>!!t&&Number.isInteger(Number(t)),Qu=t=>t.endsWith("%")&&$e(t.slice(0,-1)),ur=t=>u1.test(t),m1=()=>!0,g1=t=>d1.test(t)&&!f1.test(t),Dv=()=>!1,v1=t=>h1.test(t),y1=t=>p1.test(t),w1=t=>!ge(t)&&!ve(t),x1=t=>Ss(t,Lv,Dv),ge=t=>Ov.test(t),ho=t=>Ss(t,Uv,g1),Zu=t=>Ss(t,E1,$e),lg=t=>Ss(t,Mv,Dv),b1=t=>Ss(t,$v,y1),Ya=t=>Ss(t,Fv,v1),ve=t=>Iv.test(t),di=t=>ks(t,Uv),_1=t=>ks(t,C1),cg=t=>ks(t,Mv),S1=t=>ks(t,Lv),k1=t=>ks(t,$v),Ja=t=>ks(t,Fv,!0),Ss=(t,e,r)=>{const s=Ov.exec(t);return s?s[1]?e(s[1]):r(s[2]):!1},ks=(t,e,r=!1)=>{const s=Iv.exec(t);return s?s[1]?e(s[1]):r:!1},Mv=t=>t==="position"||t==="percentage",$v=t=>t==="image"||t==="url",Lv=t=>t==="length"||t==="size"||t==="bg-size",Uv=t=>t==="length",E1=t=>t==="number",C1=t=>t==="family-name",Fv=t=>t==="shadow",R1=()=>{const t=St("color"),e=St("font"),r=St("text"),s=St("font-weight"),i=St("tracking"),l=St("leading"),c=St("breakpoint"),d=St("container"),h=St("spacing"),m=St("radius"),v=St("shadow"),g=St("inset-shadow"),x=St("text-shadow"),b=St("drop-shadow"),S=St("blur"),_=St("perspective"),C=St("aspect"),E=St("ease"),j=St("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...R(),ve,ge],L=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],$=()=>[ve,ge,h],H=()=>[is,"full","auto",...$()],Z=()=>[zr,"none","subgrid",ve,ge],oe=()=>["auto",{span:["full",zr,ve,ge]},zr,ve,ge],le=()=>[zr,"auto",ve,ge],Y=()=>["auto","min","max","fr",ve,ge],ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],se=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...$()],J=()=>[is,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],A=()=>[t,ve,ge],V=()=>[...R(),cg,lg,{position:[ve,ge]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",S1,x1,{size:[ve,ge]}],D=()=>[Qu,di,ho],K=()=>["","none","full",m,ve,ge],Q=()=>["",$e,di,ho],ae=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>[$e,Qu,cg,lg],ee=()=>["","none",S,ve,ge],ue=()=>["none",$e,ve,ge],ke=()=>["none",$e,ve,ge],Oe=()=>[$e,ve,ge],Je=()=>[is,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ur],breakpoint:[ur],color:[m1],container:[ur],"drop-shadow":[ur],ease:["in","out","in-out"],font:[w1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ur],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ur],shadow:[ur],spacing:["px",$e],text:[ur],"text-shadow":[ur],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",is,ge,ve,C]}],container:["container"],columns:[{columns:[$e,ge,ve,d]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[zr,"auto",ve,ge]}],basis:[{basis:[is,"full","auto",d,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,is,"auto","initial","none",ge]}],grow:[{grow:["",$e,ve,ge]}],shrink:[{shrink:["",$e,ve,ge]}],order:[{order:[zr,"first","last","none",ve,ge]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:oe()}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:oe()}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...ce(),"normal"]}],"justify-items":[{"justify-items":[...se(),"normal"]}],"justify-self":[{"justify-self":["auto",...se()]}],"align-content":[{content:["normal",...ce()]}],"align-items":[{items:[...se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...se(),{baseline:["","last"]}]}],"place-content":[{"place-content":ce()}],"place-items":[{"place-items":[...se(),"baseline"]}],"place-self":[{"place-self":["auto",...se()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[d,"screen",...J()]}],"min-w":[{"min-w":[d,"screen","none",...J()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",r,di,ho]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ve,Zu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Qu,ge]}],"font-family":[{font:[_1,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ve,ge]}],"line-clamp":[{"line-clamp":[$e,"none",ve,Zu]}],leading:[{leading:[l,...$()]}],"list-image":[{"list-image":["none",ve,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",ve,ho]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[$e,"auto",ve,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zr,ve,ge],radial:["",ve,ge],conic:[zr,ve,ge]},k1,b1]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:D()}],"gradient-via-pos":[{via:D()}],"gradient-to-pos":[{to:D()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,ve,ge]}],"outline-w":[{outline:["",$e,di,ho]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",v,Ja,Ya]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",g,Ja,Ya]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[$e,ho]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",x,Ja,Ya]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[$e,ve,ge]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":q()}],"mask-image-linear-to-pos":[{"mask-linear-to":q()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":q()}],"mask-image-t-to-pos":[{"mask-t-to":q()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":q()}],"mask-image-r-to-pos":[{"mask-r-to":q()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":q()}],"mask-image-b-to-pos":[{"mask-b-to":q()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":q()}],"mask-image-l-to-pos":[{"mask-l-to":q()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":q()}],"mask-image-x-to-pos":[{"mask-x-to":q()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":q()}],"mask-image-y-to-pos":[{"mask-y-to":q()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[ve,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":q()}],"mask-image-radial-to-pos":[{"mask-radial-to":q()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":q()}],"mask-image-conic-to-pos":[{"mask-conic-to":q()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ge]}],filter:[{filter:["","none",ve,ge]}],blur:[{blur:ee()}],brightness:[{brightness:[$e,ve,ge]}],contrast:[{contrast:[$e,ve,ge]}],"drop-shadow":[{"drop-shadow":["","none",b,Ja,Ya]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",$e,ve,ge]}],"hue-rotate":[{"hue-rotate":[$e,ve,ge]}],invert:[{invert:["",$e,ve,ge]}],saturate:[{saturate:[$e,ve,ge]}],sepia:[{sepia:["",$e,ve,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ge]}],"backdrop-blur":[{"backdrop-blur":ee()}],"backdrop-brightness":[{"backdrop-brightness":[$e,ve,ge]}],"backdrop-contrast":[{"backdrop-contrast":[$e,ve,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,ve,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,ve,ge]}],"backdrop-invert":[{"backdrop-invert":["",$e,ve,ge]}],"backdrop-opacity":[{"backdrop-opacity":[$e,ve,ge]}],"backdrop-saturate":[{"backdrop-saturate":[$e,ve,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,ve,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",ve,ge]}],ease:[{ease:["linear","initial",E,ve,ge]}],delay:[{delay:[$e,ve,ge]}],animate:[{animate:["none",j,ve,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,ve,ge]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:ke()}],"scale-x":[{"scale-x":ke()}],"scale-y":[{"scale-y":ke()}],"scale-z":[{"scale-z":ke()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[ve,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Je()}],"translate-x":[{"translate-x":Je()}],"translate-y":[{"translate-y":Je()}],"translate-z":[{"translate-z":Je()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ge]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[$e,di,ho,Zu]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},T1=a1(R1);function Me(...t){return T1(Rv(t))}const Qd=Tv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Ne=w.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...i},l)=>{const c=s?DE:"button";return f.jsx(c,{className:Me(Qd({variant:e,size:r,className:t})),ref:l,...i})});Ne.displayName="Button";function qn({className:t,type:e,...r}){return f.jsx("input",{type:e,"data-slot":"input",className:Me("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var Ol=Xg();const zv=Jg(Ol);var N1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],j1=N1.reduce((t,e)=>{const r=Ev(`Primitive.${e}`),s=w.forwardRef((i,l)=>{const{asChild:c,...d}=i,h=c?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...d,ref:l})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),A1="Label",Bv=w.forwardRef((t,e)=>f.jsx(j1.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Bv.displayName=A1;var P1=Bv;function Zt({className:t,...e}){return f.jsx(P1,{"data-slot":"label",className:Me("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function yl({className:t,...e}){return f.jsx("div",{"data-slot":"card",className:Me("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function Rd({className:t,...e}){return f.jsx("div",{"data-slot":"card-header",className:Me("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Td({className:t,...e}){return f.jsx("h4",{"data-slot":"card-title",className:Me("leading-none",t),...e})}function Nd({className:t,...e}){return f.jsx("p",{"data-slot":"card-description",className:Me("text-muted-foreground",t),...e})}function wl({className:t,...e}){return f.jsx("div",{"data-slot":"card-content",className:Me("px-6 [&:last-child]:pb-6",t),...e})}function Se(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function O1(t,e){const r=w.createContext(e),s=l=>{const{children:c,...d}=l,h=w.useMemo(()=>d,Object.values(d));return f.jsx(r.Provider,{value:h,children:c})};s.displayName=t+"Provider";function i(l){const c=w.useContext(r);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[s,i]}function Mn(t,e=[]){let r=[];function s(l,c){const d=w.createContext(c),h=r.length;r=[...r,c];const m=g=>{const{scope:x,children:b,...S}=g,_=x?.[t]?.[h]||d,C=w.useMemo(()=>S,Object.values(S));return f.jsx(_.Provider,{value:C,children:b})};m.displayName=l+"Provider";function v(g,x){const b=x?.[t]?.[h]||d,S=w.useContext(b);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[m,v]}const i=()=>{const l=r.map(c=>w.createContext(c));return function(d){const h=d?.[t]||l;return w.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return i.scopeName=t,[s,I1(i,...e)]}function I1(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=s.reduce((d,{useScope:h,scopeName:m})=>{const g=h(l)[`__scope${m}`];return{...d,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return r.scopeName=e.scopeName,r}function ug(t){const e=D1(t),r=w.forwardRef((s,i)=>{const{children:l,...c}=s,d=w.Children.toArray(l),h=d.find($1);if(h){const m=h.props.children,v=d.map(g=>g===h?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:i,children:w.isValidElement(m)?w.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:i,children:l})});return r.displayName=`${t}.Slot`,r}function D1(t){const e=w.forwardRef((r,s)=>{const{children:i,...l}=r;if(w.isValidElement(i)){const c=U1(i),d=L1(l,i.props);return i.type!==w.Fragment&&(d.ref=s?qr(s,c):c),w.cloneElement(i,d)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var M1=Symbol("radix.slottable");function $1(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===M1}function L1(t,e){const r={...e};for(const s in e){const i=t[s],l=e[s];/^on[A-Z]/.test(s)?i&&l?r[s]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(r[s]=i):s==="style"?r[s]={...i,...l}:s==="className"&&(r[s]=[i,l].filter(Boolean).join(" "))}return{...t,...r}}function U1(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Zd(t){const e=t+"CollectionProvider",[r,s]=Mn(e),[i,l]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=_=>{const{scope:C,children:E}=_,j=z.useRef(null),T=z.useRef(new Map).current;return f.jsx(i,{scope:C,itemMap:T,collectionRef:j,children:E})};c.displayName=e;const d=t+"CollectionSlot",h=ug(d),m=z.forwardRef((_,C)=>{const{scope:E,children:j}=_,T=l(d,E),R=We(C,T.collectionRef);return f.jsx(h,{ref:R,children:j})});m.displayName=d;const v=t+"CollectionItemSlot",g="data-radix-collection-item",x=ug(v),b=z.forwardRef((_,C)=>{const{scope:E,children:j,...T}=_,R=z.useRef(null),B=We(C,R),L=l(v,E);return z.useEffect(()=>(L.itemMap.set(R,{ref:R,...T}),()=>void L.itemMap.delete(R))),f.jsx(x,{[g]:"",ref:B,children:j})});b.displayName=v;function S(_){const C=l(t+"CollectionConsumer",_);return z.useCallback(()=>{const j=C.collectionRef.current;if(!j)return[];const T=Array.from(j.querySelectorAll(`[${g}]`));return Array.from(C.itemMap.values()).sort((L,M)=>T.indexOf(L.ref.current)-T.indexOf(M.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:m,ItemSlot:b},S,s]}var fr=globalThis?.document?w.useLayoutEffect:()=>{},F1=Gd[" useId ".trim().toString()]||(()=>{}),z1=0;function So(t){const[e,r]=w.useState(F1());return fr(()=>{r(s=>s??String(z1++))},[t]),e?`radix-${e}`:""}function B1(t){const e=V1(t),r=w.forwardRef((s,i)=>{const{children:l,...c}=s,d=w.Children.toArray(l),h=d.find(H1);if(h){const m=h.props.children,v=d.map(g=>g===h?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:i,children:w.isValidElement(m)?w.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:i,children:l})});return r.displayName=`${t}.Slot`,r}function V1(t){const e=w.forwardRef((r,s)=>{const{children:i,...l}=r;if(w.isValidElement(i)){const c=q1(i),d=K1(l,i.props);return i.type!==w.Fragment&&(d.ref=s?qr(s,c):c),w.cloneElement(i,d)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var W1=Symbol("radix.slottable");function H1(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===W1}function K1(t,e){const r={...e};for(const s in e){const i=t[s],l=e[s];/^on[A-Z]/.test(s)?i&&l?r[s]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(r[s]=i):s==="style"?r[s]={...i,...l}:s==="className"&&(r[s]=[i,l].filter(Boolean).join(" "))}return{...t,...r}}function q1(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var G1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=G1.reduce((t,e)=>{const r=B1(`Primitive.${e}`),s=w.forwardRef((i,l)=>{const{asChild:c,...d}=i,h=c?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...d,ref:l})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function Vv(t,e){t&&Ol.flushSync(()=>t.dispatchEvent(e))}function Ft(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...r)=>e.current?.(...r),[])}var Y1=Gd[" useInsertionEffect ".trim().toString()]||fr;function Es({prop:t,defaultProp:e,onChange:r=()=>{},caller:s}){const[i,l,c]=J1({defaultProp:e,onChange:r}),d=t!==void 0,h=d?t:i;{const v=w.useRef(t!==void 0);w.useEffect(()=>{const g=v.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,s])}const m=w.useCallback(v=>{if(d){const g=X1(v)?v(t):v;g!==t&&c.current?.(g)}else l(v)},[d,t,l,c]);return[h,m]}function J1({defaultProp:t,onChange:e}){const[r,s]=w.useState(t),i=w.useRef(r),l=w.useRef(e);return Y1(()=>{l.current=e},[e]),w.useEffect(()=>{i.current!==r&&(l.current?.(r),i.current=r)},[r,i]),[r,s,l]}function X1(t){return typeof t=="function"}var Q1=w.createContext(void 0);function Ai(t){const e=w.useContext(Q1);return t||e||"ltr"}var ed="rovingFocusGroup.onEntryFocus",Z1={bubbles:!1,cancelable:!0},Pi="RovingFocusGroup",[jd,Wv,eC]=Zd(Pi),[tC,Il]=Mn(Pi,[eC]),[nC,rC]=tC(Pi),Hv=w.forwardRef((t,e)=>f.jsx(jd.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(jd.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(oC,{...t,ref:e})})}));Hv.displayName=Pi;var oC=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:i=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,...g}=t,x=w.useRef(null),b=We(e,x),S=Ai(l),[_,C]=Es({prop:c,defaultProp:d??null,onChange:h,caller:Pi}),[E,j]=w.useState(!1),T=Ft(m),R=Wv(r),B=w.useRef(!1),[L,M]=w.useState(0);return w.useEffect(()=>{const $=x.current;if($)return $.addEventListener(ed,T),()=>$.removeEventListener(ed,T)},[T]),f.jsx(nC,{scope:r,orientation:s,dir:S,loop:i,currentTabStopId:_,onItemFocus:w.useCallback($=>C($),[C]),onItemShiftTab:w.useCallback(()=>j(!0),[]),onFocusableItemAdd:w.useCallback(()=>M($=>$+1),[]),onFocusableItemRemove:w.useCallback(()=>M($=>$-1),[]),children:f.jsx(Fe.div,{tabIndex:E||L===0?-1:0,"data-orientation":s,...g,ref:b,style:{outline:"none",...t.style},onMouseDown:Se(t.onMouseDown,()=>{B.current=!0}),onFocus:Se(t.onFocus,$=>{const H=!B.current;if($.target===$.currentTarget&&H&&!E){const Z=new CustomEvent(ed,Z1);if($.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const oe=R().filter(G=>G.focusable),le=oe.find(G=>G.active),Y=oe.find(G=>G.id===_),se=[le,Y,...oe].filter(Boolean).map(G=>G.ref.current);Gv(se,v)}}B.current=!1}),onBlur:Se(t.onBlur,()=>j(!1))})})}),Kv="RovingFocusGroupItem",qv=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:i=!1,tabStopId:l,children:c,...d}=t,h=So(),m=l||h,v=rC(Kv,r),g=v.currentTabStopId===m,x=Wv(r),{onFocusableItemAdd:b,onFocusableItemRemove:S,currentTabStopId:_}=v;return w.useEffect(()=>{if(s)return b(),()=>S()},[s,b,S]),f.jsx(jd.ItemSlot,{scope:r,id:m,focusable:s,active:i,children:f.jsx(Fe.span,{tabIndex:g?0:-1,"data-orientation":v.orientation,...d,ref:e,onMouseDown:Se(t.onMouseDown,C=>{s?v.onItemFocus(m):C.preventDefault()}),onFocus:Se(t.onFocus,()=>v.onItemFocus(m)),onKeyDown:Se(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){v.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const E=aC(C,v.orientation,v.dir);if(E!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let T=x().filter(R=>R.focusable).map(R=>R.ref.current);if(E==="last")T.reverse();else if(E==="prev"||E==="next"){E==="prev"&&T.reverse();const R=T.indexOf(C.currentTarget);T=v.loop?lC(T,R+1):T.slice(R+1)}setTimeout(()=>Gv(T))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:_!=null}):c})})});qv.displayName=Kv;var sC={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iC(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function aC(t,e,r){const s=iC(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return sC[s]}function Gv(t,e=!1){const r=document.activeElement;for(const s of t)if(s===r||(s.focus({preventScroll:e}),document.activeElement!==r))return}function lC(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var Yv=Hv,Jv=qv;function cC(t,e){return w.useReducer((r,s)=>e[r][s]??r,t)}var dn=t=>{const{present:e,children:r}=t,s=uC(e),i=typeof r=="function"?r({present:s.isPresent}):w.Children.only(r),l=We(s.ref,dC(i));return typeof r=="function"||s.isPresent?w.cloneElement(i,{ref:l}):null};dn.displayName="Presence";function uC(t){const[e,r]=w.useState(),s=w.useRef(null),i=w.useRef(t),l=w.useRef("none"),c=t?"mounted":"unmounted",[d,h]=cC(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=Xa(s.current);l.current=d==="mounted"?m:"none"},[d]),fr(()=>{const m=s.current,v=i.current;if(v!==t){const x=l.current,b=Xa(m);t?h("MOUNT"):b==="none"||m?.display==="none"?h("UNMOUNT"):h(v&&x!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),fr(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,g=b=>{const _=Xa(s.current).includes(CSS.escape(b.animationName));if(b.target===e&&_&&(h("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},x=b=>{b.target===e&&(l.current=Xa(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(m=>{s.current=m?getComputedStyle(m):null,r(m)},[])}}function Xa(t){return t?.animationName||"none"}function dC(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Dl="Tabs",[fC]=Mn(Dl,[Il]),Xv=Il(),[hC,ef]=fC(Dl),Qv=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,onValueChange:i,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:h="automatic",...m}=t,v=Ai(d),[g,x]=Es({prop:s,onChange:i,defaultProp:l??"",caller:Dl});return f.jsx(hC,{scope:r,baseId:So(),value:g,onValueChange:x,orientation:c,dir:v,activationMode:h,children:f.jsx(Fe.div,{dir:v,"data-orientation":c,...m,ref:e})})});Qv.displayName=Dl;var Zv="TabsList",ey=w.forwardRef((t,e)=>{const{__scopeTabs:r,loop:s=!0,...i}=t,l=ef(Zv,r),c=Xv(r);return f.jsx(Yv,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:s,children:f.jsx(Fe.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:e})})});ey.displayName=Zv;var ty="TabsTrigger",ny=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,disabled:i=!1,...l}=t,c=ef(ty,r),d=Xv(r),h=sy(c.baseId,s),m=iy(c.baseId,s),v=s===c.value;return f.jsx(Jv,{asChild:!0,...d,focusable:!i,active:v,children:f.jsx(Fe.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":m,"data-state":v?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:h,...l,ref:e,onMouseDown:Se(t.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?c.onValueChange(s):g.preventDefault()}),onKeyDown:Se(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(s)}),onFocus:Se(t.onFocus,()=>{const g=c.activationMode!=="manual";!v&&!i&&g&&c.onValueChange(s)})})})});ny.displayName=ty;var ry="TabsContent",oy=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,forceMount:i,children:l,...c}=t,d=ef(ry,r),h=sy(d.baseId,s),m=iy(d.baseId,s),v=s===d.value,g=w.useRef(v);return w.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),f.jsx(dn,{present:i||v,children:({present:x})=>f.jsx(Fe.div,{"data-state":v?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:m,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:x&&l})})});oy.displayName=ry;function sy(t,e){return`${t}-trigger-${e}`}function iy(t,e){return`${t}-content-${e}`}var pC=Qv,mC=ey,gC=ny,vC=oy;function yC({className:t,...e}){return f.jsx(pC,{"data-slot":"tabs",className:Me("flex flex-col gap-2",t),...e})}function wC({className:t,...e}){return f.jsx(mC,{"data-slot":"tabs-list",className:Me("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function dg({className:t,...e}){return f.jsx(gC,{"data-slot":"tabs-trigger",className:Me("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function fg({className:t,...e}){return f.jsx(vC,{"data-slot":"tabs-content",className:Me("flex-1 outline-none",t),...e})}const xC=Tv("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ay({className:t,variant:e,...r}){return f.jsx("div",{"data-slot":"alert",role:"alert",className:Me(xC({variant:e}),t),...r})}function bC({className:t,...e}){return f.jsx("div",{"data-slot":"alert-title",className:Me("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...e})}function ly({className:t,...e}){return f.jsx("div",{"data-slot":"alert-description",className:Me("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}const Ml="wexbjcdxnblsqmjemfvq",$l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndleGJqY2R4bmJsc3FtamVtZnZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2NzA5MjEsImV4cCI6MjA4MDI0NjkyMX0.P4tFliMhQWOVVGF26fZ9vbFhzUxW5EfE0BLW7JROMQM",ko=AE(`https://${Ml}.supabase.co`,$l),_C=({onLoginSuccess:t})=>{const[e,r]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(""),[d,h]=w.useState(""),[m,v]=w.useState(""),[g,x]=w.useState(""),[b,S]=w.useState(""),_=async E=>{E.preventDefault(),r(!0),i(null);try{const{data:j,error:T}=await ko.auth.signInWithPassword({email:l,password:d});if(T)throw T;t()}catch(j){i(j.message||"Failed to sign in")}finally{r(!1)}},C=async E=>{E.preventDefault(),r(!0),i(null);try{const j=await fetch(`https://${Ml}.supabase.co/functions/v1/make-server-5be515e6/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$l}`},body:JSON.stringify({email:g,password:b,name:m})}),T=await j.json();if(!j.ok)throw new Error(T.error||"Signup failed");const{error:R}=await ko.auth.signInWithPassword({email:g,password:b});if(R)throw R;t()}catch(j){i(j.message||"Failed to sign up")}finally{r(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:f.jsxs(yl,{className:"w-full max-w-md shadow-xl",children:[f.jsxs(Rd,{className:"text-center",children:[f.jsx(Td,{className:"text-2xl font-bold text-indigo-600",children:"Sound Map"}),f.jsx(Nd,{children:"Sign in to manage your audio projects"})]}),f.jsxs(wl,{children:[s&&f.jsxs(ay,{variant:"destructive",className:"mb-4",children:[f.jsx(tv,{className:"h-4 w-4"}),f.jsx(bC,{children:"Error"}),f.jsx(ly,{children:s})]}),f.jsxs(yC,{defaultValue:"login",className:"w-full",children:[f.jsxs(wC,{className:"grid w-full grid-cols-2 mb-4",children:[f.jsx(dg,{value:"login",children:"Login"}),f.jsx(dg,{value:"signup",children:"Sign Up"})]}),f.jsx(fg,{value:"login",children:f.jsxs("form",{onSubmit:_,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Zt,{htmlFor:"email",children:"Email"}),f.jsx(qn,{id:"email",type:"email",placeholder:"m@example.com",value:l,onChange:E=>c(E.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Zt,{htmlFor:"password",children:"Password"}),f.jsx(qn,{id:"password",type:"password",value:d,onChange:E=>h(E.target.value),required:!0})]}),f.jsxs(Ne,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700",disabled:e,children:[e?f.jsx(_o,{className:"w-4 h-4 animate-spin mr-2"}):null,"Sign In"]})]})}),f.jsx(fg,{value:"signup",children:f.jsxs("form",{onSubmit:C,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Zt,{htmlFor:"name",children:"Full Name"}),f.jsx(qn,{id:"name",placeholder:"John Doe",value:m,onChange:E=>v(E.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Zt,{htmlFor:"signup-email",children:"Email"}),f.jsx(qn,{id:"signup-email",type:"email",placeholder:"m@example.com",value:g,onChange:E=>x(E.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Zt,{htmlFor:"signup-password",children:"Password"}),f.jsx(qn,{id:"signup-password",type:"password",value:b,onChange:E=>S(E.target.value),required:!0,minLength:6})]}),f.jsxs(Ne,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700",disabled:e,children:[e?f.jsx(_o,{className:"w-4 h-4 animate-spin mr-2"}):null,"Create Account"]})]})})]})]})]})})},SC=({onBack:t,onSignOut:e,onShowOnboarding:r})=>{const[s,i]=w.useState(null),[l,c]=w.useState(""),[d,h]=w.useState(!1),[m,v]=w.useState(null);w.useEffect(()=>{(async()=>{const{data:{user:S}}=await ko.auth.getUser();i(S)})()},[]);const g=async b=>{b.preventDefault(),h(!0),v(null);try{const{data:{session:S}}=await ko.auth.getSession();if(!S)throw new Error("No active session");const _=await fetch(`https://${Ml}.supabase.co/functions/v1/make-server-5be515e6/invite`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S.access_token}`},body:JSON.stringify({email:l})}),C=await _.json();if(!_.ok)throw new Error(C.error||"Invitation failed");v({type:"success",message:"Invitation sent successfully!"}),c("")}catch(S){v({type:"error",message:S.message||"Failed to send invitation"})}finally{h(!1)}},x=async()=>{await ko.auth.signOut(),e()};return s?f.jsx("div",{className:"min-h-screen bg-slate-50 p-4 sm:p-8",children:f.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[f.jsxs(Ne,{variant:"ghost",onClick:t,className:"mb-4 pl-0 hover:bg-transparent hover:text-indigo-600",children:[f.jsx(ul,{className:"w-4 h-4 mr-2"})," Back to Gallery"]}),f.jsxs(yl,{children:[f.jsx(Rd,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"h-16 w-16 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600",children:f.jsx(iv,{className:"w-8 h-8"})}),f.jsxs("div",{children:[f.jsx(Td,{children:s.user_metadata?.full_name||"User"}),f.jsx(Nd,{children:s.email})]})]}),f.jsxs(Ne,{variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:x,children:[f.jsx(A_,{className:"w-4 h-4 mr-2"})," Sign Out"]})]})}),r&&f.jsx(wl,{className:"border-t pt-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("h4",{className:"text-sm font-medium",children:"App Tutorial"}),f.jsx("p",{className:"text-sm text-slate-500",children:"Replay the onboarding tour to learn how to use the app."})]}),f.jsxs(Ne,{variant:"secondary",onClick:r,children:[f.jsx(y_,{className:"w-4 h-4 mr-2"})," View Tutorial"]})]})})]}),f.jsxs(yl,{children:[f.jsxs(Rd,{children:[f.jsxs(Td,{className:"flex items-center gap-2",children:[f.jsx(X_,{className:"w-5 h-5 text-indigo-600"}),"Admin Controls"]}),f.jsx(Nd,{children:"Invite new members to join the workspace."})]}),f.jsx(wl,{children:f.jsxs("form",{onSubmit:g,className:"space-y-4",children:[m&&f.jsxs(ay,{variant:m.type==="success"?"default":"destructive",className:m.type==="success"?"border-green-200 bg-green-50 text-green-800":"",children:[m.type==="success"?f.jsx(bo,{className:"h-4 w-4"}):f.jsx(tv,{className:"h-4 w-4"}),f.jsx(ly,{children:m.message})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx(Zt,{htmlFor:"invite-email",className:"sr-only",children:"Email address"}),f.jsxs("div",{className:"relative",children:[f.jsx(O_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx(qn,{id:"invite-email",placeholder:"colleague@example.com",className:"pl-9",value:l,onChange:b=>c(b.target.value),required:!0,type:"email"})]})]}),f.jsx(Ne,{type:"submit",disabled:d,children:d?"Sending...":"Send Invite"})]}),f.jsx("p",{className:"text-xs text-slate-500",children:"An email invitation will be sent to this address. They will be able to sign up and access the shared projects."})]})})]})]})}):f.jsx("div",{className:"p-8 text-center",children:"Loading profile..."})},kC=({steps:t,currentStepIndex:e,isOpen:r,onNext:s,onClose:i})=>{const[l,c]=w.useState(null),[d,h]=w.useState("4px"),[m,v]=w.useState({opacity:0,pointerEvents:"none"}),g=w.useRef(null),x=t[e];if(w.useLayoutEffect(()=>{if(!r||!x)return;const S=()=>{const C=document.getElementById(x.targetId);if(C){const E=C.getBoundingClientRect(),T=window.getComputedStyle(C).borderRadius||"4px";c(R=>R&&Math.abs(R.top-E.top)<1&&Math.abs(R.left-E.left)<1&&Math.abs(R.width-E.width)<1&&Math.abs(R.height-E.height)<1?R:E),h(R=>R===T?R:T)}else c(null)};S();const _=setInterval(S,500);return window.addEventListener("resize",S),window.addEventListener("scroll",S,!0),()=>{clearInterval(_),window.removeEventListener("resize",S),window.removeEventListener("scroll",S,!0)}},[r,x]),w.useLayoutEffect(()=>{if(!l||!g.current||!x)return;const S=g.current,{width:_,height:C}=S.getBoundingClientRect(),E=window.innerWidth,j=window.innerHeight,T=12,R=10,B=H=>H==="top"?l.top-C-T>=R:H==="bottom"?l.bottom+C+T<=j-R:H==="left"?l.left-_-T>=R:H==="right"?l.right+_+T<=E-R:!1;let L=x.placement||"bottom";if(!B(L)){const Z=["bottom","top","left","right"].find(oe=>B(oe));Z&&(L=Z)}let M=0,$=0;switch(L){case"top":M=l.top-C-T,$=l.left+l.width/2-_/2;break;case"bottom":M=l.bottom+T,$=l.left+l.width/2-_/2;break;case"left":M=l.top+l.height/2-C/2,$=l.left-_-T;break;case"right":M=l.top+l.height/2-C/2,$=l.right+T;break}$=Math.max(R,Math.min($,E-_-R)),M=Math.max(R,Math.min(M,j-C-R)),v({top:M,left:$,opacity:1,pointerEvents:"auto",position:"absolute"})},[l,x]),!r||!x)return null;const b=d.includes("%")?d:`calc(${d} + 4px)`;return Ol.createPortal(f.jsxs("div",{className:"fixed inset-0 z-[100]",style:{pointerEvents:"none"},children:[l&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute bg-black/70",style:{top:0,left:0,right:0,height:l.top-4,pointerEvents:l.top-4>0?"auto":"none"}}),f.jsx("div",{className:"absolute bg-black/70",style:{top:l.bottom+4,left:0,right:0,bottom:0,pointerEvents:"auto"}}),f.jsx("div",{className:"absolute bg-black/70",style:{top:l.top-4,left:0,width:l.left-4,height:l.height+8,pointerEvents:l.left-4>0?"auto":"none"}}),f.jsx("div",{className:"absolute bg-black/70",style:{top:l.top-4,left:l.right+4,right:0,height:l.height+8,pointerEvents:"auto"}}),f.jsx("div",{className:"absolute transition-all duration-300 ease-in-out border-2 border-indigo-500 pointer-events-none",style:{top:l.top-4,left:l.left-4,width:l.width+8,height:l.height+8,borderRadius:b}})]}),f.jsxs("div",{ref:g,className:"bg-white p-4 rounded-lg shadow-xl w-[20rem] max-w-[calc(100vw-20px)] transition-all duration-300 ease-out flex flex-col gap-3",style:m,children:[f.jsxs("div",{className:"flex justify-between items-start gap-2",children:[f.jsx("h3",{className:"font-bold text-slate-900",children:x.title}),f.jsx(Ne,{variant:"ghost",size:"icon",className:"h-6 w-6 -mt-1 -mr-1 text-slate-400 hover:text-slate-600",onClick:i,children:f.jsx(yi,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"text-sm text-slate-600",children:x.description})]})]}),document.body)};function EC(t,e=globalThis?.document){const r=Ft(t);w.useEffect(()=>{const s=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[r,e])}var CC="DismissableLayer",Ad="dismissableLayer.update",RC="dismissableLayer.pointerDownOutside",TC="dismissableLayer.focusOutside",hg,cy=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tf=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...h}=t,m=w.useContext(cy),[v,g]=w.useState(null),x=v?.ownerDocument??globalThis?.document,[,b]=w.useState({}),S=We(e,M=>g(M)),_=Array.from(m.layers),[C]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(C),j=v?_.indexOf(v):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,R=j>=E,B=AC(M=>{const $=M.target,H=[...m.branches].some(Z=>Z.contains($));!R||H||(i?.(M),c?.(M),M.defaultPrevented||d?.())},x),L=PC(M=>{const $=M.target;[...m.branches].some(Z=>Z.contains($))||(l?.(M),c?.(M),M.defaultPrevented||d?.())},x);return EC(M=>{j===m.layers.size-1&&(s?.(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},x),w.useEffect(()=>{if(v)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(hg=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),pg(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=hg)}},[v,x,r,m]),w.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),pg())},[v,m]),w.useEffect(()=>{const M=()=>b({});return document.addEventListener(Ad,M),()=>document.removeEventListener(Ad,M)},[]),f.jsx(Fe.div,{...h,ref:S,style:{pointerEvents:T?R?"auto":"none":void 0,...t.style},onFocusCapture:Se(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Se(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Se(t.onPointerDownCapture,B.onPointerDownCapture)})});tf.displayName=CC;var NC="DismissableLayerBranch",jC=w.forwardRef((t,e)=>{const r=w.useContext(cy),s=w.useRef(null),i=We(e,s);return w.useEffect(()=>{const l=s.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),f.jsx(Fe.div,{...t,ref:i})});jC.displayName=NC;function AC(t,e=globalThis?.document){const r=Ft(t),s=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const l=d=>{if(d.target&&!s.current){let h=function(){uy(RC,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);s.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>s.current=!0}}function PC(t,e=globalThis?.document){const r=Ft(t),s=w.useRef(!1);return w.useEffect(()=>{const i=l=>{l.target&&!s.current&&uy(TC,r,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function pg(){const t=new CustomEvent(Ad);document.dispatchEvent(t)}function uy(t,e,r,{discrete:s}){const i=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),s?Vv(i,l):i.dispatchEvent(l)}var td="focusScope.autoFocusOnMount",nd="focusScope.autoFocusOnUnmount",mg={bubbles:!1,cancelable:!0},OC="FocusScope",nf=w.forwardRef((t,e)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...c}=t,[d,h]=w.useState(null),m=Ft(i),v=Ft(l),g=w.useRef(null),x=We(e,_=>h(_)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let _=function(T){if(b.paused||!d)return;const R=T.target;d.contains(R)?g.current=R:Br(g.current,{select:!0})},C=function(T){if(b.paused||!d)return;const R=T.relatedTarget;R!==null&&(d.contains(R)||Br(g.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const B of T)B.removedNodes.length>0&&Br(d)};document.addEventListener("focusin",_),document.addEventListener("focusout",C);const j=new MutationObserver(E);return d&&j.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",C),j.disconnect()}}},[s,d,b.paused]),w.useEffect(()=>{if(d){vg.add(b);const _=document.activeElement;if(!d.contains(_)){const E=new CustomEvent(td,mg);d.addEventListener(td,m),d.dispatchEvent(E),E.defaultPrevented||(IC(UC(dy(d)),{select:!0}),document.activeElement===_&&Br(d))}return()=>{d.removeEventListener(td,m),setTimeout(()=>{const E=new CustomEvent(nd,mg);d.addEventListener(nd,v),d.dispatchEvent(E),E.defaultPrevented||Br(_??document.body,{select:!0}),d.removeEventListener(nd,v),vg.remove(b)},0)}}},[d,m,v,b]);const S=w.useCallback(_=>{if(!r&&!s||b.paused)return;const C=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,E=document.activeElement;if(C&&E){const j=_.currentTarget,[T,R]=DC(j);T&&R?!_.shiftKey&&E===R?(_.preventDefault(),r&&Br(T,{select:!0})):_.shiftKey&&E===T&&(_.preventDefault(),r&&Br(R,{select:!0})):E===j&&_.preventDefault()}},[r,s,b.paused]);return f.jsx(Fe.div,{tabIndex:-1,...c,ref:x,onKeyDown:S})});nf.displayName=OC;function IC(t,{select:e=!1}={}){const r=document.activeElement;for(const s of t)if(Br(s,{select:e}),document.activeElement!==r)return}function DC(t){const e=dy(t),r=gg(e,t),s=gg(e.reverse(),t);return[r,s]}function dy(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function gg(t,e){for(const r of t)if(!MC(r,{upTo:e}))return r}function MC(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function $C(t){return t instanceof HTMLInputElement&&"select"in t}function Br(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&$C(t)&&e&&t.select()}}var vg=LC();function LC(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=yg(t,e),t.unshift(e)},remove(e){t=yg(t,e),t[0]?.resume()}}}function yg(t,e){const r=[...t],s=r.indexOf(e);return s!==-1&&r.splice(s,1),r}function UC(t){return t.filter(e=>e.tagName!=="A")}var FC="Portal",rf=w.forwardRef((t,e)=>{const{container:r,...s}=t,[i,l]=w.useState(!1);fr(()=>l(!0),[]);const c=r||i&&globalThis?.document?.body;return c?zv.createPortal(f.jsx(Fe.div,{...s,ref:e}),c):null});rf.displayName=FC;var rd=0;function fy(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wg()),document.body.insertAdjacentElement("beforeend",t[1]??wg()),rd++,()=>{rd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),rd--}},[])}function wg(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var al="right-scroll-bar-position",ll="width-before-scroll-bar",zC="with-scroll-bars-hidden",BC="--removed-body-scroll-bar-size";function od(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function VC(t,e){var r=w.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(s){var i=r.value;i!==s&&(r.value=s,r.callback(s,i))}}}})[0];return r.callback=e,r.facade}var WC=typeof window<"u"?w.useLayoutEffect:w.useEffect,xg=new WeakMap;function HC(t,e){var r=VC(null,function(s){return t.forEach(function(i){return od(i,s)})});return WC(function(){var s=xg.get(r);if(s){var i=new Set(s),l=new Set(t),c=r.current;i.forEach(function(d){l.has(d)||od(d,null)}),l.forEach(function(d){i.has(d)||od(d,c)})}xg.set(r,t)},[t]),r}function KC(t){return t}function qC(t,e){e===void 0&&(e=KC);var r=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var c=e(l,s);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(s=!0;r.length;){var c=r;r=[],c.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){s=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(l),c=r}var h=function(){var v=c;c=[],v.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),r={push:function(v){c.push(v),m()},filter:function(v){return c=c.filter(v),r}}}};return i}function GC(t){t===void 0&&(t={});var e=qC(null);return e.options=Kn({async:!0,ssr:!1},t),e}var hy=function(t){var e=t.sideCar,r=bs(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,Kn({},r))};hy.isSideCarExport=!0;function YC(t,e){return t.useMedium(e),hy}var py=GC(),sd=function(){},Ll=w.forwardRef(function(t,e){var r=w.useRef(null),s=w.useState({onScrollCapture:sd,onWheelCapture:sd,onTouchMoveCapture:sd}),i=s[0],l=s[1],c=t.forwardProps,d=t.children,h=t.className,m=t.removeScrollBar,v=t.enabled,g=t.shards,x=t.sideCar,b=t.noRelative,S=t.noIsolation,_=t.inert,C=t.allowPinchZoom,E=t.as,j=E===void 0?"div":E,T=t.gapMode,R=bs(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=x,L=HC([r,e]),M=Kn(Kn({},R),i);return w.createElement(w.Fragment,null,v&&w.createElement(B,{sideCar:py,removeScrollBar:m,shards:g,noRelative:b,noIsolation:S,inert:_,setCallbacks:l,allowPinchZoom:!!C,lockRef:r,gapMode:T}),c?w.cloneElement(w.Children.only(d),Kn(Kn({},M),{ref:L})):w.createElement(j,Kn({},M,{className:h,ref:L}),d))});Ll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ll.classNames={fullWidth:ll,zeroRight:al};var JC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XC(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=JC();return e&&t.setAttribute("nonce",e),t}function QC(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ZC(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var eR=function(){var t=0,e=null;return{add:function(r){t==0&&(e=XC())&&(QC(e,r),ZC(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},tR=function(){var t=eR();return function(e,r){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},my=function(){var t=tR(),e=function(r){var s=r.styles,i=r.dynamic;return t(s,i),null};return e},nR={left:0,top:0,right:0,gap:0},id=function(t){return parseInt(t||"",10)||0},rR=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[id(r),id(s),id(i)]},oR=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return nR;var e=rR(t),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-r+e[2]-e[0])}},sR=my(),ms="data-scroll-locked",iR=function(t,e,r,s){var i=t.left,l=t.top,c=t.right,d=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(zC,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(ms,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(al,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(ll,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(al," .").concat(al,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(ll," .").concat(ll,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ms,`] {
    `).concat(BC,": ").concat(d,`px;
  }
`)},bg=function(){var t=parseInt(document.body.getAttribute(ms)||"0",10);return isFinite(t)?t:0},aR=function(){w.useEffect(function(){return document.body.setAttribute(ms,(bg()+1).toString()),function(){var t=bg()-1;t<=0?document.body.removeAttribute(ms):document.body.setAttribute(ms,t.toString())}},[])},lR=function(t){var e=t.noRelative,r=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;aR();var l=w.useMemo(function(){return oR(i)},[i]);return w.createElement(sR,{styles:iR(l,!e,i,r?"":"!important")})},Pd=!1;if(typeof window<"u")try{var Qa=Object.defineProperty({},"passive",{get:function(){return Pd=!0,!0}});window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Pd=!1}var as=Pd?{passive:!1}:!1,cR=function(t){return t.tagName==="TEXTAREA"},gy=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!cR(t)&&r[e]==="visible")},uR=function(t){return gy(t,"overflowY")},dR=function(t){return gy(t,"overflowX")},_g=function(t,e){var r=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=vy(t,s);if(i){var l=yy(t,s),c=l[1],d=l[2];if(c>d)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},fR=function(t){var e=t.scrollTop,r=t.scrollHeight,s=t.clientHeight;return[e,r,s]},hR=function(t){var e=t.scrollLeft,r=t.scrollWidth,s=t.clientWidth;return[e,r,s]},vy=function(t,e){return t==="v"?uR(e):dR(e)},yy=function(t,e){return t==="v"?fR(e):hR(e)},pR=function(t,e){return t==="h"&&e==="rtl"?-1:1},mR=function(t,e,r,s,i){var l=pR(t,window.getComputedStyle(e).direction),c=l*s,d=r.target,h=e.contains(d),m=!1,v=c>0,g=0,x=0;do{if(!d)break;var b=yy(t,d),S=b[0],_=b[1],C=b[2],E=_-C-l*S;(S||E)&&vy(t,d)&&(g+=E,x+=S);var j=d.parentNode;d=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(v&&Math.abs(g)<1||!v&&Math.abs(x)<1)&&(m=!0),m},Za=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Sg=function(t){return[t.deltaX,t.deltaY]},kg=function(t){return t&&"current"in t?t.current:t},gR=function(t,e){return t[0]===e[0]&&t[1]===e[1]},vR=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},yR=0,ls=[];function wR(t){var e=w.useRef([]),r=w.useRef([0,0]),s=w.useRef(),i=w.useState(yR++)[0],l=w.useState(my)[0],c=w.useRef(t);w.useEffect(function(){c.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=iS([t.lockRef.current],(t.shards||[]).map(kg),!0).filter(Boolean);return _.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=w.useCallback(function(_,C){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!c.current.allowPinchZoom;var E=Za(_),j=r.current,T="deltaX"in _?_.deltaX:j[0]-E[0],R="deltaY"in _?_.deltaY:j[1]-E[1],B,L=_.target,M=Math.abs(T)>Math.abs(R)?"h":"v";if("touches"in _&&M==="h"&&L.type==="range")return!1;var $=window.getSelection(),H=$&&$.anchorNode,Z=H?H===L||H.contains(L):!1;if(Z)return!1;var oe=_g(M,L);if(!oe)return!0;if(oe?B=M:(B=M==="v"?"h":"v",oe=_g(M,L)),!oe)return!1;if(!s.current&&"changedTouches"in _&&(T||R)&&(s.current=B),!B)return!0;var le=s.current||B;return mR(le,C,_,le==="h"?T:R)},[]),h=w.useCallback(function(_){var C=_;if(!(!ls.length||ls[ls.length-1]!==l)){var E="deltaY"in C?Sg(C):Za(C),j=e.current.filter(function(B){return B.name===C.type&&(B.target===C.target||C.target===B.shadowParent)&&gR(B.delta,E)})[0];if(j&&j.should){C.cancelable&&C.preventDefault();return}if(!j){var T=(c.current.shards||[]).map(kg).filter(Boolean).filter(function(B){return B.contains(C.target)}),R=T.length>0?d(C,T[0]):!c.current.noIsolation;R&&C.cancelable&&C.preventDefault()}}},[]),m=w.useCallback(function(_,C,E,j){var T={name:_,delta:C,target:E,should:j,shadowParent:xR(E)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(R){return R!==T})},1)},[]),v=w.useCallback(function(_){r.current=Za(_),s.current=void 0},[]),g=w.useCallback(function(_){m(_.type,Sg(_),_.target,d(_,t.lockRef.current))},[]),x=w.useCallback(function(_){m(_.type,Za(_),_.target,d(_,t.lockRef.current))},[]);w.useEffect(function(){return ls.push(l),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",h,as),document.addEventListener("touchmove",h,as),document.addEventListener("touchstart",v,as),function(){ls=ls.filter(function(_){return _!==l}),document.removeEventListener("wheel",h,as),document.removeEventListener("touchmove",h,as),document.removeEventListener("touchstart",v,as)}},[]);var b=t.removeScrollBar,S=t.inert;return w.createElement(w.Fragment,null,S?w.createElement(l,{styles:vR(i)}):null,b?w.createElement(lR,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function xR(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const bR=YC(py,wR);var of=w.forwardRef(function(t,e){return w.createElement(Ll,Kn({},t,{ref:e,sideCar:bR}))});of.classNames=Ll.classNames;var _R=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},cs=new WeakMap,el=new WeakMap,tl={},ad=0,wy=function(t){return t&&(t.host||wy(t.parentNode))},SR=function(t,e){return e.map(function(r){if(t.contains(r))return r;var s=wy(r);return s&&t.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},kR=function(t,e,r,s){var i=SR(e,Array.isArray(t)?t:[t]);tl[r]||(tl[r]=new WeakMap);var l=tl[r],c=[],d=new Set,h=new Set(i),m=function(g){!g||d.has(g)||(d.add(g),m(g.parentNode))};i.forEach(m);var v=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(x){if(d.has(x))v(x);else try{var b=x.getAttribute(s),S=b!==null&&b!=="false",_=(cs.get(x)||0)+1,C=(l.get(x)||0)+1;cs.set(x,_),l.set(x,C),c.push(x),_===1&&S&&el.set(x,!0),C===1&&x.setAttribute(r,"true"),S||x.setAttribute(s,"true")}catch(E){console.error("aria-hidden: cannot operate on ",x,E)}})};return v(e),d.clear(),ad++,function(){c.forEach(function(g){var x=cs.get(g)-1,b=l.get(g)-1;cs.set(g,x),l.set(g,b),x||(el.has(g)||g.removeAttribute(s),el.delete(g)),b||g.removeAttribute(r)}),ad--,ad||(cs=new WeakMap,cs=new WeakMap,el=new WeakMap,tl={})}},xy=function(t,e,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=_R(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),kR(s,i,r,"aria-hidden")):function(){return null}};function ER(t){const e=CR(t),r=w.forwardRef((s,i)=>{const{children:l,...c}=s,d=w.Children.toArray(l),h=d.find(TR);if(h){const m=h.props.children,v=d.map(g=>g===h?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:i,children:w.isValidElement(m)?w.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:i,children:l})});return r.displayName=`${t}.Slot`,r}function CR(t){const e=w.forwardRef((r,s)=>{const{children:i,...l}=r;if(w.isValidElement(i)){const c=jR(i),d=NR(l,i.props);return i.type!==w.Fragment&&(d.ref=s?qr(s,c):c),w.cloneElement(i,d)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var RR=Symbol("radix.slottable");function TR(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===RR}function NR(t,e){const r={...e};for(const s in e){const i=t[s],l=e[s];/^on[A-Z]/.test(s)?i&&l?r[s]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(r[s]=i):s==="style"?r[s]={...i,...l}:s==="className"&&(r[s]=[i,l].filter(Boolean).join(" "))}return{...t,...r}}function jR(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Ul="Dialog",[by,_y]=Mn(Ul),[AR,$n]=by(Ul),Sy=t=>{const{__scopeDialog:e,children:r,open:s,defaultOpen:i,onOpenChange:l,modal:c=!0}=t,d=w.useRef(null),h=w.useRef(null),[m,v]=Es({prop:s,defaultProp:i??!1,onChange:l,caller:Ul});return f.jsx(AR,{scope:e,triggerRef:d,contentRef:h,contentId:So(),titleId:So(),descriptionId:So(),open:m,onOpenChange:v,onOpenToggle:w.useCallback(()=>v(g=>!g),[v]),modal:c,children:r})};Sy.displayName=Ul;var ky="DialogTrigger",Ey=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,i=$n(ky,r),l=We(e,i.triggerRef);return f.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":lf(i.open),...s,ref:l,onClick:Se(t.onClick,i.onOpenToggle)})});Ey.displayName=ky;var sf="DialogPortal",[PR,Cy]=by(sf,{forceMount:void 0}),Ry=t=>{const{__scopeDialog:e,forceMount:r,children:s,container:i}=t,l=$n(sf,e);return f.jsx(PR,{scope:e,forceMount:r,children:w.Children.map(s,c=>f.jsx(dn,{present:r||l.open,children:f.jsx(rf,{asChild:!0,container:i,children:c})}))})};Ry.displayName=sf;var xl="DialogOverlay",Ty=w.forwardRef((t,e)=>{const r=Cy(xl,t.__scopeDialog),{forceMount:s=r.forceMount,...i}=t,l=$n(xl,t.__scopeDialog);return l.modal?f.jsx(dn,{present:s||l.open,children:f.jsx(IR,{...i,ref:e})}):null});Ty.displayName=xl;var OR=ER("DialogOverlay.RemoveScroll"),IR=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,i=$n(xl,r);return f.jsx(of,{as:OR,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(Fe.div,{"data-state":lf(i.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Eo="DialogContent",Ny=w.forwardRef((t,e)=>{const r=Cy(Eo,t.__scopeDialog),{forceMount:s=r.forceMount,...i}=t,l=$n(Eo,t.__scopeDialog);return f.jsx(dn,{present:s||l.open,children:l.modal?f.jsx(DR,{...i,ref:e}):f.jsx(MR,{...i,ref:e})})});Ny.displayName=Eo;var DR=w.forwardRef((t,e)=>{const r=$n(Eo,t.__scopeDialog),s=w.useRef(null),i=We(e,r.contentRef,s);return w.useEffect(()=>{const l=s.current;if(l)return xy(l)},[]),f.jsx(jy,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(t.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Se(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Se(t.onFocusOutside,l=>l.preventDefault())})}),MR=w.forwardRef((t,e)=>{const r=$n(Eo,t.__scopeDialog),s=w.useRef(!1),i=w.useRef(!1);return f.jsx(jy,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(s.current||r.triggerRef.current?.focus(),l.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;r.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),jy=w.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=t,d=$n(Eo,r),h=w.useRef(null),m=We(e,h);return fy(),f.jsxs(f.Fragment,{children:[f.jsx(nf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:l,children:f.jsx(tf,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":lf(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(LR,{titleId:d.titleId}),f.jsx(FR,{contentRef:h,descriptionId:d.descriptionId})]})]})}),af="DialogTitle",Ay=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,i=$n(af,r);return f.jsx(Fe.h2,{id:i.titleId,...s,ref:e})});Ay.displayName=af;var Py="DialogDescription",Oy=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,i=$n(Py,r);return f.jsx(Fe.p,{id:i.descriptionId,...s,ref:e})});Oy.displayName=Py;var Iy="DialogClose",Dy=w.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,i=$n(Iy,r);return f.jsx(Fe.button,{type:"button",...s,ref:e,onClick:Se(t.onClick,()=>i.onOpenChange(!1))})});Dy.displayName=Iy;function lf(t){return t?"open":"closed"}var My="DialogTitleWarning",[$R,$y]=O1(My,{contentName:Eo,titleName:af,docsSlug:"dialog"}),LR=({titleId:t})=>{const e=$y(My),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},UR="DialogDescriptionWarning",FR=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$y(UR).contentName}}.`;return w.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},cf=Sy,uf=Ey,df=Ry,Fl=Ty,zl=Ny,Bl=Ay,Vl=Oy,ff=Dy;function hf({...t}){return f.jsx(cf,{"data-slot":"dialog",...t})}function zR({...t}){return f.jsx(uf,{"data-slot":"dialog-trigger",...t})}function BR({...t}){return f.jsx(df,{"data-slot":"dialog-portal",...t})}const Ly=w.forwardRef(({className:t,...e},r)=>f.jsx(Fl,{ref:r,"data-slot":"dialog-overlay",className:Me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));Ly.displayName=Fl.displayName;const Wl=w.forwardRef(({className:t,children:e,...r},s)=>f.jsxs(BR,{"data-slot":"dialog-portal",children:[f.jsx(Ly,{}),f.jsxs(zl,{ref:s,"data-slot":"dialog-content",className:Me("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,f.jsxs(ff,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[f.jsx(yi,{}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wl.displayName=zl.displayName;function pf({className:t,...e}){return f.jsx("div",{"data-slot":"dialog-header",className:Me("flex flex-col gap-2 text-center sm:text-left",t),...e})}const Hl=w.forwardRef(({className:t,...e},r)=>f.jsx(Bl,{ref:r,"data-slot":"dialog-title",className:Me("text-lg leading-none font-semibold",t),...e}));Hl.displayName=Bl.displayName;const Kl=w.forwardRef(({className:t,...e},r)=>f.jsx(Vl,{ref:r,"data-slot":"dialog-description",className:Me("text-muted-foreground text-sm",t),...e}));Kl.displayName=Vl.displayName;function mf(t,[e,r]){return Math.min(r,Math.max(e,t))}function VR(t,e){return w.useReducer((r,s)=>e[r][s]??r,t)}var gf="ScrollArea",[Uy]=Mn(gf),[WR,_n]=Uy(gf),Fy=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:s="hover",dir:i,scrollHideDelay:l=600,...c}=t,[d,h]=w.useState(null),[m,v]=w.useState(null),[g,x]=w.useState(null),[b,S]=w.useState(null),[_,C]=w.useState(null),[E,j]=w.useState(0),[T,R]=w.useState(0),[B,L]=w.useState(!1),[M,$]=w.useState(!1),H=We(e,oe=>h(oe)),Z=Ai(i);return f.jsx(WR,{scope:r,type:s,dir:Z,scrollHideDelay:l,scrollArea:d,viewport:m,onViewportChange:v,content:g,onContentChange:x,scrollbarX:b,onScrollbarXChange:S,scrollbarXEnabled:B,onScrollbarXEnabledChange:L,scrollbarY:_,onScrollbarYChange:C,scrollbarYEnabled:M,onScrollbarYEnabledChange:$,onCornerWidthChange:j,onCornerHeightChange:R,children:f.jsx(Fe.div,{dir:Z,...c,ref:H,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});Fy.displayName=gf;var zy="ScrollAreaViewport",By=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:s,nonce:i,...l}=t,c=_n(zy,r),d=w.useRef(null),h=We(e,d,c.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),f.jsx(Fe.div,{"data-radix-scroll-area-viewport":"",...l,ref:h,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:f.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});By.displayName=zy;var Xn="ScrollAreaScrollbar",Vy=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,i=_n(Xn,t.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=i,d=t.orientation==="horizontal";return w.useEffect(()=>(d?l(!0):c(!0),()=>{d?l(!1):c(!1)}),[d,l,c]),i.type==="hover"?f.jsx(HR,{...s,ref:e,forceMount:r}):i.type==="scroll"?f.jsx(KR,{...s,ref:e,forceMount:r}):i.type==="auto"?f.jsx(Wy,{...s,ref:e,forceMount:r}):i.type==="always"?f.jsx(vf,{...s,ref:e}):null});Vy.displayName=Xn;var HR=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,i=_n(Xn,t.__scopeScrollArea),[l,c]=w.useState(!1);return w.useEffect(()=>{const d=i.scrollArea;let h=0;if(d){const m=()=>{window.clearTimeout(h),c(!0)},v=()=>{h=window.setTimeout(()=>c(!1),i.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",v),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",v)}}},[i.scrollArea,i.scrollHideDelay]),f.jsx(dn,{present:r||l,children:f.jsx(Wy,{"data-state":l?"visible":"hidden",...s,ref:e})})}),KR=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,i=_n(Xn,t.__scopeScrollArea),l=t.orientation==="horizontal",c=Gl(()=>h("SCROLL_END"),100),[d,h]=VR("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>h("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,i.scrollHideDelay,h]),w.useEffect(()=>{const m=i.viewport,v=l?"scrollLeft":"scrollTop";if(m){let g=m[v];const x=()=>{const b=m[v];g!==b&&(h("SCROLL"),c()),g=b};return m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[i.viewport,l,h,c]),f.jsx(dn,{present:r||d!=="hidden",children:f.jsx(vf,{"data-state":d==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:Se(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Se(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),Wy=w.forwardRef((t,e)=>{const r=_n(Xn,t.__scopeScrollArea),{forceMount:s,...i}=t,[l,c]=w.useState(!1),d=t.orientation==="horizontal",h=Gl(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,v=r.viewport.offsetHeight<r.viewport.scrollHeight;c(d?m:v)}},10);return ws(r.viewport,h),ws(r.content,h),f.jsx(dn,{present:s||l,children:f.jsx(vf,{"data-state":l?"visible":"hidden",...i,ref:e})})}),vf=w.forwardRef((t,e)=>{const{orientation:r="vertical",...s}=t,i=_n(Xn,t.__scopeScrollArea),l=w.useRef(null),c=w.useRef(0),[d,h]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=Yy(d.viewport,d.content),v={...s,sizes:d,onSizesChange:h,hasThumb:m>0&&m<1,onThumbChange:x=>l.current=x,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:x=>c.current=x};function g(x,b){return QR(x,c.current,d,b)}return r==="horizontal"?f.jsx(qR,{...v,ref:e,onThumbPositionChange:()=>{if(i.viewport&&l.current){const x=i.viewport.scrollLeft,b=Eg(x,d,i.dir);l.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:x=>{i.viewport&&(i.viewport.scrollLeft=x)},onDragScroll:x=>{i.viewport&&(i.viewport.scrollLeft=g(x,i.dir))}}):r==="vertical"?f.jsx(GR,{...v,ref:e,onThumbPositionChange:()=>{if(i.viewport&&l.current){const x=i.viewport.scrollTop,b=Eg(x,d);l.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:x=>{i.viewport&&(i.viewport.scrollTop=x)},onDragScroll:x=>{i.viewport&&(i.viewport.scrollTop=g(x))}}):null}),qR=w.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...i}=t,l=_n(Xn,t.__scopeScrollArea),[c,d]=w.useState(),h=w.useRef(null),m=We(e,h,l.onScrollbarXChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),f.jsx(Ky,{"data-orientation":"horizontal",...i,ref:m,sizes:r,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ql(r)+"px",...t.style},onThumbPointerDown:v=>t.onThumbPointerDown(v.x),onDragScroll:v=>t.onDragScroll(v.x),onWheelScroll:(v,g)=>{if(l.viewport){const x=l.viewport.scrollLeft+v.deltaX;t.onWheelScroll(x),Xy(x,g)&&v.preventDefault()}},onResize:()=>{h.current&&l.viewport&&c&&s({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:_l(c.paddingLeft),paddingEnd:_l(c.paddingRight)}})}})}),GR=w.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...i}=t,l=_n(Xn,t.__scopeScrollArea),[c,d]=w.useState(),h=w.useRef(null),m=We(e,h,l.onScrollbarYChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),f.jsx(Ky,{"data-orientation":"vertical",...i,ref:m,sizes:r,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ql(r)+"px",...t.style},onThumbPointerDown:v=>t.onThumbPointerDown(v.y),onDragScroll:v=>t.onDragScroll(v.y),onWheelScroll:(v,g)=>{if(l.viewport){const x=l.viewport.scrollTop+v.deltaY;t.onWheelScroll(x),Xy(x,g)&&v.preventDefault()}},onResize:()=>{h.current&&l.viewport&&c&&s({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:_l(c.paddingTop),paddingEnd:_l(c.paddingBottom)}})}})}),[YR,Hy]=Uy(Xn),Ky=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:i,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:m,onWheelScroll:v,onResize:g,...x}=t,b=_n(Xn,r),[S,_]=w.useState(null),C=We(e,H=>_(H)),E=w.useRef(null),j=w.useRef(""),T=b.viewport,R=s.content-s.viewport,B=Ft(v),L=Ft(h),M=Gl(g,10);function $(H){if(E.current){const Z=H.clientX-E.current.left,oe=H.clientY-E.current.top;m({x:Z,y:oe})}}return w.useEffect(()=>{const H=Z=>{const oe=Z.target;S?.contains(oe)&&B(Z,R)};return document.addEventListener("wheel",H,{passive:!1}),()=>document.removeEventListener("wheel",H,{passive:!1})},[T,S,R,B]),w.useEffect(L,[s,L]),ws(S,M),ws(b.content,M),f.jsx(YR,{scope:r,scrollbar:S,hasThumb:i,onThumbChange:Ft(l),onThumbPointerUp:Ft(c),onThumbPositionChange:L,onThumbPointerDown:Ft(d),children:f.jsx(Fe.div,{...x,ref:C,style:{position:"absolute",...x.style},onPointerDown:Se(t.onPointerDown,H=>{H.button===0&&(H.target.setPointerCapture(H.pointerId),E.current=S.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),$(H))}),onPointerMove:Se(t.onPointerMove,$),onPointerUp:Se(t.onPointerUp,H=>{const Z=H.target;Z.hasPointerCapture(H.pointerId)&&Z.releasePointerCapture(H.pointerId),document.body.style.webkitUserSelect=j.current,b.viewport&&(b.viewport.style.scrollBehavior=""),E.current=null})})})}),bl="ScrollAreaThumb",qy=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,i=Hy(bl,t.__scopeScrollArea);return f.jsx(dn,{present:r||i.hasThumb,children:f.jsx(JR,{ref:e,...s})})}),JR=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:s,...i}=t,l=_n(bl,r),c=Hy(bl,r),{onThumbPositionChange:d}=c,h=We(e,g=>c.onThumbChange(g)),m=w.useRef(void 0),v=Gl(()=>{m.current&&(m.current(),m.current=void 0)},100);return w.useEffect(()=>{const g=l.viewport;if(g){const x=()=>{if(v(),!m.current){const b=ZR(g,d);m.current=b,d()}};return d(),g.addEventListener("scroll",x),()=>g.removeEventListener("scroll",x)}},[l.viewport,v,d]),f.jsx(Fe.div,{"data-state":c.hasThumb?"visible":"hidden",...i,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Se(t.onPointerDownCapture,g=>{const b=g.target.getBoundingClientRect(),S=g.clientX-b.left,_=g.clientY-b.top;c.onThumbPointerDown({x:S,y:_})}),onPointerUp:Se(t.onPointerUp,c.onThumbPointerUp)})});qy.displayName=bl;var yf="ScrollAreaCorner",Gy=w.forwardRef((t,e)=>{const r=_n(yf,t.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?f.jsx(XR,{...t,ref:e}):null});Gy.displayName=yf;var XR=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,...s}=t,i=_n(yf,r),[l,c]=w.useState(0),[d,h]=w.useState(0),m=!!(l&&d);return ws(i.scrollbarX,()=>{const v=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(v),h(v)}),ws(i.scrollbarY,()=>{const v=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(v),c(v)}),m?f.jsx(Fe.div,{...s,ref:e,style:{width:l,height:d,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function _l(t){return t?parseInt(t,10):0}function Yy(t,e){const r=t/e;return isNaN(r)?0:r}function ql(t){const e=Yy(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-r)*e;return Math.max(s,18)}function QR(t,e,r,s="ltr"){const i=ql(r),l=i/2,c=e||l,d=i-c,h=r.scrollbar.paddingStart+c,m=r.scrollbar.size-r.scrollbar.paddingEnd-d,v=r.content-r.viewport,g=s==="ltr"?[0,v]:[v*-1,0];return Jy([h,m],g)(t)}function Eg(t,e,r="ltr"){const s=ql(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,l=e.scrollbar.size-i,c=e.content-e.viewport,d=l-s,h=r==="ltr"?[0,c]:[c*-1,0],m=mf(t,h);return Jy([0,c],[0,d])(m)}function Jy(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(r-t[0])}}function Xy(t,e){return t>0&&t<e}var ZR=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},s=0;return(function i(){const l={left:t.scrollLeft,top:t.scrollTop},c=r.left!==l.left,d=r.top!==l.top;(c||d)&&e(),r=l,s=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(s)};function Gl(t,e){const r=Ft(t),s=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),w.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,e)},[r,e])}function ws(t,e){const r=Ft(e);fr(()=>{let s=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(s),i.unobserve(t)}}},[t,r])}var eT=Fy,tT=By,nT=Gy;function rT({className:t,children:e,...r}){return f.jsxs(eT,{"data-slot":"scroll-area",className:Me("relative",t),...r,children:[f.jsx(tT,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),f.jsx(oT,{}),f.jsx(nT,{})]})}function oT({className:t,orientation:e="vertical",...r}){return f.jsx(Vy,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Me("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...r,children:f.jsx(qy,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function sT(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const iT=t=>{switch(t){case"success":return cT;case"info":return dT;case"warning":return uT;case"error":return fT;default:return null}},aT=Array(12).fill(0),lT=({visible:t,className:e})=>z.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},z.createElement("div",{className:"sonner-spinner"},aT.map((r,s)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),cT=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uT=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dT=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fT=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hT=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pT=()=>{const[t,e]=z.useState(document.hidden);return z.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let Od=1;class mT{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:s,...i}=e,l=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Od++,c=this.toasts.find(h=>h.id===l),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...e,id:l,title:s}),{...h,...e,id:l,dismissible:d,title:s}):h):this.addToast({title:s,...i,dismissible:d,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let l=s!==void 0,c;const d=i.then(async m=>{if(c=["resolve",m],z.isValidElement(m))l=!1,this.create({id:s,type:"default",message:m});else if(vT(m)&&!m.ok){l=!1;const g=typeof r.error=="function"?await r.error(`HTTP error! status: ${m.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${m.status}`):r.description,S=typeof g=="object"&&!z.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...S})}else if(m instanceof Error){l=!1;const g=typeof r.error=="function"?await r.error(m):r.error,x=typeof r.description=="function"?await r.description(m):r.description,S=typeof g=="object"&&!z.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...S})}else if(r.success!==void 0){l=!1;const g=typeof r.success=="function"?await r.success(m):r.success,x=typeof r.description=="function"?await r.description(m):r.description,S=typeof g=="object"&&!z.isValidElement(g)?g:{message:g};this.create({id:s,type:"success",description:x,...S})}}).catch(async m=>{if(c=["reject",m],r.error!==void 0){l=!1;const v=typeof r.error=="function"?await r.error(m):r.error,g=typeof r.description=="function"?await r.description(m):r.description,b=typeof v=="object"&&!z.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:g,...b})}}).finally(()=>{l&&(this.dismiss(s),s=void 0),r.finally==null||r.finally.call(r)}),h=()=>new Promise((m,v)=>d.then(()=>c[0]==="reject"?v(c[1]):m(c[1])).catch(v));return typeof s!="string"&&typeof s!="number"?{unwrap:h}:Object.assign(s,{unwrap:h})},this.custom=(e,r)=>{const s=r?.id||Od++;return this.create({jsx:e(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Qt=new mT,gT=(t,e)=>{const r=e?.id||Od++;return Qt.addToast({title:t,...e,id:r}),r},vT=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",yT=gT,wT=()=>Qt.toasts,xT=()=>Qt.getActiveToasts(),lt=Object.assign(yT,{success:Qt.success,info:Qt.info,warning:Qt.warning,error:Qt.error,custom:Qt.custom,message:Qt.message,promise:Qt.promise,dismiss:Qt.dismiss,loading:Qt.loading},{getHistory:wT,getToasts:xT});sT("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function nl(t){return t.label!==void 0}const bT=3,_T="24px",ST="16px",Cg=4e3,kT=356,ET=14,CT=45,RT=200;function Hn(...t){return t.filter(Boolean).join(" ")}function TT(t){const[e,r]=t.split("-"),s=[];return e&&s.push(e),r&&s.push(r),s}const NT=t=>{var e,r,s,i,l,c,d,h,m;const{invert:v,toast:g,unstyled:x,interacting:b,setHeights:S,visibleToasts:_,heights:C,index:E,toasts:j,expanded:T,removeToast:R,defaultRichColors:B,closeButton:L,style:M,cancelButtonStyle:$,actionButtonStyle:H,className:Z="",descriptionClassName:oe="",duration:le,position:Y,gap:ce,expandByDefault:se,classNames:G,icons:J,closeButtonAriaLabel:A="Close toast"}=t,[V,X]=z.useState(null),[O,D]=z.useState(null),[K,Q]=z.useState(!1),[ae,fe]=z.useState(!1),[q,ee]=z.useState(!1),[ue,ke]=z.useState(!1),[Oe,Je]=z.useState(!1),[rt,Ee]=z.useState(0),[Nt,Ln]=z.useState(0),It=z.useRef(g.duration||le||Cg),he=z.useRef(null),Ce=z.useRef(null),Ie=E===0,ot=E+1<=_,Ze=g.type,xt=g.dismissible!==!1,er=g.className||"",yr=g.descriptionClassName||"",fn=z.useMemo(()=>C.findIndex(be=>be.toastId===g.id)||0,[C,g.id]),Gr=z.useMemo(()=>{var be;return(be=g.closeButton)!=null?be:L},[g.closeButton,L]),hn=z.useMemo(()=>g.duration||le||Cg,[g.duration,le]),wr=z.useRef(0),zt=z.useRef(0),Un=z.useRef(0),Ht=z.useRef(null),[Yr,jo]=Y.split("-"),Ao=z.useMemo(()=>C.reduce((be,Ue,Xe)=>Xe>=fn?be:be+Ue.height,0),[C,fn]),xr=pT(),Jr=g.invert||v,tr=Ze==="loading";zt.current=z.useMemo(()=>fn*ce+Ao,[fn,Ao]),z.useEffect(()=>{It.current=hn},[hn]),z.useEffect(()=>{Q(!0)},[]),z.useEffect(()=>{const be=Ce.current;if(be){const Ue=be.getBoundingClientRect().height;return Ln(Ue),S(Xe=>[{toastId:g.id,height:Ue,position:g.position},...Xe]),()=>S(Xe=>Xe.filter(Qe=>Qe.toastId!==g.id))}},[S,g.id]),z.useLayoutEffect(()=>{if(!K)return;const be=Ce.current,Ue=be.style.height;be.style.height="auto";const Xe=be.getBoundingClientRect().height;be.style.height=Ue,Ln(Xe),S(Qe=>Qe.find(qe=>qe.toastId===g.id)?Qe.map(qe=>qe.toastId===g.id?{...qe,height:Xe}:qe):[{toastId:g.id,height:Xe,position:g.position},...Qe])},[K,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const we=z.useCallback(()=>{fe(!0),Ee(zt.current),S(be=>be.filter(Ue=>Ue.toastId!==g.id)),setTimeout(()=>{R(g)},RT)},[g,R,S,zt]);z.useEffect(()=>{if(g.promise&&Ze==="loading"||g.duration===1/0||g.type==="loading")return;let be;return T||b||xr?(()=>{if(Un.current<wr.current){const Qe=new Date().getTime()-wr.current;It.current=It.current-Qe}Un.current=new Date().getTime()})():(()=>{It.current!==1/0&&(wr.current=new Date().getTime(),be=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),we()},It.current))})(),()=>clearTimeout(be)},[T,b,g,Ze,xr,we]),z.useEffect(()=>{g.delete&&(we(),g.onDismiss==null||g.onDismiss.call(g,g))},[we,g.delete]);function ze(){var be;if(J?.loading){var Ue;return z.createElement("div",{className:Hn(G?.loader,g==null||(Ue=g.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":Ze==="loading"},J.loading)}return z.createElement(lT,{className:Hn(G?.loader,g==null||(be=g.classNames)==null?void 0:be.loader),visible:Ze==="loading"})}const Be=g.icon||J?.[Ze]||iT(Ze);var De,et;return z.createElement("li",{tabIndex:0,ref:Ce,className:Hn(Z,er,G?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,G?.default,G?.[Ze],g==null||(r=g.classNames)==null?void 0:r[Ze]),"data-sonner-toast":"","data-rich-colors":(De=g.richColors)!=null?De:B,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":K,"data-promise":!!g.promise,"data-swiped":Oe,"data-removed":ae,"data-visible":ot,"data-y-position":Yr,"data-x-position":jo,"data-index":E,"data-front":Ie,"data-swiping":q,"data-dismissible":xt,"data-type":Ze,"data-invert":Jr,"data-swipe-out":ue,"data-swipe-direction":O,"data-expanded":!!(T||se&&K),"data-testid":g.testId,style:{"--index":E,"--toasts-before":E,"--z-index":j.length-E,"--offset":`${ae?rt:zt.current}px`,"--initial-height":se?"auto":`${Nt}px`,...M,...g.style},onDragEnd:()=>{ee(!1),X(null),Ht.current=null},onPointerDown:be=>{be.button!==2&&(tr||!xt||(he.current=new Date,Ee(zt.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(ee(!0),Ht.current={x:be.clientX,y:be.clientY})))},onPointerUp:()=>{var be,Ue,Xe;if(ue||!xt)return;Ht.current=null;const Qe=Number(((be=Ce.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Dt=Number(((Ue=Ce.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qe=new Date().getTime()-((Xe=he.current)==null?void 0:Xe.getTime()),Ge=V==="x"?Qe:Dt,en=Math.abs(Ge)/qe;if(Math.abs(Ge)>=CT||en>.11){Ee(zt.current),g.onDismiss==null||g.onDismiss.call(g,g),D(V==="x"?Qe>0?"right":"left":Dt>0?"down":"up"),we(),ke(!0);return}else{var gt,tn;(gt=Ce.current)==null||gt.style.setProperty("--swipe-amount-x","0px"),(tn=Ce.current)==null||tn.style.setProperty("--swipe-amount-y","0px")}Je(!1),ee(!1),X(null)},onPointerMove:be=>{var Ue,Xe,Qe;if(!Ht.current||!xt||((Ue=window.getSelection())==null?void 0:Ue.toString().length)>0)return;const qe=be.clientY-Ht.current.y,Ge=be.clientX-Ht.current.x;var en;const gt=(en=t.swipeDirections)!=null?en:TT(Y);!V&&(Math.abs(Ge)>1||Math.abs(qe)>1)&&X(Math.abs(Ge)>Math.abs(qe)?"x":"y");let tn={x:0,y:0};const br=pn=>1/(1.5+Math.abs(pn)/20);if(V==="y"){if(gt.includes("top")||gt.includes("bottom"))if(gt.includes("top")&&qe<0||gt.includes("bottom")&&qe>0)tn.y=qe;else{const pn=qe*br(qe);tn.y=Math.abs(pn)<Math.abs(qe)?pn:qe}}else if(V==="x"&&(gt.includes("left")||gt.includes("right")))if(gt.includes("left")&&Ge<0||gt.includes("right")&&Ge>0)tn.x=Ge;else{const pn=Ge*br(Ge);tn.x=Math.abs(pn)<Math.abs(Ge)?pn:Ge}(Math.abs(tn.x)>0||Math.abs(tn.y)>0)&&Je(!0),(Xe=Ce.current)==null||Xe.style.setProperty("--swipe-amount-x",`${tn.x}px`),(Qe=Ce.current)==null||Qe.style.setProperty("--swipe-amount-y",`${tn.y}px`)}},Gr&&!g.jsx&&Ze!=="loading"?z.createElement("button",{"aria-label":A,"data-disabled":tr,"data-close-button":!0,onClick:tr||!xt?()=>{}:()=>{we(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Hn(G?.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(et=J?.close)!=null?et:hT):null,(Ze||g.icon||g.promise)&&g.icon!==null&&(J?.[Ze]!==null||g.icon)?z.createElement("div",{"data-icon":"",className:Hn(G?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ze():null,g.type!=="loading"?Be:null):null,z.createElement("div",{"data-content":"",className:Hn(G?.content,g==null||(l=g.classNames)==null?void 0:l.content)},z.createElement("div",{"data-title":"",className:Hn(G?.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?z.createElement("div",{"data-description":"",className:Hn(oe,yr,G?.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),z.isValidElement(g.cancel)?g.cancel:g.cancel&&nl(g.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||$,onClick:be=>{nl(g.cancel)&&xt&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,be),we())},className:Hn(G?.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,z.isValidElement(g.action)?g.action:g.action&&nl(g.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||H,onClick:be=>{nl(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,be),!be.defaultPrevented&&we())},className:Hn(G?.actionButton,g==null||(m=g.classNames)==null?void 0:m.actionButton)},g.action.label):null)};function Rg(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function jT(t,e){const r={};return[t,e].forEach((s,i)=>{const l=i===1,c=l?"--mobile-offset":"--offset",d=l?ST:_T;function h(m){["top","right","bottom","left"].forEach(v=>{r[`${c}-${v}`]=typeof m=="number"?`${m}px`:m})}typeof s=="number"||typeof s=="string"?h(s):typeof s=="object"?["top","right","bottom","left"].forEach(m=>{s[m]===void 0?r[`${c}-${m}`]=d:r[`${c}-${m}`]=typeof s[m]=="number"?`${s[m]}px`:s[m]}):h(d)}),r}const AT=z.forwardRef(function(e,r){const{id:s,invert:i,position:l="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:h,className:m,offset:v,mobileOffset:g,theme:x="light",richColors:b,duration:S,style:_,visibleToasts:C=bT,toastOptions:E,dir:j=Rg(),gap:T=ET,icons:R,containerAriaLabel:B="Notifications"}=e,[L,M]=z.useState([]),$=z.useMemo(()=>s?L.filter(K=>K.toasterId===s):L.filter(K=>!K.toasterId),[L,s]),H=z.useMemo(()=>Array.from(new Set([l].concat($.filter(K=>K.position).map(K=>K.position)))),[$,l]),[Z,oe]=z.useState([]),[le,Y]=z.useState(!1),[ce,se]=z.useState(!1),[G,J]=z.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),A=z.useRef(null),V=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=z.useRef(null),O=z.useRef(!1),D=z.useCallback(K=>{M(Q=>{var ae;return(ae=Q.find(fe=>fe.id===K.id))!=null&&ae.delete||Qt.dismiss(K.id),Q.filter(({id:fe})=>fe!==K.id)})},[]);return z.useEffect(()=>Qt.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{M(Q=>Q.map(ae=>ae.id===K.id?{...ae,delete:!0}:ae))});return}setTimeout(()=>{zv.flushSync(()=>{M(Q=>{const ae=Q.findIndex(fe=>fe.id===K.id);return ae!==-1?[...Q.slice(0,ae),{...Q[ae],...K},...Q.slice(ae+1)]:[K,...Q]})})})}),[L]),z.useEffect(()=>{if(x!=="system"){J(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:Q})=>{J(Q?"dark":"light")})}catch{K.addListener(({matches:ae})=>{try{J(ae?"dark":"light")}catch(fe){console.error(fe)}})}},[x]),z.useEffect(()=>{L.length<=1&&Y(!1)},[L]),z.useEffect(()=>{const K=Q=>{var ae;if(c.every(ee=>Q[ee]||Q.code===ee)){var q;Y(!0),(q=A.current)==null||q.focus()}Q.code==="Escape"&&(document.activeElement===A.current||(ae=A.current)!=null&&ae.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[c]),z.useEffect(()=>{if(A.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,O.current=!1)}},[A.current]),z.createElement("section",{ref:r,"aria-label":`${B} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map((K,Q)=>{var ae;const[fe,q]=K.split("-");return $.length?z.createElement("ol",{key:K,dir:j==="auto"?Rg():j,tabIndex:-1,ref:A,className:m,"data-sonner-toaster":!0,"data-sonner-theme":G,"data-y-position":fe,"data-x-position":q,style:{"--front-toast-height":`${((ae=Z[0])==null?void 0:ae.height)||0}px`,"--width":`${kT}px`,"--gap":`${T}px`,..._,...jT(v,g)},onBlur:ee=>{O.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(O.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||O.current||(O.current=!0,X.current=ee.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{ce||Y(!1)},onDragEnd:()=>Y(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||se(!0)},onPointerUp:()=>se(!1)},$.filter(ee=>!ee.position&&Q===0||ee.position===K).map((ee,ue)=>{var ke,Oe;return z.createElement(NT,{key:ee.id,icons:R,index:ue,toast:ee,defaultRichColors:b,duration:(ke=E?.duration)!=null?ke:S,className:E?.className,descriptionClassName:E?.descriptionClassName,invert:i,visibleToasts:C,closeButton:(Oe=E?.closeButton)!=null?Oe:h,interacting:ce,position:K,style:E?.style,unstyled:E?.unstyled,classNames:E?.classNames,cancelButtonStyle:E?.cancelButtonStyle,actionButtonStyle:E?.actionButtonStyle,closeButtonAriaLabel:E?.closeButtonAriaLabel,removeToast:D,toasts:$.filter(Je=>Je.position==ee.position),heights:Z.filter(Je=>Je.position==ee.position),setHeights:oe,expandByDefault:d,gap:T,expanded:le,swipeDirections:e.swipeDirections})})):null}))}),PT={"audio/mpeg":[".mp3"],"audio/mp4":[".m4a"],"audio/mp3":[".mp3"],"audio/ogg":[".ogg"],"audio/x-m4a":[".m4a"]},Sl={VOICE_RECORDING:{MAX_DURATION_SECONDS:180,MAX_SIZE_BYTES:3*1024*1024},UPLOADED_AUDIO:{MAX_DURATION_SECONDS:300,MAX_SIZE_BYTES:10*1024*1024}},OT=t=>Object.keys(PT).includes(t),Qy=t=>{const e=t.type.toLowerCase();return OT(e)?{isValid:!0}:{isValid:!1,error:"Unsupported format. Only MP3, M4A (AAC), and OGG files are allowed."}},Id=(t,e)=>{const r=e?Sl.VOICE_RECORDING.MAX_SIZE_BYTES:Sl.UPLOADED_AUDIO.MAX_SIZE_BYTES;return t>r?{isValid:!1,error:`File size exceeds ${r/1048576} MB limit for ${e?"recordings":"uploads"}.`}:{isValid:!0}},Dd=async(t,e)=>new Promise(r=>{const s=new Audio,i=URL.createObjectURL(t);s.onloadedmetadata=()=>{URL.revokeObjectURL(i);const l=s.duration,c=e?Sl.VOICE_RECORDING.MAX_DURATION_SECONDS:Sl.UPLOADED_AUDIO.MAX_DURATION_SECONDS;if(l>c){const d=Math.floor(c/60);r({isValid:!1,error:`Audio duration exceeds ${d} minute limit for ${e?"recordings":"uploads"}.`})}else r({isValid:!0})},s.onerror=()=>{URL.revokeObjectURL(i),r({isValid:!1,error:"Unable to validate audio duration. File may be corrupted."})},s.src=i}),ld="9Zlyu8Q6bhpEENkjKrF2eScP7eVZ1Pgmpg1mxz0q",IT=({open:t,onOpenChange:e,onLocalUpload:r,onLibrarySelect:s})=>{const[i,l]=w.useState("local"),[c,d]=w.useState(""),[h,m]=w.useState([]),[v,g]=w.useState(!1),[x,b]=w.useState(null),[S,_]=w.useState(!1),[C,E]=w.useState(1),[j,T]=w.useState(0),[R,B]=w.useState(!1),L=w.useRef(null),M=w.useRef(null),$=w.useRef(null),H=w.useRef(null),[Z,oe]=w.useState(!1),[le,Y]=w.useState(null),[ce,se]=w.useState(0),[G,J]=w.useState(!1),[A,V]=w.useState(null),X=w.useRef(null),O=w.useRef(null),D=w.useRef(null),K=w.useRef([]);w.useEffect(()=>{t||(L.current&&(L.current.pause(),L.current=null),H.current&&(clearTimeout(H.current),H.current=null),b(null),d(""),m([]),_(!1),l("local"),E(1),T(0),rt(),D.current&&(D.current.pause(),D.current=null),Y(null),se(0),J(!1),V(null))},[t]),w.useEffect(()=>{const he=$.current;if(!he)return;const Ce=()=>{const{scrollTop:Ie,scrollHeight:ot,clientHeight:Ze}=he;ot-Ie-Ze<100&&!R&&C<j&&ke()};return he.addEventListener("scroll",Ce),()=>he.removeEventListener("scroll",Ce)},[R,C,j,c]);const Q=async()=>{if(c.trim()){g(!0),_(!0),E(1);try{const Ie=await(await fetch(`https://freesound.org/apiv2/search/text/?query=${encodeURIComponent(c)}&filter=${encodeURIComponent("type:(mp3 OR ogg) duration:[0 TO 60]")}&fields=id,name,username,duration,previews,download,description,type,filesize&token=${ld}&page=1&page_size=15`)).json();m(Ie.results||[]),T(Math.ceil(Ie.count/15)||0)}catch(he){console.error("Error searching sounds:",he),m([])}finally{g(!1)}}},ae=he=>{if(x===he.id)L.current&&(L.current.pause(),L.current=null),H.current&&(clearTimeout(H.current),H.current=null),b(null);else{L.current&&L.current.pause(),H.current&&clearTimeout(H.current);const Ce=he.previews["preview-lq-mp3"]||he.previews["preview-hq-mp3"];if(!Ce){lt.error("Preview not available for this sound");return}const Ie=new Audio(Ce);Ie.play(),L.current=Ie,b(he.id),H.current=setTimeout(()=>{L.current&&(L.current.pause(),L.current=null),b(null),H.current=null},5e3),Ie.onended=()=>{H.current&&(clearTimeout(H.current),H.current=null),b(null),L.current=null}}},fe=async he=>{try{L.current&&(L.current.pause(),L.current=null),b(null),lt.loading("Validating audio file...");const Ce=await fetch(`https://freesound.org/apiv2/sounds/${he.id}/?token=${ld}`);if(!Ce.ok){lt.dismiss(),lt.error("Failed to validate audio file");return}const Ie=await Ce.json(),ot=Ie.type?.toLowerCase();if(ot&&!["mp3","ogg"].includes(ot)){lt.dismiss(),lt.error("This audio format is not supported. Only MP3 and OGG are allowed.");return}if(Ie.duration>60){lt.dismiss(),lt.error("Audio duration exceeds 60 seconds. Please select a shorter sound.");return}const Ze=Ie.previews?.["preview-lq-mp3"]||Ie.previews?.["preview-hq-mp3"];if(Ze)try{const er=(await fetch(Ze,{method:"HEAD"})).headers.get("Content-Length");if(er){const fn=parseInt(er,10)/(1024*1024);if(fn>1){lt.dismiss(),lt.error(`Preview file is ${fn.toFixed(2)} MB, which exceeds the 1 MB limit.`);return}}}catch(xt){console.warn("Could not validate preview file size:",xt)}lt.dismiss(),s(Ie),e(!1)}catch(Ce){lt.dismiss(),console.error("Error validating sound:",Ce),lt.error("An error occurred while validating the audio file")}},q=async he=>{const Ce=he.target.files?.[0];if(!Ce)return;const Ie=Qy(Ce);if(!Ie.isValid){lt.error(Ie.error);return}const ot=Id(Ce.size,!1);if(!ot.isValid){lt.error(ot.error);return}const Ze=await Dd(Ce,!1);if(!Ze.isValid){lt.error(Ze.error);return}r(Ce),e(!1)},ee=he=>{const Ce=Math.floor(he/60),Ie=Math.floor(he%60);return`${Ce}:${Ie.toString().padStart(2,"0")}`},ue=(he,Ce=60)=>he.length<=Ce?he:he.substring(0,Ce)+"...",ke=async()=>{if(!(R||C>=j)){B(!0);try{const Ie=await(await fetch(`https://freesound.org/apiv2/search/text/?query=${encodeURIComponent(c)}&filter=${encodeURIComponent("type:(mp3 OR ogg) duration:[0 TO 60]")}&fields=id,name,username,duration,previews,download,description,type,filesize&token=${ld}&page=${C+1}&page_size=15`)).json();m(ot=>[...ot,...Ie.results]),T(Math.ceil(Ie.count/15)||0),E(ot=>ot+1)}catch(he){console.error("Error loading more sounds:",he)}finally{B(!1)}}},Oe=he=>{if(he){const Ce=he.querySelector("[data-radix-scroll-area-viewport]");Ce&&($.current=Ce)}},Je=async()=>{try{V(null);const he=await navigator.mediaDevices.getUserMedia({audio:!0});K.current=[];const Ce=new MediaRecorder(he);X.current=Ce,Ce.ondataavailable=Ie=>{Ie.data.size>0&&K.current.push(Ie.data)},Ce.onstop=()=>{const Ie=new Blob(K.current,{type:"audio/webm"});Y(Ie),he.getTracks().forEach(ot=>ot.stop())},Ce.start(),oe(!0),se(0),O.current=setInterval(()=>{se(Ie=>Ie+1)},1e3)}catch(he){he instanceof DOMException?he.name==="NotAllowedError"?V("Microphone permission denied. Please allow microphone access to record audio."):he.name==="NotFoundError"?V("No microphone found. Please connect a microphone and try again."):(console.error("Error accessing microphone:",he),V("Failed to access microphone. Please check your device settings.")):(console.error("Error accessing microphone:",he),V("An unexpected error occurred while accessing the microphone."))}},rt=()=>{X.current&&Z&&(X.current.stop(),oe(!1)),O.current&&(clearInterval(O.current),O.current=null)},Ee=()=>{if(le)if(G)D.current&&(D.current.pause(),D.current.currentTime=0),J(!1);else{const he=URL.createObjectURL(le),Ce=new Audio(he);Ce.onended=()=>{J(!1),URL.revokeObjectURL(he),D.current=null},Ce.play(),D.current=Ce,J(!0)}},Nt=()=>{D.current&&(D.current.pause(),D.current=null),Y(null),se(0),J(!1),V(null)},Ln=()=>{if(!le)return;const he=new File([le],`recording-${Date.now()}.webm`,{type:"audio/webm"});r(he),e(!1)},It=he=>{const Ce=Math.floor(he/60),Ie=he%60;return`${Ce}:${Ie.toString().padStart(2,"0")}`};return f.jsx(hf,{open:t,onOpenChange:e,children:f.jsxs(Wl,{className:"max-w-4xl w-[90vw] h-[80vh] max-h-[700px] flex flex-col p-0",children:[f.jsxs(pf,{className:"px-6 pt-6 pb-4 border-b",children:[f.jsx(Hl,{children:"Upload Audio"}),f.jsx(Kl,{children:"Upload audio from your computer or browse the sound library."})]}),f.jsxs("div",{className:"flex border-b px-6",children:[f.jsxs("button",{onClick:()=>l("local"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${i==="local"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[f.jsx(On,{className:"w-4 h-4 inline mr-2"}),"Upload from Computer"]}),f.jsxs("button",{onClick:()=>l("library"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${i==="library"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[f.jsx(Wu,{className:"w-4 h-4 inline mr-2"}),"Browse Sound Library"]}),f.jsxs("button",{onClick:()=>l("record"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${i==="record"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[f.jsx(wo,{className:"w-4 h-4 inline mr-2"}),"Record Audio"]})]}),f.jsx("div",{className:"flex-1 overflow-hidden",children:i==="local"?f.jsx("div",{className:"h-full flex items-center justify-center p-8",children:f.jsxs("div",{className:"text-center space-y-4 max-w-md",children:[f.jsx("div",{className:"w-24 h-24 mx-auto bg-indigo-50 rounded-full flex items-center justify-center",children:f.jsx(On,{className:"w-12 h-12 text-indigo-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload Audio File"}),f.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Select an audio file from your computer to upload"})]}),f.jsxs(Ne,{size:"lg",onClick:()=>M.current?.click(),className:"w-full",children:[f.jsx(On,{className:"w-4 h-4 mr-2"}),"Choose File"]}),f.jsx("input",{ref:M,type:"file",accept:".mp3,.m4a,.ogg,audio/mpeg,audio/mp4,audio/ogg",className:"hidden",onChange:q}),f.jsx("p",{className:"text-xs text-slate-400",children:"Supports MP3, M4A (AAC), and OGG formats. Max 5 minutes, 10 MB."})]})}):i==="record"?f.jsx("div",{className:"h-full flex items-center justify-center p-8",children:f.jsx("div",{className:"text-center space-y-6 max-w-md w-full",children:le?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-24 h-24 mx-auto bg-green-50 rounded-full flex items-center justify-center",children:f.jsx(bo,{className:"w-12 h-12 text-green-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Recording Complete"}),f.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["Duration: ",It(ce)]}),f.jsx("p",{className:"text-xs text-slate-400",children:"Preview your recording or record again"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ne,{size:"lg",variant:"outline",onClick:Ee,className:"flex-1",children:G?f.jsxs(f.Fragment,{children:[f.jsx(dl,{className:"w-4 h-4 mr-2"}),"Pause"]}):f.jsxs(f.Fragment,{children:[f.jsx(ys,{className:"w-4 h-4 mr-2"}),"Preview"]})}),f.jsxs(Ne,{size:"lg",variant:"outline",onClick:Nt,className:"flex-1",children:[f.jsx(W_,{className:"w-4 h-4 mr-2"}),"Re-record"]})]}),f.jsxs(Ne,{size:"lg",onClick:Ln,className:"w-full",children:[f.jsx(bo,{className:"w-4 h-4 mr-2"}),"Use This Recording"]})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`w-24 h-24 mx-auto rounded-full flex items-center justify-center ${Z?"bg-red-50 animate-pulse":"bg-indigo-50"}`,children:f.jsx(wo,{className:`w-12 h-12 ${Z?"text-red-600":"text-indigo-600"}`})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:Z?"Recording...":"Record Audio"}),f.jsx("p",{className:"text-sm text-slate-500 mb-4",children:Z?"Click stop when finished":"Click the button below to start recording"})]}),Z&&f.jsx("div",{className:"text-3xl font-mono font-bold text-indigo-600",children:It(ce)}),A&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:f.jsx("p",{className:"text-sm text-red-600",children:A})}),f.jsx(Ne,{size:"lg",onClick:Z?rt:Je,className:`w-full ${Z?"bg-red-600 hover:bg-red-700":""}`,children:Z?f.jsxs(f.Fragment,{children:[f.jsx(rv,{className:"w-4 h-4 mr-2"}),"Stop Recording"]}):f.jsxs(f.Fragment,{children:[f.jsx(wo,{className:"w-4 h-4 mr-2"}),"Start Recording"]})}),f.jsx("p",{className:"text-xs text-slate-400",children:"Make sure your microphone is connected and permissions are granted"})]})})}):f.jsxs("div",{className:"h-full flex flex-col",children:[f.jsx("div",{className:"p-6 border-b",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx(Wu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx(qn,{placeholder:"Search for sounds... (e.g., 'birds', 'rain', 'footsteps')",value:c,onChange:he=>d(he.target.value),onKeyDown:he=>he.key==="Enter"&&Q(),className:"pl-10"})]}),f.jsx(Ne,{onClick:Q,disabled:v||!c.trim(),children:v?f.jsx(_o,{className:"w-4 h-4 animate-spin"}):"Search"})]})}),f.jsx("div",{className:"flex-1 overflow-hidden",ref:Oe,children:f.jsx(rT,{className:"h-full",children:f.jsx("div",{className:"p-6",children:S?v?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(_o,{className:"w-8 h-8 mx-auto animate-spin text-indigo-600 mb-4"}),f.jsx("p",{className:"text-sm text-slate-500",children:"Searching sounds..."})]}):h.length===0?f.jsx("div",{className:"text-center py-12 text-slate-400",children:f.jsx("p",{className:"text-sm",children:"No sounds found. Try a different search term."})}):f.jsxs("div",{className:"space-y-2",children:[h.map(he=>f.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white border rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all group",children:[f.jsx("button",{onClick:()=>ae(he),className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center hover:bg-indigo-200 transition-colors shrink-0",children:x===he.id?f.jsx(dl,{className:"w-5 h-5 text-indigo-600"}):f.jsx(ys,{className:"w-5 h-5 text-indigo-600 ml-0.5"})}),f.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[f.jsx("h4",{className:"font-medium text-sm truncate",children:ue(he.name,25)}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-0.5",children:[f.jsxs("span",{className:"truncate max-w-[80px]",children:["by ",he.username]}),f.jsx("span",{children:""}),f.jsx("span",{className:"shrink-0",children:ee(he.duration)})]}),he.description&&f.jsx("p",{className:"text-xs text-slate-500 mt-1 truncate",children:ue(he.description,30)})]}),f.jsxs(Ne,{size:"sm",onClick:()=>fe(he),className:"opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:[f.jsx(__,{className:"w-4 h-4 mr-2"}),"Select"]})]},he.id)),R&&f.jsxs("div",{className:"text-center py-4",children:[f.jsx(_o,{className:"w-6 h-6 mx-auto animate-spin text-indigo-600"}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Loading more sounds..."})]})]}):f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(Wu,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),f.jsx("p",{className:"text-sm",children:"Search for sounds from Freesound.org"}),f.jsx("p",{className:"text-xs mt-2",children:"Try searching for: ambient, nature, music, effects"})]})})})})]})})]})})},DT=({open:t,onClose:e,onSave:r,sessionUserId:s,projectId:i})=>{const[l,c]=w.useState("upload"),[d,h]=w.useState(null),m=w.useRef(null),[v,g]=w.useState(!1),[x,b]=w.useState(null),[S,_]=w.useState(0),[C,E]=w.useState(!1),[j,T]=w.useState(null),R=w.useRef(null),B=w.useRef(null),L=w.useRef(null),M=w.useRef([]);w.useEffect(()=>{t||(h(null),Z(),L.current&&(L.current.pause(),L.current=null),b(null),_(0),E(!1),T(null),c("upload"))},[t]);const $=async se=>{const G=se.target.files?.[0];if(!G)return;const J=Qy(G);if(!J.isValid){lt.error(J.error||"Invalid audio file");return}const A=Id(G.size,!1);if(!A.isValid){lt.error(A.error||"File too large");return}const V=await Dd(G,!1);if(!V.isValid){lt.error(V.error||"Audio too long");return}h(G),lt.success("File loaded successfully")},H=async()=>{try{T(null);const se=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,echoCancellation:!0,noiseSuppression:!0}});M.current=[];const G=new MediaRecorder(se);R.current=G,G.ondataavailable=J=>{J.data.size>0&&M.current.push(J.data)},G.onstop=()=>{const J=new Blob(M.current,{type:"audio/webm"});b(J),se.getTracks().forEach(A=>A.stop())},G.start(),g(!0),_(0),B.current=setInterval(()=>{_(J=>{const A=J+1;return A>=180&&(Z(),lt.info("Maximum recording duration (3 minutes) reached")),A})},1e3)}catch(se){se instanceof DOMException?se.name==="NotAllowedError"?T("Microphone permission denied. Please allow microphone access to record audio."):se.name==="NotFoundError"?T("No microphone found. Please connect a microphone and try again."):(console.error("Error accessing microphone:",se),T("Failed to access microphone. Please check your device settings.")):(console.error("Error accessing microphone:",se),T("An unexpected error occurred while accessing the microphone."))}},Z=()=>{R.current&&v&&(R.current.stop(),g(!1)),B.current&&(clearInterval(B.current),B.current=null)},oe=()=>{if(x)if(C)L.current&&(L.current.pause(),L.current.currentTime=0),E(!1);else{const se=URL.createObjectURL(x),G=new Audio(se);G.onended=()=>{E(!1),URL.revokeObjectURL(se),L.current=null},G.play(),L.current=G,E(!0)}},le=()=>{b(null),_(0),L.current&&(L.current.pause(),L.current=null),E(!1)},Y=se=>{const G=Math.floor(se/60),J=se%60;return`${G}:${J.toString().padStart(2,"0")}`},ce=async()=>{if(l==="upload"&&d){const se=`${s}/${i}/intro_${Date.now()}.mp3`;r(d,se),e()}else if(l==="record"&&x){const se=new File([x],`recording_${Date.now()}.webm`,{type:"audio/webm"}),G=Id(se.size,!0);if(!G.isValid){lt.error(G.error||"Recording too large");return}const J=await Dd(se,!0);if(!J.isValid){lt.error(J.error||"Recording too long");return}const A=`${s}/${i}/intro_${Date.now()}.webm`;r(se,A),e()}else lt.error("Please upload or record audio first")};return f.jsx(hf,{open:t,onOpenChange:e,children:f.jsxs(Wl,{className:"max-w-4xl w-[90vw] h-[80vh] max-h-[700px] flex flex-col p-0",children:[f.jsxs(pf,{className:"px-6 pt-6 pb-4 border-b",children:[f.jsx(Hl,{children:"Add Narration"}),f.jsx(Kl,{children:"Upload an audio file or record narration using your microphone"})]}),f.jsxs("div",{className:"flex border-b px-6",children:[f.jsxs("button",{onClick:()=>c("upload"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${l==="upload"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[f.jsx(On,{className:"w-4 h-4 inline mr-2"}),"Upload from Computer"]}),f.jsxs("button",{onClick:()=>c("record"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${l==="record"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[f.jsx(wo,{className:"w-4 h-4 inline mr-2"}),"Record Audio"]})]}),f.jsx("div",{className:"flex-1 overflow-hidden",children:l==="upload"?f.jsx("div",{className:"h-full flex items-center justify-center p-8",children:f.jsx("div",{className:"text-center space-y-4 max-w-md",children:d?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-24 h-24 mx-auto bg-green-50 rounded-full flex items-center justify-center",children:f.jsx(bo,{className:"w-12 h-12 text-green-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"File Selected"}),f.jsx("p",{className:"text-sm text-slate-500 mb-2",children:d.name}),f.jsxs("p",{className:"text-xs text-slate-400",children:[(d.size/(1024*1024)).toFixed(2)," MB"]})]}),f.jsxs(Ne,{size:"lg",variant:"outline",onClick:()=>m.current?.click(),className:"w-full",children:[f.jsx(On,{className:"w-4 h-4 mr-2"}),"Choose Different File"]}),f.jsx("input",{ref:m,type:"file",accept:".mp3,.m4a,.ogg",className:"hidden",onChange:$})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-24 h-24 mx-auto bg-indigo-50 rounded-full flex items-center justify-center",children:f.jsx(On,{className:"w-12 h-12 text-indigo-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload Audio File"}),f.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Select an audio file from your computer to upload"})]}),f.jsxs(Ne,{size:"lg",onClick:()=>m.current?.click(),className:"w-full",children:[f.jsx(On,{className:"w-4 h-4 mr-2"}),"Choose File"]}),f.jsx("input",{ref:m,type:"file",accept:".mp3,.m4a,.ogg",className:"hidden",onChange:$}),f.jsx("p",{className:"text-xs text-slate-400",children:"Supports MP3, M4A (AAC), and OGG formats. Max 5 minutes, 10 MB."})]})})}):f.jsx("div",{className:"h-full flex items-center justify-center p-8",children:f.jsx("div",{className:"text-center space-y-6 max-w-md w-full",children:x?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-24 h-24 mx-auto bg-green-50 rounded-full flex items-center justify-center",children:f.jsx(bo,{className:"w-12 h-12 text-green-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Recording Complete"}),f.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["Duration: ",Y(S)]}),f.jsx("p",{className:"text-xs text-slate-400",children:"Preview your recording or record again"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Ne,{size:"lg",variant:"outline",onClick:oe,className:"flex-1",children:C?f.jsxs(f.Fragment,{children:[f.jsx(dl,{className:"w-4 h-4 mr-2"}),"Pause"]}):f.jsxs(f.Fragment,{children:[f.jsx(ys,{className:"w-4 h-4 mr-2"}),"Preview"]})}),f.jsxs(Ne,{size:"lg",variant:"outline",onClick:le,className:"flex-1",children:[f.jsx(wo,{className:"w-4 h-4 mr-2"}),"Re-record"]})]}),f.jsxs(Ne,{size:"lg",onClick:ce,className:"w-full",children:[f.jsx(bo,{className:"w-4 h-4 mr-2"}),"Use This Recording"]})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`w-24 h-24 mx-auto rounded-full flex items-center justify-center ${v?"bg-red-50 animate-pulse":"bg-indigo-50"}`,children:f.jsx(wo,{className:`w-12 h-12 ${v?"text-red-600":"text-indigo-600"}`})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:v?"Recording...":"Record Audio"}),f.jsx("p",{className:"text-sm text-slate-500 mb-4",children:v?"Click stop when finished":"Click the button below to start recording"})]}),v&&f.jsx("div",{className:"text-3xl font-mono font-bold text-indigo-600",children:Y(S)}),j&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:f.jsx("p",{className:"text-sm text-red-600",children:j})}),f.jsx(Ne,{size:"lg",onClick:v?Z:H,className:`w-full ${v?"bg-red-600 hover:bg-red-700":""}`,children:v?f.jsxs(f.Fragment,{children:[f.jsx(rv,{className:"w-4 h-4 mr-2"}),"Stop Recording"]}):f.jsxs(f.Fragment,{children:[f.jsx(wo,{className:"w-4 h-4 mr-2"}),"Start Recording"]})}),f.jsx("p",{className:"text-xs text-slate-400",children:"Make sure your microphone is connected and permissions are granted"})]})})})}),l==="upload"&&d&&f.jsxs("div",{className:"px-6 pb-6 pt-4 border-t flex justify-end gap-2",children:[f.jsx(Ne,{variant:"outline",onClick:e,children:"Cancel"}),f.jsx(Ne,{onClick:ce,children:"Save Narration"})]})]})})};var MT=Symbol("radix.slottable");function $T(t){const e=({children:r})=>f.jsx(f.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=MT,e}var Zy="AlertDialog",[LT]=Mn(Zy,[_y]),gr=_y(),ew=t=>{const{__scopeAlertDialog:e,...r}=t,s=gr(e);return f.jsx(cf,{...s,...r,modal:!0})};ew.displayName=Zy;var UT="AlertDialogTrigger",tw=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,i=gr(r);return f.jsx(uf,{...i,...s,ref:e})});tw.displayName=UT;var FT="AlertDialogPortal",nw=t=>{const{__scopeAlertDialog:e,...r}=t,s=gr(e);return f.jsx(df,{...s,...r})};nw.displayName=FT;var zT="AlertDialogOverlay",rw=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,i=gr(r);return f.jsx(Fl,{...i,...s,ref:e})});rw.displayName=zT;var gs="AlertDialogContent",[BT,VT]=LT(gs),WT=$T("AlertDialogContent"),ow=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:s,...i}=t,l=gr(r),c=w.useRef(null),d=We(e,c),h=w.useRef(null);return f.jsx($R,{contentName:gs,titleName:sw,docsSlug:"alert-dialog",children:f.jsx(BT,{scope:r,cancelRef:h,children:f.jsxs(zl,{role:"alertdialog",...l,...i,ref:d,onOpenAutoFocus:Se(i.onOpenAutoFocus,m=>{m.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[f.jsx(WT,{children:s}),f.jsx(KT,{contentRef:c})]})})})});ow.displayName=gs;var sw="AlertDialogTitle",iw=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,i=gr(r);return f.jsx(Bl,{...i,...s,ref:e})});iw.displayName=sw;var aw="AlertDialogDescription",lw=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,i=gr(r);return f.jsx(Vl,{...i,...s,ref:e})});lw.displayName=aw;var HT="AlertDialogAction",cw=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,i=gr(r);return f.jsx(ff,{...i,...s,ref:e})});cw.displayName=HT;var uw="AlertDialogCancel",dw=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...s}=t,{cancelRef:i}=VT(uw,r),l=gr(r),c=We(e,i);return f.jsx(ff,{...l,...s,ref:c})});dw.displayName=uw;var KT=({contentRef:t})=>{const e=`\`${gs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gs}\` by passing a \`${aw}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},qT=ew,GT=tw,YT=nw,fw=rw,JT=ow,XT=cw,QT=dw,ZT=iw,eN=lw;function wf({...t}){return f.jsx(qT,{"data-slot":"alert-dialog",...t})}function tN({...t}){return f.jsx(GT,{"data-slot":"alert-dialog-trigger",...t})}function nN({...t}){return f.jsx(YT,{"data-slot":"alert-dialog-portal",...t})}const hw=w.forwardRef(({className:t,...e},r)=>f.jsx(fw,{ref:r,"data-slot":"alert-dialog-overlay",className:Me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));hw.displayName=fw.displayName;function xf({className:t,...e}){return f.jsxs(nN,{children:[f.jsx(hw,{}),f.jsx(JT,{"data-slot":"alert-dialog-content",className:Me("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function bf({className:t,...e}){return f.jsx("div",{"data-slot":"alert-dialog-header",className:Me("flex flex-col gap-2 text-center sm:text-left",t),...e})}function _f({className:t,...e}){return f.jsx("div",{"data-slot":"alert-dialog-footer",className:Me("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Sf({className:t,...e}){return f.jsx(ZT,{"data-slot":"alert-dialog-title",className:Me("text-lg font-semibold",t),...e})}function kf({className:t,...e}){return f.jsx(eN,{"data-slot":"alert-dialog-description",className:Me("text-muted-foreground text-sm",t),...e})}function Ef({className:t,...e}){return f.jsx(XT,{className:Me(Qd(),t),...e})}function pw({className:t,...e}){return f.jsx(QT,{className:Me(Qd({variant:"outline"}),t),...e})}const vr=`https://${Ml}.supabase.co/functions/v1/make-server-5be515e6`,Ro=t=>({"Content-Type":"application/json",Authorization:`Bearer ${t}`}),mw=async()=>{try{await fetch(`${vr}/init`,{headers:{Authorization:`Bearer ${$l}`}})}catch(t){console.error("Failed to init server:",t)}},gw=async(t,e)=>{const r=await fetch(`${vr}/storage/upload-url`,{method:"POST",headers:Ro(t),body:JSON.stringify({path:e})});if(!r.ok)throw new Error("Failed to get upload URL");return r.json()},mi=async(t,e)=>{const r=await fetch(`${vr}/storage/get-url`,{method:"POST",headers:Ro(t),body:JSON.stringify({path:e})});if(!r.ok)throw new Error("Failed to get signed URL");return r.json()},yo=async(t,e,r)=>{const{url:s}=await gw(t,r);if(!(await fetch(s,{method:"PUT",headers:{"Content-Type":e.type},body:e})).ok)throw new Error("Failed to upload file");return r},vw=async(t,e)=>{const r=e.map(i=>({...i,imageFile:null,imageUrl:null,introAudioFile:null,introAudioUrl:null,hotspots:i.hotspots.map(l=>({...l,audioFile:null,audioUrl:null})),globalChannels:(i.globalChannels||[]).map(l=>({...l,audioFile:null,audioUrl:null}))})),s=await fetch(`${vr}/projects`,{method:"POST",headers:Ro(t),body:JSON.stringify({projects:r})});if(!s.ok)throw new Error("Failed to save projects");return s.json()},yw=async t=>{const e=await fetch(`${vr}/projects`,{headers:Ro(t)});if(!e.ok)throw new Error("Failed to load projects");const{projects:r}=await e.json();return r},rN=async t=>{const e=await fetch(`${vr}/public/project?id=${t}`,{headers:{Authorization:`Bearer ${$l}`}});if(!e.ok)throw new Error("Failed to load shared project");const{project:r}=await e.json();return r},oN=async(t,e)=>{const r=await fetch(`${vr}/share`,{method:"POST",headers:Ro(t),body:JSON.stringify({projectId:e})});if(!r.ok)throw new Error("Failed to create share link");return r.json()},ww=async t=>{const e=await fetch(`${vr}/user/preferences`,{headers:Ro(t)});if(!e.ok)throw new Error("Failed to load preferences");const{preferences:r}=await e.json();return r},gi=async(t,e)=>{const r=await fetch(`${vr}/user/preferences`,{method:"POST",headers:Ro(t),body:JSON.stringify(e)});if(!r.ok)throw new Error("Failed to save preferences");return r.json()},xw=Object.freeze(Object.defineProperty({__proto__:null,createShareLink:oN,getSharedProject:rN,getSignedUrl:mi,getUploadUrl:gw,getUserPreferences:ww,initServer:mw,loadProjects:yw,saveProjects:vw,saveUserPreferences:gi,uploadFile:yo},Symbol.toStringTag,{value:"Module"}));function bw(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Cf(t){const[e,r]=w.useState(void 0);return fr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let c,d;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;c=m.inlineSize,d=m.blockSize}else c=t.offsetWidth,d=t.offsetHeight;r({width:c,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}var _w=["PageUp","PageDown"],Sw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],kw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Cs="Slider",[Md,sN,iN]=Zd(Cs),[Ew]=Mn(Cs,[iN]),[aN,Yl]=Ew(Cs),Cw=w.forwardRef((t,e)=>{const{name:r,min:s=0,max:i=100,step:l=1,orientation:c="horizontal",disabled:d=!1,minStepsBetweenThumbs:h=0,defaultValue:m=[s],value:v,onValueChange:g=()=>{},onValueCommit:x=()=>{},inverted:b=!1,form:S,..._}=t,C=w.useRef(new Set),E=w.useRef(0),T=c==="horizontal"?lN:cN,[R=[],B]=Es({prop:v,defaultProp:m,onChange:oe=>{[...C.current][E.current]?.focus(),g(oe)}}),L=w.useRef(R);function M(oe){const le=pN(R,oe);Z(oe,le)}function $(oe){Z(oe,E.current)}function H(){const oe=L.current[E.current];R[E.current]!==oe&&x(R)}function Z(oe,le,{commit:Y}={commit:!1}){const ce=yN(l),se=wN(Math.round((oe-s)/l)*l+s,ce),G=mf(se,[s,i]);B((J=[])=>{const A=fN(J,G,le);if(vN(A,h*l)){E.current=A.indexOf(G);const V=String(A)!==String(J);return V&&Y&&x(A),V?A:J}else return J})}return f.jsx(aN,{scope:t.__scopeSlider,name:r,disabled:d,min:s,max:i,valueIndexToChangeRef:E,thumbs:C.current,values:R,orientation:c,form:S,children:f.jsx(Md.Provider,{scope:t.__scopeSlider,children:f.jsx(Md.Slot,{scope:t.__scopeSlider,children:f.jsx(T,{"aria-disabled":d,"data-disabled":d?"":void 0,..._,ref:e,onPointerDown:Se(_.onPointerDown,()=>{d||(L.current=R)}),min:s,max:i,inverted:b,onSlideStart:d?void 0:M,onSlideMove:d?void 0:$,onSlideEnd:d?void 0:H,onHomeKeyDown:()=>!d&&Z(s,0,{commit:!0}),onEndKeyDown:()=>!d&&Z(i,R.length-1,{commit:!0}),onStepKeyDown:({event:oe,direction:le})=>{if(!d){const se=_w.includes(oe.key)||oe.shiftKey&&Sw.includes(oe.key)?10:1,G=E.current,J=R[G],A=l*se*le;Z(J+A,G,{commit:!0})}}})})})})});Cw.displayName=Cs;var[Rw,Tw]=Ew(Cs,{startEdge:"left",endEdge:"right",size:"width",direction:1}),lN=w.forwardRef((t,e)=>{const{min:r,max:s,dir:i,inverted:l,onSlideStart:c,onSlideMove:d,onSlideEnd:h,onStepKeyDown:m,...v}=t,[g,x]=w.useState(null),b=We(e,T=>x(T)),S=w.useRef(void 0),_=Ai(i),C=_==="ltr",E=C&&!l||!C&&l;function j(T){const R=S.current||g.getBoundingClientRect(),B=[0,R.width],M=Rf(B,E?[r,s]:[s,r]);return S.current=R,M(T-R.left)}return f.jsx(Rw,{scope:t.__scopeSlider,startEdge:E?"left":"right",endEdge:E?"right":"left",direction:E?1:-1,size:"width",children:f.jsx(Nw,{dir:_,"data-orientation":"horizontal",...v,ref:b,style:{...v.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const R=j(T.clientX);c?.(R)},onSlideMove:T=>{const R=j(T.clientX);d?.(R)},onSlideEnd:()=>{S.current=void 0,h?.()},onStepKeyDown:T=>{const B=kw[E?"from-left":"from-right"].includes(T.key);m?.({event:T,direction:B?-1:1})}})})}),cN=w.forwardRef((t,e)=>{const{min:r,max:s,inverted:i,onSlideStart:l,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...m}=t,v=w.useRef(null),g=We(e,v),x=w.useRef(void 0),b=!i;function S(_){const C=x.current||v.current.getBoundingClientRect(),E=[0,C.height],T=Rf(E,b?[s,r]:[r,s]);return x.current=C,T(_-C.top)}return f.jsx(Rw,{scope:t.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:f.jsx(Nw,{"data-orientation":"vertical",...m,ref:g,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:_=>{const C=S(_.clientY);l?.(C)},onSlideMove:_=>{const C=S(_.clientY);c?.(C)},onSlideEnd:()=>{x.current=void 0,d?.()},onStepKeyDown:_=>{const E=kw[b?"from-bottom":"from-top"].includes(_.key);h?.({event:_,direction:E?-1:1})}})})}),Nw=w.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:i,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:d,onStepKeyDown:h,...m}=t,v=Yl(Cs,r);return f.jsx(Fe.span,{...m,ref:e,onKeyDown:Se(t.onKeyDown,g=>{g.key==="Home"?(c(g),g.preventDefault()):g.key==="End"?(d(g),g.preventDefault()):_w.concat(Sw).includes(g.key)&&(h(g),g.preventDefault())}),onPointerDown:Se(t.onPointerDown,g=>{const x=g.target;x.setPointerCapture(g.pointerId),g.preventDefault(),v.thumbs.has(x)?x.focus():s(g)}),onPointerMove:Se(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&i(g)}),onPointerUp:Se(t.onPointerUp,g=>{const x=g.target;x.hasPointerCapture(g.pointerId)&&(x.releasePointerCapture(g.pointerId),l(g))})})}),jw="SliderTrack",Aw=w.forwardRef((t,e)=>{const{__scopeSlider:r,...s}=t,i=Yl(jw,r);return f.jsx(Fe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...s,ref:e})});Aw.displayName=jw;var $d="SliderRange",Pw=w.forwardRef((t,e)=>{const{__scopeSlider:r,...s}=t,i=Yl($d,r),l=Tw($d,r),c=w.useRef(null),d=We(e,c),h=i.values.length,m=i.values.map(x=>Dw(x,i.min,i.max)),v=h>1?Math.min(...m):0,g=100-Math.max(...m);return f.jsx(Fe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...s,ref:d,style:{...t.style,[l.startEdge]:v+"%",[l.endEdge]:g+"%"}})});Pw.displayName=$d;var Ld="SliderThumb",Ow=w.forwardRef((t,e)=>{const r=sN(t.__scopeSlider),[s,i]=w.useState(null),l=We(e,d=>i(d)),c=w.useMemo(()=>s?r().findIndex(d=>d.ref.current===s):-1,[r,s]);return f.jsx(uN,{...t,ref:l,index:c})}),uN=w.forwardRef((t,e)=>{const{__scopeSlider:r,index:s,name:i,...l}=t,c=Yl(Ld,r),d=Tw(Ld,r),[h,m]=w.useState(null),v=We(e,j=>m(j)),g=h?c.form||!!h.closest("form"):!0,x=Cf(h),b=c.values[s],S=b===void 0?0:Dw(b,c.min,c.max),_=hN(s,c.values.length),C=x?.[d.size],E=C?mN(C,S,d.direction):0;return w.useEffect(()=>{if(h)return c.thumbs.add(h),()=>{c.thumbs.delete(h)}},[h,c.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${S}% + ${E}px)`},children:[f.jsx(Md.ItemSlot,{scope:t.__scopeSlider,children:f.jsx(Fe.span,{role:"slider","aria-label":t["aria-label"]||_,"aria-valuemin":c.min,"aria-valuenow":b,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...l,ref:v,style:b===void 0?{display:"none"}:t.style,onFocus:Se(t.onFocus,()=>{c.valueIndexToChangeRef.current=s})})}),g&&f.jsx(Iw,{name:i??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:b},s)]})});Ow.displayName=Ld;var dN="RadioBubbleInput",Iw=w.forwardRef(({__scopeSlider:t,value:e,...r},s)=>{const i=w.useRef(null),l=We(i,s),c=bw(e);return w.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==e&&v){const g=new Event("input",{bubbles:!0});v.call(d,e),d.dispatchEvent(g)}},[c,e]),f.jsx(Fe.input,{style:{display:"none"},...r,ref:l,defaultValue:e})});Iw.displayName=dN;function fN(t=[],e,r){const s=[...t];return s[r]=e,s.sort((i,l)=>i-l)}function Dw(t,e,r){const l=100/(r-e)*(t-e);return mf(l,[0,100])}function hN(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function pN(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),s=Math.min(...r);return r.indexOf(s)}function mN(t,e,r){const s=t/2,l=Rf([0,50],[0,s]);return(s-l(e)*r)*r}function gN(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function vN(t,e){if(e>0){const r=gN(t);return Math.min(...r)>=e}return!0}function Rf(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(r-t[0])}}function yN(t){return(String(t).split(".")[1]||"").length}function wN(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var xN=Cw,bN=Aw,_N=Pw,SN=Ow;function Tf({className:t,defaultValue:e,value:r,min:s=0,max:i=100,...l}){const c=w.useMemo(()=>Array.isArray(r)?r:Array.isArray(e)?e:[s,i],[r,e,s,i]);return f.jsxs(xN,{"data-slot":"slider",defaultValue:e,value:r,min:s,max:i,className:Me("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...l,children:[f.jsx(bN,{"data-slot":"slider-track",className:Me("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:f.jsx(_N,{"data-slot":"slider-range",className:Me("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:c.length},(d,h)=>f.jsx(SN,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},h))]})}var Jl="Switch",[kN]=Mn(Jl),[EN,CN]=kN(Jl),Mw=w.forwardRef((t,e)=>{const{__scopeSwitch:r,name:s,checked:i,defaultChecked:l,required:c,disabled:d,value:h="on",onCheckedChange:m,form:v,...g}=t,[x,b]=w.useState(null),S=We(e,T=>b(T)),_=w.useRef(!1),C=x?v||!!x.closest("form"):!0,[E,j]=Es({prop:i,defaultProp:l??!1,onChange:m,caller:Jl});return f.jsxs(EN,{scope:r,checked:E,disabled:d,children:[f.jsx(Fe.button,{type:"button",role:"switch","aria-checked":E,"aria-required":c,"data-state":Fw(E),"data-disabled":d?"":void 0,disabled:d,value:h,...g,ref:S,onClick:Se(t.onClick,T=>{j(R=>!R),C&&(_.current=T.isPropagationStopped(),_.current||T.stopPropagation())})}),C&&f.jsx(Uw,{control:x,bubbles:!_.current,name:s,value:h,checked:E,required:c,disabled:d,form:v,style:{transform:"translateX(-100%)"}})]})});Mw.displayName=Jl;var $w="SwitchThumb",Lw=w.forwardRef((t,e)=>{const{__scopeSwitch:r,...s}=t,i=CN($w,r);return f.jsx(Fe.span,{"data-state":Fw(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})});Lw.displayName=$w;var RN="SwitchBubbleInput",Uw=w.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:s=!0,...i},l)=>{const c=w.useRef(null),d=We(c,l),h=bw(r),m=Cf(e);return w.useEffect(()=>{const v=c.current;if(!v)return;const g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==r&&b){const S=new Event("click",{bubbles:s});b.call(v,r),v.dispatchEvent(S)}},[h,r,s]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:d,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Uw.displayName=RN;function Fw(t){return t?"checked":"unchecked"}var TN=Mw,NN=Lw;function cd({className:t,...e}){return f.jsx(TN,{"data-slot":"switch",className:Me("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:f.jsx(NN,{"data-slot":"switch-thumb",className:Me("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const jN=["top","right","bottom","left"],Hr=Math.min,ln=Math.max,kl=Math.round,rl=Math.floor,Yn=t=>({x:t,y:t}),AN={left:"right",right:"left",bottom:"top",top:"bottom"},PN={start:"end",end:"start"};function Ud(t,e,r){return ln(t,Hr(e,r))}function hr(t,e){return typeof t=="function"?t(e):t}function pr(t){return t.split("-")[0]}function Rs(t){return t.split("-")[1]}function Nf(t){return t==="x"?"y":"x"}function jf(t){return t==="y"?"height":"width"}const ON=new Set(["top","bottom"]);function Gn(t){return ON.has(pr(t))?"y":"x"}function Af(t){return Nf(Gn(t))}function IN(t,e,r){r===void 0&&(r=!1);const s=Rs(t),i=Af(t),l=jf(i);let c=i==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=El(c)),[c,El(c)]}function DN(t){const e=El(t);return[Fd(t),e,Fd(e)]}function Fd(t){return t.replace(/start|end/g,e=>PN[e])}const Tg=["left","right"],Ng=["right","left"],MN=["top","bottom"],$N=["bottom","top"];function LN(t,e,r){switch(t){case"top":case"bottom":return r?e?Ng:Tg:e?Tg:Ng;case"left":case"right":return e?MN:$N;default:return[]}}function UN(t,e,r,s){const i=Rs(t);let l=LN(pr(t),r==="start",s);return i&&(l=l.map(c=>c+"-"+i),e&&(l=l.concat(l.map(Fd)))),l}function El(t){return t.replace(/left|right|bottom|top/g,e=>AN[e])}function FN(t){return{top:0,right:0,bottom:0,left:0,...t}}function zw(t){return typeof t!="number"?FN(t):{top:t,right:t,bottom:t,left:t}}function Cl(t){const{x:e,y:r,width:s,height:i}=t;return{width:s,height:i,top:r,left:e,right:e+s,bottom:r+i,x:e,y:r}}function jg(t,e,r){let{reference:s,floating:i}=t;const l=Gn(e),c=Af(e),d=jf(c),h=pr(e),m=l==="y",v=s.x+s.width/2-i.width/2,g=s.y+s.height/2-i.height/2,x=s[d]/2-i[d]/2;let b;switch(h){case"top":b={x:v,y:s.y-i.height};break;case"bottom":b={x:v,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:g};break;case"left":b={x:s.x-i.width,y:g};break;default:b={x:s.x,y:s.y}}switch(Rs(e)){case"start":b[c]-=x*(r&&m?-1:1);break;case"end":b[c]+=x*(r&&m?-1:1);break}return b}async function zN(t,e){var r;e===void 0&&(e={});const{x:s,y:i,platform:l,rects:c,elements:d,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:g="floating",altBoundary:x=!1,padding:b=0}=hr(e,t),S=zw(b),C=d[x?g==="floating"?"reference":"floating":g],E=Cl(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(C)))==null||r?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:v,strategy:h})),j=g==="floating"?{x:s,y:i,width:c.floating.width,height:c.floating.height}:c.reference,T=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),R=await(l.isElement==null?void 0:l.isElement(T))?await(l.getScale==null?void 0:l.getScale(T))||{x:1,y:1}:{x:1,y:1},B=Cl(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:j,offsetParent:T,strategy:h}):j);return{top:(E.top-B.top+S.top)/R.y,bottom:(B.bottom-E.bottom+S.bottom)/R.y,left:(E.left-B.left+S.left)/R.x,right:(B.right-E.right+S.right)/R.x}}const BN=async(t,e,r)=>{const{placement:s="bottom",strategy:i="absolute",middleware:l=[],platform:c}=r,d=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:v,y:g}=jg(m,s,h),x=s,b={},S=0;for(let C=0;C<d.length;C++){var _;const{name:E,fn:j}=d[C],{x:T,y:R,data:B,reset:L}=await j({x:v,y:g,initialPlacement:s,placement:x,strategy:i,middlewareData:b,rects:m,platform:{...c,detectOverflow:(_=c.detectOverflow)!=null?_:zN},elements:{reference:t,floating:e}});v=T??v,g=R??g,b={...b,[E]:{...b[E],...B}},L&&S<=50&&(S++,typeof L=="object"&&(L.placement&&(x=L.placement),L.rects&&(m=L.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:v,y:g}=jg(m,x,h)),C=-1)}return{x:v,y:g,placement:x,strategy:i,middlewareData:b}},VN=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:s,placement:i,rects:l,platform:c,elements:d,middlewareData:h}=e,{element:m,padding:v=0}=hr(t,e)||{};if(m==null)return{};const g=zw(v),x={x:r,y:s},b=Af(i),S=jf(b),_=await c.getDimensions(m),C=b==="y",E=C?"top":"left",j=C?"bottom":"right",T=C?"clientHeight":"clientWidth",R=l.reference[S]+l.reference[b]-x[b]-l.floating[S],B=x[b]-l.reference[b],L=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let M=L?L[T]:0;(!M||!await(c.isElement==null?void 0:c.isElement(L)))&&(M=d.floating[T]||l.floating[S]);const $=R/2-B/2,H=M/2-_[S]/2-1,Z=Hr(g[E],H),oe=Hr(g[j],H),le=Z,Y=M-_[S]-oe,ce=M/2-_[S]/2+$,se=Ud(le,ce,Y),G=!h.arrow&&Rs(i)!=null&&ce!==se&&l.reference[S]/2-(ce<le?Z:oe)-_[S]/2<0,J=G?ce<le?ce-le:ce-Y:0;return{[b]:x[b]+J,data:{[b]:se,centerOffset:ce-se-J,...G&&{alignmentOffset:J}},reset:G}}}),WN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,s;const{placement:i,middlewareData:l,rects:c,initialPlacement:d,platform:h,elements:m}=e,{mainAxis:v=!0,crossAxis:g=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...C}=hr(t,e);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const E=pr(i),j=Gn(d),T=pr(d)===d,R=await(h.isRTL==null?void 0:h.isRTL(m.floating)),B=x||(T||!_?[El(d)]:DN(d)),L=S!=="none";!x&&L&&B.push(...UN(d,_,S,R));const M=[d,...B],$=await h.detectOverflow(e,C),H=[];let Z=((s=l.flip)==null?void 0:s.overflows)||[];if(v&&H.push($[E]),g){const ce=IN(i,c,R);H.push($[ce[0]],$[ce[1]])}if(Z=[...Z,{placement:i,overflows:H}],!H.every(ce=>ce<=0)){var oe,le;const ce=(((oe=l.flip)==null?void 0:oe.index)||0)+1,se=M[ce];if(se&&(!(g==="alignment"?j!==Gn(se):!1)||Z.every(A=>Gn(A.placement)===j?A.overflows[0]>0:!0)))return{data:{index:ce,overflows:Z},reset:{placement:se}};let G=(le=Z.filter(J=>J.overflows[0]<=0).sort((J,A)=>J.overflows[1]-A.overflows[1])[0])==null?void 0:le.placement;if(!G)switch(b){case"bestFit":{var Y;const J=(Y=Z.filter(A=>{if(L){const V=Gn(A.placement);return V===j||V==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(V=>V>0).reduce((V,X)=>V+X,0)]).sort((A,V)=>A[1]-V[1])[0])==null?void 0:Y[0];J&&(G=J);break}case"initialPlacement":G=d;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function Ag(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Pg(t){return jN.some(e=>t[e]>=0)}const HN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r,platform:s}=e,{strategy:i="referenceHidden",...l}=hr(t,e);switch(i){case"referenceHidden":{const c=await s.detectOverflow(e,{...l,elementContext:"reference"}),d=Ag(c,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Pg(d)}}}case"escaped":{const c=await s.detectOverflow(e,{...l,altBoundary:!0}),d=Ag(c,r.floating);return{data:{escapedOffsets:d,escaped:Pg(d)}}}default:return{}}}}},Bw=new Set(["left","top"]);async function KN(t,e){const{placement:r,platform:s,elements:i}=t,l=await(s.isRTL==null?void 0:s.isRTL(i.floating)),c=pr(r),d=Rs(r),h=Gn(r)==="y",m=Bw.has(c)?-1:1,v=l&&h?-1:1,g=hr(e,t);let{mainAxis:x,crossAxis:b,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof S=="number"&&(b=d==="end"?S*-1:S),h?{x:b*v,y:x*m}:{x:x*m,y:b*v}}const qN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,s;const{x:i,y:l,placement:c,middlewareData:d}=e,h=await KN(e,t);return c===((r=d.offset)==null?void 0:r.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:i+h.x,y:l+h.y,data:{...h,placement:c}}}}},GN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:s,placement:i,platform:l}=e,{mainAxis:c=!0,crossAxis:d=!1,limiter:h={fn:E=>{let{x:j,y:T}=E;return{x:j,y:T}}},...m}=hr(t,e),v={x:r,y:s},g=await l.detectOverflow(e,m),x=Gn(pr(i)),b=Nf(x);let S=v[b],_=v[x];if(c){const E=b==="y"?"top":"left",j=b==="y"?"bottom":"right",T=S+g[E],R=S-g[j];S=Ud(T,S,R)}if(d){const E=x==="y"?"top":"left",j=x==="y"?"bottom":"right",T=_+g[E],R=_-g[j];_=Ud(T,_,R)}const C=h.fn({...e,[b]:S,[x]:_});return{...C,data:{x:C.x-r,y:C.y-s,enabled:{[b]:c,[x]:d}}}}}},YN=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:s,placement:i,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=hr(t,e),v={x:r,y:s},g=Gn(i),x=Nf(g);let b=v[x],S=v[g];const _=hr(d,e),C=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const T=x==="y"?"height":"width",R=l.reference[x]-l.floating[T]+C.mainAxis,B=l.reference[x]+l.reference[T]-C.mainAxis;b<R?b=R:b>B&&(b=B)}if(m){var E,j;const T=x==="y"?"width":"height",R=Bw.has(pr(i)),B=l.reference[g]-l.floating[T]+(R&&((E=c.offset)==null?void 0:E[g])||0)+(R?0:C.crossAxis),L=l.reference[g]+l.reference[T]+(R?0:((j=c.offset)==null?void 0:j[g])||0)-(R?C.crossAxis:0);S<B?S=B:S>L&&(S=L)}return{[x]:b,[g]:S}}}},JN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,s;const{placement:i,rects:l,platform:c,elements:d}=e,{apply:h=()=>{},...m}=hr(t,e),v=await c.detectOverflow(e,m),g=pr(i),x=Rs(i),b=Gn(i)==="y",{width:S,height:_}=l.floating;let C,E;g==="top"||g==="bottom"?(C=g,E=x===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(E=g,C=x==="end"?"top":"bottom");const j=_-v.top-v.bottom,T=S-v.left-v.right,R=Hr(_-v[C],j),B=Hr(S-v[E],T),L=!e.middlewareData.shift;let M=R,$=B;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&($=T),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(M=j),L&&!x){const Z=ln(v.left,0),oe=ln(v.right,0),le=ln(v.top,0),Y=ln(v.bottom,0);b?$=S-2*(Z!==0||oe!==0?Z+oe:ln(v.left,v.right)):M=_-2*(le!==0||Y!==0?le+Y:ln(v.top,v.bottom))}await h({...e,availableWidth:$,availableHeight:M});const H=await c.getDimensions(d.floating);return S!==H.width||_!==H.height?{reset:{rects:!0}}:{}}}};function Xl(){return typeof window<"u"}function Ts(t){return Vw(t)?(t.nodeName||"").toLowerCase():"#document"}function un(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qn(t){var e;return(e=(Vw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Vw(t){return Xl()?t instanceof Node||t instanceof un(t).Node:!1}function In(t){return Xl()?t instanceof Element||t instanceof un(t).Element:!1}function Jn(t){return Xl()?t instanceof HTMLElement||t instanceof un(t).HTMLElement:!1}function Og(t){return!Xl()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof un(t).ShadowRoot}const XN=new Set(["inline","contents"]);function Oi(t){const{overflow:e,overflowX:r,overflowY:s,display:i}=Dn(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!XN.has(i)}const QN=new Set(["table","td","th"]);function ZN(t){return QN.has(Ts(t))}const ej=[":popover-open",":modal"];function Ql(t){return ej.some(e=>{try{return t.matches(e)}catch{return!1}})}const tj=["transform","translate","scale","rotate","perspective"],nj=["transform","translate","scale","rotate","perspective","filter"],rj=["paint","layout","strict","content"];function Pf(t){const e=Of(),r=In(t)?Dn(t):t;return tj.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||nj.some(s=>(r.willChange||"").includes(s))||rj.some(s=>(r.contain||"").includes(s))}function oj(t){let e=Kr(t);for(;Jn(e)&&!xs(e);){if(Pf(e))return e;if(Ql(e))return null;e=Kr(e)}return null}function Of(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sj=new Set(["html","body","#document"]);function xs(t){return sj.has(Ts(t))}function Dn(t){return un(t).getComputedStyle(t)}function Zl(t){return In(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Kr(t){if(Ts(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Og(t)&&t.host||Qn(t);return Og(e)?e.host:e}function Ww(t){const e=Kr(t);return xs(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jn(e)&&Oi(e)?e:Ww(e)}function Ri(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=Ww(t),l=i===((s=t.ownerDocument)==null?void 0:s.body),c=un(i);if(l){const d=zd(c);return e.concat(c,c.visualViewport||[],Oi(i)?i:[],d&&r?Ri(d):[])}return e.concat(i,Ri(i,[],r))}function zd(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Hw(t){const e=Dn(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=Jn(t),l=i?t.offsetWidth:r,c=i?t.offsetHeight:s,d=kl(r)!==l||kl(s)!==c;return d&&(r=l,s=c),{width:r,height:s,$:d}}function If(t){return In(t)?t:t.contextElement}function vs(t){const e=If(t);if(!Jn(e))return Yn(1);const r=e.getBoundingClientRect(),{width:s,height:i,$:l}=Hw(e);let c=(l?kl(r.width):r.width)/s,d=(l?kl(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const ij=Yn(0);function Kw(t){const e=un(t);return!Of()||!e.visualViewport?ij:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aj(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==un(t)?!1:e}function Co(t,e,r,s){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),l=If(t);let c=Yn(1);e&&(s?In(s)&&(c=vs(s)):c=vs(t));const d=aj(l,r,s)?Kw(l):Yn(0);let h=(i.left+d.x)/c.x,m=(i.top+d.y)/c.y,v=i.width/c.x,g=i.height/c.y;if(l){const x=un(l),b=s&&In(s)?un(s):s;let S=x,_=zd(S);for(;_&&s&&b!==S;){const C=vs(_),E=_.getBoundingClientRect(),j=Dn(_),T=E.left+(_.clientLeft+parseFloat(j.paddingLeft))*C.x,R=E.top+(_.clientTop+parseFloat(j.paddingTop))*C.y;h*=C.x,m*=C.y,v*=C.x,g*=C.y,h+=T,m+=R,S=un(_),_=zd(S)}}return Cl({width:v,height:g,x:h,y:m})}function ec(t,e){const r=Zl(t).scrollLeft;return e?e.left+r:Co(Qn(t)).left+r}function qw(t,e){const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-ec(t,r),i=r.top+e.scrollTop;return{x:s,y:i}}function lj(t){let{elements:e,rect:r,offsetParent:s,strategy:i}=t;const l=i==="fixed",c=Qn(s),d=e?Ql(e.floating):!1;if(s===c||d&&l)return r;let h={scrollLeft:0,scrollTop:0},m=Yn(1);const v=Yn(0),g=Jn(s);if((g||!g&&!l)&&((Ts(s)!=="body"||Oi(c))&&(h=Zl(s)),Jn(s))){const b=Co(s);m=vs(s),v.x=b.x+s.clientLeft,v.y=b.y+s.clientTop}const x=c&&!g&&!l?qw(c,h):Yn(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-h.scrollLeft*m.x+v.x+x.x,y:r.y*m.y-h.scrollTop*m.y+v.y+x.y}}function cj(t){return Array.from(t.getClientRects())}function uj(t){const e=Qn(t),r=Zl(t),s=t.ownerDocument.body,i=ln(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),l=ln(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let c=-r.scrollLeft+ec(t);const d=-r.scrollTop;return Dn(s).direction==="rtl"&&(c+=ln(e.clientWidth,s.clientWidth)-i),{width:i,height:l,x:c,y:d}}const Ig=25;function dj(t,e){const r=un(t),s=Qn(t),i=r.visualViewport;let l=s.clientWidth,c=s.clientHeight,d=0,h=0;if(i){l=i.width,c=i.height;const v=Of();(!v||v&&e==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}const m=ec(s);if(m<=0){const v=s.ownerDocument,g=v.body,x=getComputedStyle(g),b=v.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,S=Math.abs(s.clientWidth-g.clientWidth-b);S<=Ig&&(l-=S)}else m<=Ig&&(l+=m);return{width:l,height:c,x:d,y:h}}const fj=new Set(["absolute","fixed"]);function hj(t,e){const r=Co(t,!0,e==="fixed"),s=r.top+t.clientTop,i=r.left+t.clientLeft,l=Jn(t)?vs(t):Yn(1),c=t.clientWidth*l.x,d=t.clientHeight*l.y,h=i*l.x,m=s*l.y;return{width:c,height:d,x:h,y:m}}function Dg(t,e,r){let s;if(e==="viewport")s=dj(t,r);else if(e==="document")s=uj(Qn(t));else if(In(e))s=hj(e,r);else{const i=Kw(t);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Cl(s)}function Gw(t,e){const r=Kr(t);return r===e||!In(r)||xs(r)?!1:Dn(r).position==="fixed"||Gw(r,e)}function pj(t,e){const r=e.get(t);if(r)return r;let s=Ri(t,[],!1).filter(d=>In(d)&&Ts(d)!=="body"),i=null;const l=Dn(t).position==="fixed";let c=l?Kr(t):t;for(;In(c)&&!xs(c);){const d=Dn(c),h=Pf(c);!h&&d.position==="fixed"&&(i=null),(l?!h&&!i:!h&&d.position==="static"&&!!i&&fj.has(i.position)||Oi(c)&&!h&&Gw(t,c))?s=s.filter(v=>v!==c):i=d,c=Kr(c)}return e.set(t,s),s}function mj(t){let{element:e,boundary:r,rootBoundary:s,strategy:i}=t;const c=[...r==="clippingAncestors"?Ql(e)?[]:pj(e,this._c):[].concat(r),s],d=c[0],h=c.reduce((m,v)=>{const g=Dg(e,v,i);return m.top=ln(g.top,m.top),m.right=Hr(g.right,m.right),m.bottom=Hr(g.bottom,m.bottom),m.left=ln(g.left,m.left),m},Dg(e,d,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function gj(t){const{width:e,height:r}=Hw(t);return{width:e,height:r}}function vj(t,e,r){const s=Jn(e),i=Qn(e),l=r==="fixed",c=Co(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const h=Yn(0);function m(){h.x=ec(i)}if(s||!s&&!l)if((Ts(e)!=="body"||Oi(i))&&(d=Zl(e)),s){const b=Co(e,!0,l,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else i&&m();l&&!s&&i&&m();const v=i&&!s&&!l?qw(i,d):Yn(0),g=c.left+d.scrollLeft-h.x-v.x,x=c.top+d.scrollTop-h.y-v.y;return{x:g,y:x,width:c.width,height:c.height}}function ud(t){return Dn(t).position==="static"}function Mg(t,e){if(!Jn(t)||Dn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Qn(t)===r&&(r=r.ownerDocument.body),r}function Yw(t,e){const r=un(t);if(Ql(t))return r;if(!Jn(t)){let i=Kr(t);for(;i&&!xs(i);){if(In(i)&&!ud(i))return i;i=Kr(i)}return r}let s=Mg(t,e);for(;s&&ZN(s)&&ud(s);)s=Mg(s,e);return s&&xs(s)&&ud(s)&&!Pf(s)?r:s||oj(t)||r}const yj=async function(t){const e=this.getOffsetParent||Yw,r=this.getDimensions,s=await r(t.floating);return{reference:vj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function wj(t){return Dn(t).direction==="rtl"}const xj={convertOffsetParentRelativeRectToViewportRelativeRect:lj,getDocumentElement:Qn,getClippingRect:mj,getOffsetParent:Yw,getElementRects:yj,getClientRects:cj,getDimensions:gj,getScale:vs,isElement:In,isRTL:wj};function Jw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bj(t,e){let r=null,s;const i=Qn(t);function l(){var d;clearTimeout(s),(d=r)==null||d.disconnect(),r=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),l();const m=t.getBoundingClientRect(),{left:v,top:g,width:x,height:b}=m;if(d||e(),!x||!b)return;const S=rl(g),_=rl(i.clientWidth-(v+x)),C=rl(i.clientHeight-(g+b)),E=rl(v),T={rootMargin:-S+"px "+-_+"px "+-C+"px "+-E+"px",threshold:ln(0,Hr(1,h))||1};let R=!0;function B(L){const M=L[0].intersectionRatio;if(M!==h){if(!R)return c();M?c(!1,M):s=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!Jw(m,t.getBoundingClientRect())&&c(),R=!1}try{r=new IntersectionObserver(B,{...T,root:i.ownerDocument})}catch{r=new IntersectionObserver(B,T)}r.observe(t)}return c(!0),l}function _j(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,m=If(t),v=i||l?[...m?Ri(m):[],...Ri(e)]:[];v.forEach(E=>{i&&E.addEventListener("scroll",r,{passive:!0}),l&&E.addEventListener("resize",r)});const g=m&&d?bj(m,r):null;let x=-1,b=null;c&&(b=new ResizeObserver(E=>{let[j]=E;j&&j.target===m&&b&&(b.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var T;(T=b)==null||T.observe(e)})),r()}),m&&!h&&b.observe(m),b.observe(e));let S,_=h?Co(t):null;h&&C();function C(){const E=Co(t);_&&!Jw(_,E)&&r(),_=E,S=requestAnimationFrame(C)}return r(),()=>{var E;v.forEach(j=>{i&&j.removeEventListener("scroll",r),l&&j.removeEventListener("resize",r)}),g?.(),(E=b)==null||E.disconnect(),b=null,h&&cancelAnimationFrame(S)}}const Sj=qN,kj=GN,Ej=WN,Cj=JN,Rj=HN,$g=VN,Tj=YN,Nj=(t,e,r)=>{const s=new Map,i={platform:xj,...r},l={...i.platform,_c:s};return BN(t,e,{...i,platform:l})};var jj=typeof document<"u",Aj=function(){},cl=jj?w.useLayoutEffect:Aj;function Rl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,s,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(s=r;s--!==0;)if(!Rl(t[s],e[s]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=r;s--!==0;){const l=i[s];if(!(l==="_owner"&&t.$$typeof)&&!Rl(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function Xw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Lg(t,e){const r=Xw(t);return Math.round(e*r)/r}function dd(t){const e=w.useRef(t);return cl(()=>{e.current=t}),e}function Pj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:i,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:h,open:m}=t,[v,g]=w.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[x,b]=w.useState(s);Rl(x,s)||b(s);const[S,_]=w.useState(null),[C,E]=w.useState(null),j=w.useCallback(A=>{A!==L.current&&(L.current=A,_(A))},[]),T=w.useCallback(A=>{A!==M.current&&(M.current=A,E(A))},[]),R=l||S,B=c||C,L=w.useRef(null),M=w.useRef(null),$=w.useRef(v),H=h!=null,Z=dd(h),oe=dd(i),le=dd(m),Y=w.useCallback(()=>{if(!L.current||!M.current)return;const A={placement:e,strategy:r,middleware:x};oe.current&&(A.platform=oe.current),Nj(L.current,M.current,A).then(V=>{const X={...V,isPositioned:le.current!==!1};ce.current&&!Rl($.current,X)&&($.current=X,Ol.flushSync(()=>{g(X)}))})},[x,e,r,oe,le]);cl(()=>{m===!1&&$.current.isPositioned&&($.current.isPositioned=!1,g(A=>({...A,isPositioned:!1})))},[m]);const ce=w.useRef(!1);cl(()=>(ce.current=!0,()=>{ce.current=!1}),[]),cl(()=>{if(R&&(L.current=R),B&&(M.current=B),R&&B){if(Z.current)return Z.current(R,B,Y);Y()}},[R,B,Y,Z,H]);const se=w.useMemo(()=>({reference:L,floating:M,setReference:j,setFloating:T}),[j,T]),G=w.useMemo(()=>({reference:R,floating:B}),[R,B]),J=w.useMemo(()=>{const A={position:r,left:0,top:0};if(!G.floating)return A;const V=Lg(G.floating,v.x),X=Lg(G.floating,v.y);return d?{...A,transform:"translate("+V+"px, "+X+"px)",...Xw(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:V,top:X}},[r,d,G.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:Y,refs:se,elements:G,floatingStyles:J}),[v,Y,se,G,J])}const Oj=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:i}=typeof t=="function"?t(r):t;return s&&e(s)?s.current!=null?$g({element:s.current,padding:i}).fn(r):{}:s?$g({element:s,padding:i}).fn(r):{}}}},Ij=(t,e)=>({...Sj(t),options:[t,e]}),Dj=(t,e)=>({...kj(t),options:[t,e]}),Mj=(t,e)=>({...Tj(t),options:[t,e]}),$j=(t,e)=>({...Ej(t),options:[t,e]}),Lj=(t,e)=>({...Cj(t),options:[t,e]}),Uj=(t,e)=>({...Rj(t),options:[t,e]}),Fj=(t,e)=>({...Oj(t),options:[t,e]});var zj="Arrow",Qw=w.forwardRef((t,e)=>{const{children:r,width:s=10,height:i=5,...l}=t;return f.jsx(Fe.svg,{...l,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Qw.displayName=zj;var Bj=Qw,Df="Popper",[Zw,e0]=Mn(Df),[Vj,t0]=Zw(Df),n0=t=>{const{__scopePopper:e,children:r}=t,[s,i]=w.useState(null);return f.jsx(Vj,{scope:e,anchor:s,onAnchorChange:i,children:r})};n0.displayName=Df;var r0="PopperAnchor",o0=w.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:s,...i}=t,l=t0(r0,r),c=w.useRef(null),d=We(e,c),h=w.useRef(null);return w.useEffect(()=>{const m=h.current;h.current=s?.current||c.current,m!==h.current&&l.onAnchorChange(h.current)}),s?null:f.jsx(Fe.div,{...i,ref:d})});o0.displayName=r0;var Mf="PopperContent",[Wj,Hj]=Zw(Mf),s0=w.forwardRef((t,e)=>{const{__scopePopper:r,side:s="bottom",sideOffset:i=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:S,..._}=t,C=t0(Mf,r),[E,j]=w.useState(null),T=We(e,q=>j(q)),[R,B]=w.useState(null),L=Cf(R),M=L?.width??0,$=L?.height??0,H=s+(l!=="center"?"-"+l:""),Z=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},oe=Array.isArray(m)?m:[m],le=oe.length>0,Y={padding:Z,boundary:oe.filter(qj),altBoundary:le},{refs:ce,floatingStyles:se,placement:G,isPositioned:J,middlewareData:A}=Pj({strategy:"fixed",placement:H,whileElementsMounted:(...q)=>_j(...q,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[Ij({mainAxis:i+$,alignmentAxis:c}),h&&Dj({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Mj():void 0,...Y}),h&&$j({...Y}),Lj({...Y,apply:({elements:q,rects:ee,availableWidth:ue,availableHeight:ke})=>{const{width:Oe,height:Je}=ee.reference,rt=q.floating.style;rt.setProperty("--radix-popper-available-width",`${ue}px`),rt.setProperty("--radix-popper-available-height",`${ke}px`),rt.setProperty("--radix-popper-anchor-width",`${Oe}px`),rt.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),R&&Fj({element:R,padding:d}),Gj({arrowWidth:M,arrowHeight:$}),x&&Uj({strategy:"referenceHidden",...Y})]}),[V,X]=l0(G),O=Ft(S);fr(()=>{J&&O?.()},[J,O]);const D=A.arrow?.x,K=A.arrow?.y,Q=A.arrow?.centerOffset!==0,[ae,fe]=w.useState();return fr(()=>{E&&fe(window.getComputedStyle(E).zIndex)},[E]),f.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:J?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[A.transformOrigin?.x,A.transformOrigin?.y].join(" "),...A.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(Wj,{scope:r,placedSide:V,onArrowChange:B,arrowX:D,arrowY:K,shouldHideArrow:Q,children:f.jsx(Fe.div,{"data-side":V,"data-align":X,..._,ref:T,style:{..._.style,animation:J?void 0:"none"}})})})});s0.displayName=Mf;var i0="PopperArrow",Kj={top:"bottom",right:"left",bottom:"top",left:"right"},a0=w.forwardRef(function(e,r){const{__scopePopper:s,...i}=e,l=Hj(i0,s),c=Kj[l.placedSide];return f.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:f.jsx(Bj,{...i,ref:r,style:{...i.style,display:"block"}})})});a0.displayName=i0;function qj(t){return t!==null}var Gj=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:s,middlewareData:i}=e,c=i.arrow?.centerOffset!==0,d=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[m,v]=l0(r),g={start:"0%",center:"50%",end:"100%"}[v],x=(i.arrow?.x??0)+d/2,b=(i.arrow?.y??0)+h/2;let S="",_="";return m==="bottom"?(S=c?g:`${x}px`,_=`${-h}px`):m==="top"?(S=c?g:`${x}px`,_=`${s.floating.height+h}px`):m==="right"?(S=`${-h}px`,_=c?g:`${b}px`):m==="left"&&(S=`${s.floating.width+h}px`,_=c?g:`${b}px`),{data:{x:S,y:_}}}});function l0(t){const[e,r="center"]=t.split("-");return[e,r]}var Yj=n0,Jj=o0,Xj=s0,Qj=a0;function Zj(t){const e=eA(t),r=w.forwardRef((s,i)=>{const{children:l,...c}=s,d=w.Children.toArray(l),h=d.find(nA);if(h){const m=h.props.children,v=d.map(g=>g===h?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:i,children:w.isValidElement(m)?w.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:i,children:l})});return r.displayName=`${t}.Slot`,r}function eA(t){const e=w.forwardRef((r,s)=>{const{children:i,...l}=r;if(w.isValidElement(i)){const c=oA(i),d=rA(l,i.props);return i.type!==w.Fragment&&(d.ref=s?qr(s,c):c),w.cloneElement(i,d)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tA=Symbol("radix.slottable");function nA(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tA}function rA(t,e){const r={...e};for(const s in e){const i=t[s],l=e[s];/^on[A-Z]/.test(s)?i&&l?r[s]=(...d)=>{const h=l(...d);return i(...d),h}:i&&(r[s]=i):s==="style"?r[s]={...i,...l}:s==="className"&&(r[s]=[i,l].filter(Boolean).join(" "))}return{...t,...r}}function oA(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Bd=["Enter"," "],sA=["ArrowDown","PageUp","Home"],c0=["ArrowUp","PageDown","End"],iA=[...sA,...c0],aA={ltr:[...Bd,"ArrowRight"],rtl:[...Bd,"ArrowLeft"]},lA={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ii="Menu",[Ti,cA,uA]=Zd(Ii),[To,u0]=Mn(Ii,[uA,e0,Il]),tc=e0(),d0=Il(),[dA,No]=To(Ii),[fA,Di]=To(Ii),f0=t=>{const{__scopeMenu:e,open:r=!1,children:s,dir:i,onOpenChange:l,modal:c=!0}=t,d=tc(e),[h,m]=w.useState(null),v=w.useRef(!1),g=Ft(l),x=Ai(i);return w.useEffect(()=>{const b=()=>{v.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>v.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),f.jsx(Yj,{...d,children:f.jsx(dA,{scope:e,open:r,onOpenChange:g,content:h,onContentChange:m,children:f.jsx(fA,{scope:e,onClose:w.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:v,dir:x,modal:c,children:s})})})};f0.displayName=Ii;var hA="MenuAnchor",$f=w.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t,i=tc(r);return f.jsx(Jj,{...i,...s,ref:e})});$f.displayName=hA;var Lf="MenuPortal",[pA,h0]=To(Lf,{forceMount:void 0}),p0=t=>{const{__scopeMenu:e,forceMount:r,children:s,container:i}=t,l=No(Lf,e);return f.jsx(pA,{scope:e,forceMount:r,children:f.jsx(dn,{present:r||l.open,children:f.jsx(rf,{asChild:!0,container:i,children:s})})})};p0.displayName=Lf;var bn="MenuContent",[mA,Uf]=To(bn),m0=w.forwardRef((t,e)=>{const r=h0(bn,t.__scopeMenu),{forceMount:s=r.forceMount,...i}=t,l=No(bn,t.__scopeMenu),c=Di(bn,t.__scopeMenu);return f.jsx(Ti.Provider,{scope:t.__scopeMenu,children:f.jsx(dn,{present:s||l.open,children:f.jsx(Ti.Slot,{scope:t.__scopeMenu,children:c.modal?f.jsx(gA,{...i,ref:e}):f.jsx(vA,{...i,ref:e})})})})}),gA=w.forwardRef((t,e)=>{const r=No(bn,t.__scopeMenu),s=w.useRef(null),i=We(e,s);return w.useEffect(()=>{const l=s.current;if(l)return xy(l)},[]),f.jsx(Ff,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Se(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),vA=w.forwardRef((t,e)=>{const r=No(bn,t.__scopeMenu);return f.jsx(Ff,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),yA=Zj("MenuContent.ScrollLock"),Ff=w.forwardRef((t,e)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:g,onInteractOutside:x,onDismiss:b,disableOutsideScroll:S,..._}=t,C=No(bn,r),E=Di(bn,r),j=tc(r),T=d0(r),R=cA(r),[B,L]=w.useState(null),M=w.useRef(null),$=We(e,M,C.onContentChange),H=w.useRef(0),Z=w.useRef(""),oe=w.useRef(0),le=w.useRef(null),Y=w.useRef("right"),ce=w.useRef(0),se=S?of:w.Fragment,G=S?{as:yA,allowPinchZoom:!0}:void 0,J=V=>{const X=Z.current+V,O=R().filter(q=>!q.disabled),D=document.activeElement,K=O.find(q=>q.ref.current===D)?.textValue,Q=O.map(q=>q.textValue),ae=jA(Q,X,K),fe=O.find(q=>q.textValue===ae)?.ref.current;(function q(ee){Z.current=ee,window.clearTimeout(H.current),ee!==""&&(H.current=window.setTimeout(()=>q(""),1e3))})(X),fe&&setTimeout(()=>fe.focus())};w.useEffect(()=>()=>window.clearTimeout(H.current),[]),fy();const A=w.useCallback(V=>Y.current===le.current?.side&&PA(V,le.current?.area),[]);return f.jsx(mA,{scope:r,searchRef:Z,onItemEnter:w.useCallback(V=>{A(V)&&V.preventDefault()},[A]),onItemLeave:w.useCallback(V=>{A(V)||(M.current?.focus(),L(null))},[A]),onTriggerLeave:w.useCallback(V=>{A(V)&&V.preventDefault()},[A]),pointerGraceTimerRef:oe,onPointerGraceIntentChange:w.useCallback(V=>{le.current=V},[]),children:f.jsx(se,{...G,children:f.jsx(nf,{asChild:!0,trapped:i,onMountAutoFocus:Se(l,V=>{V.preventDefault(),M.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:f.jsx(tf,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:g,onInteractOutside:x,onDismiss:b,children:f.jsx(Yv,{asChild:!0,...T,dir:E.dir,orientation:"vertical",loop:s,currentTabStopId:B,onCurrentTabStopIdChange:L,onEntryFocus:Se(h,V=>{E.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(Xj,{role:"menu","aria-orientation":"vertical","data-state":A0(C.open),"data-radix-menu-content":"",dir:E.dir,...j,..._,ref:$,style:{outline:"none",..._.style},onKeyDown:Se(_.onKeyDown,V=>{const O=V.target.closest("[data-radix-menu-content]")===V.currentTarget,D=V.ctrlKey||V.altKey||V.metaKey,K=V.key.length===1;O&&(V.key==="Tab"&&V.preventDefault(),!D&&K&&J(V.key));const Q=M.current;if(V.target!==Q||!iA.includes(V.key))return;V.preventDefault();const fe=R().filter(q=>!q.disabled).map(q=>q.ref.current);c0.includes(V.key)&&fe.reverse(),TA(fe)}),onBlur:Se(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(H.current),Z.current="")}),onPointerMove:Se(t.onPointerMove,Ni(V=>{const X=V.target,O=ce.current!==V.clientX;if(V.currentTarget.contains(X)&&O){const D=V.clientX>ce.current?"right":"left";Y.current=D,ce.current=V.clientX}}))})})})})})})});m0.displayName=bn;var wA="MenuGroup",zf=w.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return f.jsx(Fe.div,{role:"group",...s,ref:e})});zf.displayName=wA;var xA="MenuLabel",g0=w.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return f.jsx(Fe.div,{...s,ref:e})});g0.displayName=xA;var Tl="MenuItem",Ug="menu.itemSelect",nc=w.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:s,...i}=t,l=w.useRef(null),c=Di(Tl,t.__scopeMenu),d=Uf(Tl,t.__scopeMenu),h=We(e,l),m=w.useRef(!1),v=()=>{const g=l.current;if(!r&&g){const x=new CustomEvent(Ug,{bubbles:!0,cancelable:!0});g.addEventListener(Ug,b=>s?.(b),{once:!0}),Vv(g,x),x.defaultPrevented?m.current=!1:c.onClose()}};return f.jsx(v0,{...i,ref:h,disabled:r,onClick:Se(t.onClick,v),onPointerDown:g=>{t.onPointerDown?.(g),m.current=!0},onPointerUp:Se(t.onPointerUp,g=>{m.current||g.currentTarget?.click()}),onKeyDown:Se(t.onKeyDown,g=>{const x=d.searchRef.current!=="";r||x&&g.key===" "||Bd.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});nc.displayName=Tl;var v0=w.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:s=!1,textValue:i,...l}=t,c=Uf(Tl,r),d=d0(r),h=w.useRef(null),m=We(e,h),[v,g]=w.useState(!1),[x,b]=w.useState("");return w.useEffect(()=>{const S=h.current;S&&b((S.textContent??"").trim())},[l.children]),f.jsx(Ti.ItemSlot,{scope:r,disabled:s,textValue:i??x,children:f.jsx(Jv,{asChild:!0,...d,focusable:!s,children:f.jsx(Fe.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...l,ref:m,onPointerMove:Se(t.onPointerMove,Ni(S=>{s?c.onItemLeave(S):(c.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(t.onPointerLeave,Ni(S=>c.onItemLeave(S))),onFocus:Se(t.onFocus,()=>g(!0)),onBlur:Se(t.onBlur,()=>g(!1))})})})}),bA="MenuCheckboxItem",y0=w.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:s,...i}=t;return f.jsx(S0,{scope:t.__scopeMenu,checked:r,children:f.jsx(nc,{role:"menuitemcheckbox","aria-checked":Nl(r)?"mixed":r,...i,ref:e,"data-state":Vf(r),onSelect:Se(i.onSelect,()=>s?.(Nl(r)?!0:!r),{checkForDefaultPrevented:!1})})})});y0.displayName=bA;var w0="MenuRadioGroup",[_A,SA]=To(w0,{value:void 0,onValueChange:()=>{}}),x0=w.forwardRef((t,e)=>{const{value:r,onValueChange:s,...i}=t,l=Ft(s);return f.jsx(_A,{scope:t.__scopeMenu,value:r,onValueChange:l,children:f.jsx(zf,{...i,ref:e})})});x0.displayName=w0;var b0="MenuRadioItem",_0=w.forwardRef((t,e)=>{const{value:r,...s}=t,i=SA(b0,t.__scopeMenu),l=r===i.value;return f.jsx(S0,{scope:t.__scopeMenu,checked:l,children:f.jsx(nc,{role:"menuitemradio","aria-checked":l,...s,ref:e,"data-state":Vf(l),onSelect:Se(s.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});_0.displayName=b0;var Bf="MenuItemIndicator",[S0,kA]=To(Bf,{checked:!1}),k0=w.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:s,...i}=t,l=kA(Bf,r);return f.jsx(dn,{present:s||Nl(l.checked)||l.checked===!0,children:f.jsx(Fe.span,{...i,ref:e,"data-state":Vf(l.checked)})})});k0.displayName=Bf;var EA="MenuSeparator",E0=w.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return f.jsx(Fe.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});E0.displayName=EA;var CA="MenuArrow",C0=w.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t,i=tc(r);return f.jsx(Qj,{...i,...s,ref:e})});C0.displayName=CA;var RA="MenuSub",[mO,R0]=To(RA),vi="MenuSubTrigger",T0=w.forwardRef((t,e)=>{const r=No(vi,t.__scopeMenu),s=Di(vi,t.__scopeMenu),i=R0(vi,t.__scopeMenu),l=Uf(vi,t.__scopeMenu),c=w.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=l,m={__scopeMenu:t.__scopeMenu},v=w.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return w.useEffect(()=>v,[v]),w.useEffect(()=>{const g=d.current;return()=>{window.clearTimeout(g),h(null)}},[d,h]),f.jsx($f,{asChild:!0,...m,children:f.jsx(v0,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":A0(r.open),...t,ref:qr(e,i.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Se(t.onPointerMove,Ni(g=>{l.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!r.open&&!c.current&&(l.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),v()},100))})),onPointerLeave:Se(t.onPointerLeave,Ni(g=>{v();const x=r.content?.getBoundingClientRect();if(x){const b=r.content?.dataset.side,S=b==="right",_=S?-5:5,C=x[S?"left":"right"],E=x[S?"right":"left"];l.onPointerGraceIntentChange({area:[{x:g.clientX+_,y:g.clientY},{x:C,y:x.top},{x:E,y:x.top},{x:E,y:x.bottom},{x:C,y:x.bottom}],side:b}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(g),g.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Se(t.onKeyDown,g=>{const x=l.searchRef.current!=="";t.disabled||x&&g.key===" "||aA[s.dir].includes(g.key)&&(r.onOpenChange(!0),r.content?.focus(),g.preventDefault())})})})});T0.displayName=vi;var N0="MenuSubContent",j0=w.forwardRef((t,e)=>{const r=h0(bn,t.__scopeMenu),{forceMount:s=r.forceMount,...i}=t,l=No(bn,t.__scopeMenu),c=Di(bn,t.__scopeMenu),d=R0(N0,t.__scopeMenu),h=w.useRef(null),m=We(e,h);return f.jsx(Ti.Provider,{scope:t.__scopeMenu,children:f.jsx(dn,{present:s||l.open,children:f.jsx(Ti.Slot,{scope:t.__scopeMenu,children:f.jsx(Ff,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{c.isUsingKeyboardRef.current&&h.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Se(t.onFocusOutside,v=>{v.target!==d.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Se(t.onEscapeKeyDown,v=>{c.onClose(),v.preventDefault()}),onKeyDown:Se(t.onKeyDown,v=>{const g=v.currentTarget.contains(v.target),x=lA[c.dir].includes(v.key);g&&x&&(l.onOpenChange(!1),d.trigger?.focus(),v.preventDefault())})})})})})});j0.displayName=N0;function A0(t){return t?"open":"closed"}function Nl(t){return t==="indeterminate"}function Vf(t){return Nl(t)?"indeterminate":t?"checked":"unchecked"}function TA(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function NA(t,e){return t.map((r,s)=>t[(e+s)%t.length])}function jA(t,e,r){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=r?t.indexOf(r):-1;let c=NA(t,Math.max(l,0));i.length===1&&(c=c.filter(m=>m!==r));const h=c.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return h!==r?h:void 0}function AA(t,e){const{x:r,y:s}=t;let i=!1;for(let l=0,c=e.length-1;l<e.length;c=l++){const d=e[l],h=e[c],m=d.x,v=d.y,g=h.x,x=h.y;v>s!=x>s&&r<(g-m)*(s-v)/(x-v)+m&&(i=!i)}return i}function PA(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return AA(r,e)}function Ni(t){return e=>e.pointerType==="mouse"?t(e):void 0}var OA=f0,IA=$f,DA=p0,MA=m0,$A=zf,LA=g0,UA=nc,FA=y0,zA=x0,BA=_0,VA=k0,WA=E0,HA=C0,KA=T0,qA=j0,rc="DropdownMenu",[GA]=Mn(rc,[u0]),Wt=u0(),[YA,P0]=GA(rc),O0=t=>{const{__scopeDropdownMenu:e,children:r,dir:s,open:i,defaultOpen:l,onOpenChange:c,modal:d=!0}=t,h=Wt(e),m=w.useRef(null),[v,g]=Es({prop:i,defaultProp:l??!1,onChange:c,caller:rc});return f.jsx(YA,{scope:e,triggerId:So(),triggerRef:m,contentId:So(),open:v,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(x=>!x),[g]),modal:d,children:f.jsx(OA,{...h,open:v,onOpenChange:g,dir:s,modal:d,children:r})})};O0.displayName=rc;var I0="DropdownMenuTrigger",D0=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...i}=t,l=P0(I0,r),c=Wt(r);return f.jsx(IA,{asChild:!0,...c,children:f.jsx(Fe.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:qr(e,l.triggerRef),onPointerDown:Se(t.onPointerDown,d=>{!s&&d.button===0&&d.ctrlKey===!1&&(l.onOpenToggle(),l.open||d.preventDefault())}),onKeyDown:Se(t.onKeyDown,d=>{s||(["Enter"," "].includes(d.key)&&l.onOpenToggle(),d.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});D0.displayName=I0;var JA="DropdownMenuPortal",M0=t=>{const{__scopeDropdownMenu:e,...r}=t,s=Wt(e);return f.jsx(DA,{...s,...r})};M0.displayName=JA;var $0="DropdownMenuContent",L0=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=P0($0,r),l=Wt(r),c=w.useRef(!1);return f.jsx(MA,{id:i.contentId,"aria-labelledby":i.triggerId,...l,...s,ref:e,onCloseAutoFocus:Se(t.onCloseAutoFocus,d=>{c.current||i.triggerRef.current?.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:Se(t.onInteractOutside,d=>{const h=d.detail.originalEvent,m=h.button===0&&h.ctrlKey===!0,v=h.button===2||m;(!i.modal||v)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L0.displayName=$0;var XA="DropdownMenuGroup",QA=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=Wt(r);return f.jsx($A,{...i,...s,ref:e})});QA.displayName=XA;var ZA="DropdownMenuLabel",eP=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=Wt(r);return f.jsx(LA,{...i,...s,ref:e})});eP.displayName=ZA;var tP="DropdownMenuItem",U0=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=Wt(r);return f.jsx(UA,{...i,...s,ref:e})});U0.displayName=tP;var nP="DropdownMenuCheckboxItem",rP=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=Wt(r);return f.jsx(FA,{...i,...s,ref:e})});rP.displayName=nP;var oP="DropdownMenuRadioGroup",sP=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=Wt(r);return f.jsx(zA,{...i,...s,ref:e})});sP.displayName=oP;var iP="DropdownMenuRadioItem",aP=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=Wt(r);return f.jsx(BA,{...i,...s,ref:e})});aP.displayName=iP;var lP="DropdownMenuItemIndicator",cP=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=Wt(r);return f.jsx(VA,{...i,...s,ref:e})});cP.displayName=lP;var uP="DropdownMenuSeparator",dP=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=Wt(r);return f.jsx(WA,{...i,...s,ref:e})});dP.displayName=uP;var fP="DropdownMenuArrow",hP=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=Wt(r);return f.jsx(HA,{...i,...s,ref:e})});hP.displayName=fP;var pP="DropdownMenuSubTrigger",mP=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=Wt(r);return f.jsx(KA,{...i,...s,ref:e})});mP.displayName=pP;var gP="DropdownMenuSubContent",vP=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=Wt(r);return f.jsx(qA,{...i,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vP.displayName=gP;var yP=O0,wP=D0,xP=M0,bP=L0,_P=U0;function SP({...t}){return f.jsx(yP,{"data-slot":"dropdown-menu",...t})}function kP({...t}){return f.jsx(wP,{"data-slot":"dropdown-menu-trigger",...t})}function EP({className:t,sideOffset:e=4,...r}){return f.jsx(xP,{children:f.jsx(bP,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Me("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}const F0=w.forwardRef(({className:t,inset:e,variant:r="default",...s},i)=>f.jsx(_P,{ref:i,"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":r,className:Me("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s}));F0.displayName="DropdownMenuItem";function CP(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const z0=z.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Mi=()=>{const t=z.useContext(z0);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};CP(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function RP(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function TP(){return Wf(/^Mac/)}function NP(){return Wf(/^iPhone/)}function Fg(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function jP(){return Wf(/^iPad/)||TP()&&navigator.maxTouchPoints>1}function B0(){return NP()||jP()}function Wf(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const AP=24,PP=typeof window<"u"?w.useLayoutEffect:w.useEffect;function zg(...t){return(...e)=>{for(let r of t)typeof r=="function"&&r(...e)}}const fd=typeof document<"u"&&window.visualViewport;function Bg(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function V0(t){for(Bg(t)&&(t=t.parentElement);t&&!Bg(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const OP=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ol=0,hd;function IP(t={}){let{isDisabled:e}=t;PP(()=>{if(!e)return ol++,ol===1&&B0()&&(hd=DP()),()=>{ol--,ol===0&&hd?.()}},[e])}function DP(){let t,e=0,r=g=>{t=V0(g.target),!(t===document.documentElement&&t===document.body)&&(e=g.changedTouches[0].pageY)},s=g=>{if(!t||t===document.documentElement||t===document.body){g.preventDefault();return}let x=g.changedTouches[0].pageY,b=t.scrollTop,S=t.scrollHeight-t.clientHeight;S!==0&&((b<=0&&x>e||b>=S&&x<e)&&g.preventDefault(),e=x)},i=g=>{let x=g.target;Vd(x)&&x!==document.activeElement&&(g.preventDefault(),x.style.transform="translateY(-2000px)",x.focus(),requestAnimationFrame(()=>{x.style.transform=""}))},l=g=>{let x=g.target;Vd(x)&&(x.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{x.style.transform="",fd&&(fd.height<window.innerHeight?requestAnimationFrame(()=>{Vg(x)}):fd.addEventListener("resize",()=>Vg(x),{once:!0}))}))},c=()=>{window.scrollTo(0,0)},d=window.pageXOffset,h=window.pageYOffset,m=zg(MP(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let v=zg(fi(document,"touchstart",r,{passive:!1,capture:!0}),fi(document,"touchmove",s,{passive:!1,capture:!0}),fi(document,"touchend",i,{passive:!1,capture:!0}),fi(document,"focus",l,!0),fi(window,"scroll",c));return()=>{m(),v(),window.scrollTo(d,h)}}function MP(t,e,r){let s=t.style[e];return t.style[e]=r,()=>{t.style[e]=s}}function fi(t,e,r,s){return t.addEventListener(e,r,s),()=>{t.removeEventListener(e,r,s)}}function Vg(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let r=V0(t);if(r!==document.documentElement&&r!==document.body&&r!==t){let s=r.getBoundingClientRect().top,i=t.getBoundingClientRect().top,l=t.getBoundingClientRect().bottom;const c=r.getBoundingClientRect().bottom+AP;l>c&&(r.scrollTop+=i-s)}t=r.parentElement}}function Vd(t){return t instanceof HTMLInputElement&&!OP.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function $P(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function LP(...t){return e=>t.forEach(r=>$P(r,e))}function W0(...t){return w.useCallback(LP(...t),t)}const H0=new WeakMap;function Et(t,e,r=!1){if(!t||!(t instanceof HTMLElement))return;let s={};Object.entries(e).forEach(([i,l])=>{if(i.startsWith("--")){t.style.setProperty(i,l);return}s[i]=t.style[i],t.style[i]=l}),!r&&H0.set(t,s)}function UP(t,e){if(!t||!(t instanceof HTMLElement))return;let r=H0.get(t);r&&(t.style[e]=r[e])}const wt=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function sl(t,e){if(!t)return null;const r=window.getComputedStyle(t),s=r.transform||r.webkitTransform||r.mozTransform;let i=s.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[wt(e)?13:12]):(i=s.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[wt(e)?5:4]):null)}function FP(t){return 8*(Math.log(t+1)-2)}function pd(t,e){if(!t)return()=>{};const r=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=r}}function zP(...t){return(...e)=>{for(const r of t)typeof r=="function"&&r(...e)}}const dt={DURATION:.5,EASE:[.32,.72,0,1]},K0=.4,BP=.25,VP=100,q0=8,po=16,Wd=26,md="vaul-dragging";function G0(t){const e=z.useRef(t);return z.useEffect(()=>{e.current=t}),z.useMemo(()=>(...r)=>e.current==null?void 0:e.current.call(e,...r),[])}function WP({defaultProp:t,onChange:e}){const r=z.useState(t),[s]=r,i=z.useRef(s),l=G0(e);return z.useEffect(()=>{i.current!==s&&(l(s),i.current=s)},[s,i,l]),r}function Y0({prop:t,defaultProp:e,onChange:r=()=>{}}){const[s,i]=WP({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:s,d=G0(r),h=z.useCallback(m=>{if(l){const g=typeof m=="function"?m(t):m;g!==t&&d(g)}else i(m)},[l,t,i,d]);return[c,h]}function HP({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:r,drawerRef:s,overlayRef:i,fadeFromIndex:l,onSnapPointChange:c,direction:d="bottom",container:h,snapToSequentialPoint:m}){const[v,g]=Y0({prop:t,defaultProp:r?.[0],onChange:e}),[x,b]=z.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);z.useEffect(()=>{function M(){b({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]);const S=z.useMemo(()=>v===r?.[r.length-1]||null,[r,v]),_=z.useMemo(()=>{var M;return(M=r?.findIndex($=>$===v))!=null?M:null},[r,v]),C=r&&r.length>0&&(l||l===0)&&!Number.isNaN(l)&&r[l]===v||!r,E=z.useMemo(()=>{const M=h?{width:h.getBoundingClientRect().width,height:h.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var $;return($=r?.map(H=>{const Z=typeof H=="string";let oe=0;if(Z&&(oe=parseInt(H,10)),wt(d)){const Y=Z?oe:x?H*M.height:0;return x?d==="bottom"?M.height-Y:-M.height+Y:Y}const le=Z?oe:x?H*M.width:0;return x?d==="right"?M.width-le:-M.width+le:le}))!=null?$:[]},[r,x,h]),j=z.useMemo(()=>_!==null?E?.[_]:null,[E,_]),T=z.useCallback(M=>{var $;const H=($=E?.findIndex(Z=>Z===M))!=null?$:null;c(H),Et(s.current,{transition:`transform ${dt.DURATION}s cubic-bezier(${dt.EASE.join(",")})`,transform:wt(d)?`translate3d(0, ${M}px, 0)`:`translate3d(${M}px, 0, 0)`}),E&&H!==E.length-1&&l!==void 0&&H!==l&&H<l?Et(i.current,{transition:`opacity ${dt.DURATION}s cubic-bezier(${dt.EASE.join(",")})`,opacity:"0"}):Et(i.current,{transition:`opacity ${dt.DURATION}s cubic-bezier(${dt.EASE.join(",")})`,opacity:"1"}),g(r?.[Math.max(H,0)])},[s.current,r,E,l,i,g]);z.useEffect(()=>{if(v||t){var M;const $=(M=r?.findIndex(H=>H===t||H===v))!=null?M:-1;E&&$!==-1&&typeof E[$]=="number"&&T(E[$])}},[v,t,r,E,T]);function R({draggedDistance:M,closeDrawer:$,velocity:H,dismissible:Z}){if(l===void 0)return;const oe=d==="bottom"||d==="right"?(j??0)-M:(j??0)+M,le=_===l-1,Y=_===0,ce=M>0;if(le&&Et(i.current,{transition:`opacity ${dt.DURATION}s cubic-bezier(${dt.EASE.join(",")})`}),!m&&H>2&&!ce){Z?$():T(E[0]);return}if(!m&&H>2&&ce&&E&&r){T(E[r.length-1]);return}const se=E?.reduce((J,A)=>typeof J!="number"||typeof A!="number"?J:Math.abs(A-oe)<Math.abs(J-oe)?A:J),G=wt(d)?window.innerHeight:window.innerWidth;if(H>K0&&Math.abs(M)<G*.4){const J=ce?1:-1;if(J>0&&S&&r){T(E[r.length-1]);return}if(Y&&J<0&&Z&&$(),_===null)return;T(E[_+J]);return}T(se)}function B({draggedDistance:M}){if(j===null)return;const $=d==="bottom"||d==="right"?j-M:j+M;(d==="bottom"||d==="right")&&$<E[E.length-1]||(d==="top"||d==="left")&&$>E[E.length-1]||Et(s.current,{transform:wt(d)?`translate3d(0, ${$}px, 0)`:`translate3d(${$}px, 0, 0)`})}function L(M,$){if(!r||typeof _!="number"||!E||l===void 0)return null;const H=_===l-1;if(_>=l&&$)return 0;if(H&&!$)return 1;if(!C&&!H)return null;const oe=H?_+1:_-1,le=H?E[oe]-E[oe-1]:E[oe+1]-E[oe],Y=M/Math.abs(le);return H?1-Y:Y}return{isLastSnapPoint:S,activeSnapPoint:v,shouldFade:C,getPercentageDragged:L,setActiveSnapPoint:g,activeSnapPointIndex:_,onRelease:R,onDrag:B,snapPointsOffset:E}}const KP=()=>()=>{};function qP(){const{direction:t,isOpen:e,shouldScaleBackground:r,setBackgroundColorOnScale:s,noBodyStyles:i}=Mi(),l=z.useRef(null),c=w.useMemo(()=>document.body.style.backgroundColor,[]);function d(){return(window.innerWidth-Wd)/window.innerWidth}z.useEffect(()=>{if(e&&r){l.current&&clearTimeout(l.current);const h=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!h)return;zP(s&&!i?pd(document.body,{background:"black"}):KP,pd(h,{transformOrigin:wt(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${dt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${dt.EASE.join(",")})`}));const m=pd(h,{borderRadius:`${q0}px`,overflow:"hidden",...wt(t)?{transform:`scale(${d()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${d()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{m(),l.current=window.setTimeout(()=>{c?document.body.style.background=c:document.body.style.removeProperty("background")},dt.DURATION*1e3)}}},[e,r,c])}let hi=null;function GP({isOpen:t,modal:e,nested:r,hasBeenOpened:s,preventScrollRestoration:i,noBodyStyles:l}){const[c,d]=z.useState(()=>typeof window<"u"?window.location.href:""),h=z.useRef(0),m=z.useCallback(()=>{if(Fg()&&hi===null&&t&&!l){hi={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:g,innerHeight:x}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-h.current}px`,left:`${-g}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const b=x-window.innerHeight;b&&h.current>=x&&(document.body.style.top=`${-(h.current+b)}px`)}),300)}},[t]),v=z.useCallback(()=>{if(Fg()&&hi!==null&&!l){const g=-parseInt(document.body.style.top,10),x=-parseInt(document.body.style.left,10);Object.assign(document.body.style,hi),window.requestAnimationFrame(()=>{if(i&&c!==window.location.href){d(window.location.href);return}window.scrollTo(x,g)}),hi=null}},[c]);return z.useEffect(()=>{function g(){h.current=window.scrollY}return g(),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),z.useEffect(()=>{if(e)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||v()}},[e,v]),z.useEffect(()=>{r||!s||(t?(!window.matchMedia("(display-mode: standalone)").matches&&m(),e||window.setTimeout(()=>{v()},500)):v())},[t,s,c,e,r,m,v]),{restorePositionSetting:v}}function YP({open:t,onOpenChange:e,children:r,onDrag:s,onRelease:i,snapPoints:l,shouldScaleBackground:c=!1,setBackgroundColorOnScale:d=!0,closeThreshold:h=BP,scrollLockTimeout:m=VP,dismissible:v=!0,handleOnly:g=!1,fadeFromIndex:x=l&&l.length-1,activeSnapPoint:b,setActiveSnapPoint:S,fixed:_,modal:C=!0,onClose:E,nested:j,noBodyStyles:T=!1,direction:R="bottom",defaultOpen:B=!1,disablePreventScroll:L=!0,snapToSequentialPoint:M=!1,preventScrollRestoration:$=!1,repositionInputs:H=!0,onAnimationEnd:Z,container:oe,autoFocus:le=!1}){var Y,ce;const[se=!1,G]=Y0({defaultProp:B,prop:t,onChange:we=>{e?.(we),!we&&!j&&Gr(),setTimeout(()=>{Z?.(we)},dt.DURATION*1e3),we&&!C&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),we||(document.body.style.pointerEvents="auto")}}),[J,A]=z.useState(!1),[V,X]=z.useState(!1),[O,D]=z.useState(!1),K=z.useRef(null),Q=z.useRef(null),ae=z.useRef(null),fe=z.useRef(null),q=z.useRef(null),ee=z.useRef(!1),ue=z.useRef(null),ke=z.useRef(0),Oe=z.useRef(!1),Je=z.useRef(!B),rt=z.useRef(0),Ee=z.useRef(null),Nt=z.useRef(((Y=Ee.current)==null?void 0:Y.getBoundingClientRect().height)||0),Ln=z.useRef(((ce=Ee.current)==null?void 0:ce.getBoundingClientRect().width)||0),It=z.useRef(0),he=z.useCallback(we=>{l&&we===xt.length-1&&(Q.current=new Date)},[]),{activeSnapPoint:Ce,activeSnapPointIndex:Ie,setActiveSnapPoint:ot,onRelease:Ze,snapPointsOffset:xt,onDrag:er,shouldFade:yr,getPercentageDragged:fn}=HP({snapPoints:l,activeSnapPointProp:b,setActiveSnapPointProp:S,drawerRef:Ee,fadeFromIndex:x,overlayRef:K,onSnapPointChange:he,direction:R,container:oe,snapToSequentialPoint:M});IP({isDisabled:!se||V||!C||O||!J||!H||!L});const{restorePositionSetting:Gr}=GP({isOpen:se,modal:C,nested:j??!1,hasBeenOpened:J,preventScrollRestoration:$,noBodyStyles:T});function hn(){return(window.innerWidth-Wd)/window.innerWidth}function wr(we){var ze,Be;!v&&!l||Ee.current&&!Ee.current.contains(we.target)||(Nt.current=((ze=Ee.current)==null?void 0:ze.getBoundingClientRect().height)||0,Ln.current=((Be=Ee.current)==null?void 0:Be.getBoundingClientRect().width)||0,X(!0),ae.current=new Date,B0()&&window.addEventListener("touchend",()=>ee.current=!1,{once:!0}),we.target.setPointerCapture(we.pointerId),ke.current=wt(R)?we.pageY:we.pageX)}function zt(we,ze){var Be;let De=we;const et=(Be=window.getSelection())==null?void 0:Be.toString(),be=Ee.current?sl(Ee.current,R):null,Ue=new Date;if(De.tagName==="SELECT"||De.hasAttribute("data-vaul-no-drag")||De.closest("[data-vaul-no-drag]"))return!1;if(R==="right"||R==="left")return!0;if(Q.current&&Ue.getTime()-Q.current.getTime()<500)return!1;if(be!==null&&(R==="bottom"?be>0:be<0))return!0;if(et&&et.length>0)return!1;if(q.current&&Ue.getTime()-q.current.getTime()<m&&be===0||ze)return q.current=Ue,!1;for(;De;){if(De.scrollHeight>De.clientHeight){if(De.scrollTop!==0)return q.current=new Date,!1;if(De.getAttribute("role")==="dialog")return!0}De=De.parentNode}return!0}function Un(we){if(Ee.current&&V){const ze=R==="bottom"||R==="right"?1:-1,Be=(ke.current-(wt(R)?we.pageY:we.pageX))*ze,De=Be>0,et=l&&!v&&!De;if(et&&Ie===0)return;const be=Math.abs(Be),Ue=document.querySelector("[data-vaul-drawer-wrapper]"),Xe=R==="bottom"||R==="top"?Nt.current:Ln.current;let Qe=be/Xe;const Dt=fn(be,De);if(Dt!==null&&(Qe=Dt),et&&Qe>=1||!ee.current&&!zt(we.target,De))return;if(Ee.current.classList.add(md),ee.current=!0,Et(Ee.current,{transition:"none"}),Et(K.current,{transition:"none"}),l&&er({draggedDistance:Be}),De&&!l){const Ge=FP(Be),en=Math.min(Ge*-1,0)*ze;Et(Ee.current,{transform:wt(R)?`translate3d(0, ${en}px, 0)`:`translate3d(${en}px, 0, 0)`});return}const qe=1-Qe;if((yr||x&&Ie===x-1)&&(s?.(we,Qe),Et(K.current,{opacity:`${qe}`,transition:"none"},!0)),Ue&&K.current&&c){const Ge=Math.min(hn()+Qe*(1-hn()),1),en=8-Qe*8,gt=Math.max(0,14-Qe*14);Et(Ue,{borderRadius:`${en}px`,transform:wt(R)?`scale(${Ge}) translate3d(0, ${gt}px, 0)`:`scale(${Ge}) translate3d(${gt}px, 0, 0)`,transition:"none"},!0)}if(!l){const Ge=be*ze;Et(Ee.current,{transform:wt(R)?`translate3d(0, ${Ge}px, 0)`:`translate3d(${Ge}px, 0, 0)`})}}}z.useEffect(()=>{window.requestAnimationFrame(()=>{Je.current=!0})},[]),z.useEffect(()=>{var we;function ze(){if(!Ee.current||!H)return;const Be=document.activeElement;if(Vd(Be)||Oe.current){var De;const et=((De=window.visualViewport)==null?void 0:De.height)||0,be=window.innerHeight;let Ue=be-et;const Xe=Ee.current.getBoundingClientRect().height||0,Qe=Xe>be*.8;It.current||(It.current=Xe);const Dt=Ee.current.getBoundingClientRect().top;if(Math.abs(rt.current-Ue)>60&&(Oe.current=!Oe.current),l&&l.length>0&&xt&&Ie){const qe=xt[Ie]||0;Ue+=qe}if(rt.current=Ue,Xe>et||Oe.current){const qe=Ee.current.getBoundingClientRect().height;let Ge=qe;qe>et&&(Ge=et-(Qe?Dt:Wd)),_?Ee.current.style.height=`${qe-Math.max(Ue,0)}px`:Ee.current.style.height=`${Math.max(Ge,et-Dt)}px`}else RP()||(Ee.current.style.height=`${It.current}px`);l&&l.length>0&&!Oe.current?Ee.current.style.bottom="0px":Ee.current.style.bottom=`${Math.max(Ue,0)}px`}}return(we=window.visualViewport)==null||we.addEventListener("resize",ze),()=>{var Be;return(Be=window.visualViewport)==null?void 0:Be.removeEventListener("resize",ze)}},[Ie,l,xt]);function Ht(we){jo(),E?.(),we||G(!1),setTimeout(()=>{l&&ot(l[0])},dt.DURATION*1e3)}function Yr(){if(!Ee.current)return;const we=document.querySelector("[data-vaul-drawer-wrapper]"),ze=sl(Ee.current,R);Et(Ee.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${dt.DURATION}s cubic-bezier(${dt.EASE.join(",")})`}),Et(K.current,{transition:`opacity ${dt.DURATION}s cubic-bezier(${dt.EASE.join(",")})`,opacity:"1"}),c&&ze&&ze>0&&se&&Et(we,{borderRadius:`${q0}px`,overflow:"hidden",...wt(R)?{transform:`scale(${hn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${hn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${dt.DURATION}s`,transitionTimingFunction:`cubic-bezier(${dt.EASE.join(",")})`},!0)}function jo(){!V||!Ee.current||(Ee.current.classList.remove(md),ee.current=!1,X(!1),fe.current=new Date)}function Ao(we){if(!V||!Ee.current)return;Ee.current.classList.remove(md),ee.current=!1,X(!1),fe.current=new Date;const ze=sl(Ee.current,R);if(!we||!zt(we.target,!1)||!ze||Number.isNaN(ze)||ae.current===null)return;const Be=fe.current.getTime()-ae.current.getTime(),De=ke.current-(wt(R)?we.pageY:we.pageX),et=Math.abs(De)/Be;if(et>.05&&(D(!0),setTimeout(()=>{D(!1)},200)),l){Ze({draggedDistance:De*(R==="bottom"||R==="right"?1:-1),closeDrawer:Ht,velocity:et,dismissible:v}),i?.(we,!0);return}if(R==="bottom"||R==="right"?De>0:De<0){Yr(),i?.(we,!0);return}if(et>K0){Ht(),i?.(we,!1);return}var be;const Ue=Math.min((be=Ee.current.getBoundingClientRect().height)!=null?be:0,window.innerHeight);var Xe;const Qe=Math.min((Xe=Ee.current.getBoundingClientRect().width)!=null?Xe:0,window.innerWidth),Dt=R==="left"||R==="right";if(Math.abs(ze)>=(Dt?Qe:Ue)*h){Ht(),i?.(we,!1);return}i?.(we,!0),Yr()}z.useEffect(()=>(se&&(Et(document.documentElement,{scrollBehavior:"auto"}),Q.current=new Date),()=>{UP(document.documentElement,"scrollBehavior")}),[se]);function xr(we){const ze=we?(window.innerWidth-po)/window.innerWidth:1,Be=we?-po:0;ue.current&&window.clearTimeout(ue.current),Et(Ee.current,{transition:`transform ${dt.DURATION}s cubic-bezier(${dt.EASE.join(",")})`,transform:wt(R)?`scale(${ze}) translate3d(0, ${Be}px, 0)`:`scale(${ze}) translate3d(${Be}px, 0, 0)`}),!we&&Ee.current&&(ue.current=setTimeout(()=>{const De=sl(Ee.current,R);Et(Ee.current,{transition:"none",transform:wt(R)?`translate3d(0, ${De}px, 0)`:`translate3d(${De}px, 0, 0)`})},500))}function Jr(we,ze){if(ze<0)return;const Be=(window.innerWidth-po)/window.innerWidth,De=Be+ze*(1-Be),et=-po+ze*po;Et(Ee.current,{transform:wt(R)?`scale(${De}) translate3d(0, ${et}px, 0)`:`scale(${De}) translate3d(${et}px, 0, 0)`,transition:"none"})}function tr(we,ze){const Be=wt(R)?window.innerHeight:window.innerWidth,De=ze?(Be-po)/Be:1,et=ze?-po:0;ze&&Et(Ee.current,{transition:`transform ${dt.DURATION}s cubic-bezier(${dt.EASE.join(",")})`,transform:wt(R)?`scale(${De}) translate3d(0, ${et}px, 0)`:`scale(${De}) translate3d(${et}px, 0, 0)`})}return z.useEffect(()=>{C||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[C]),z.createElement(cf,{defaultOpen:B,onOpenChange:we=>{!v&&!we||(we?A(!0):Ht(!0),G(we))},open:se},z.createElement(z0.Provider,{value:{activeSnapPoint:Ce,snapPoints:l,setActiveSnapPoint:ot,drawerRef:Ee,overlayRef:K,onOpenChange:e,onPress:wr,onRelease:Ao,onDrag:Un,dismissible:v,shouldAnimate:Je,handleOnly:g,isOpen:se,isDragging:V,shouldFade:yr,closeDrawer:Ht,onNestedDrag:Jr,onNestedOpenChange:xr,onNestedRelease:tr,keyboardIsOpen:Oe,modal:C,snapPointsOffset:xt,activeSnapPointIndex:Ie,direction:R,shouldScaleBackground:c,setBackgroundColorOnScale:d,noBodyStyles:T,container:oe,autoFocus:le}},r))}const J0=z.forwardRef(function({...t},e){const{overlayRef:r,snapPoints:s,onRelease:i,shouldFade:l,isOpen:c,modal:d,shouldAnimate:h}=Mi(),m=W0(e,r),v=s&&s.length>0;if(!d)return null;const g=z.useCallback(x=>i(x),[i]);return z.createElement(Fl,{onMouseUp:g,ref:m,"data-vaul-overlay":"","data-vaul-snap-points":c&&v?"true":"false","data-vaul-snap-points-overlay":c&&l?"true":"false","data-vaul-animate":h?.current?"true":"false",...t})});J0.displayName="Drawer.Overlay";const X0=z.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:r,...s},i){const{drawerRef:l,onPress:c,onRelease:d,onDrag:h,keyboardIsOpen:m,snapPointsOffset:v,activeSnapPointIndex:g,modal:x,isOpen:b,direction:S,snapPoints:_,container:C,handleOnly:E,shouldAnimate:j,autoFocus:T}=Mi(),[R,B]=z.useState(!1),L=W0(i,l),M=z.useRef(null),$=z.useRef(null),H=z.useRef(!1),Z=_&&_.length>0;qP();const oe=(Y,ce,se=0)=>{if(H.current)return!0;const G=Math.abs(Y.y),J=Math.abs(Y.x),A=J>G,V=["bottom","right"].includes(ce)?1:-1;if(ce==="left"||ce==="right"){if(!(Y.x*V<0)&&J>=0&&J<=se)return A}else if(!(Y.y*V<0)&&G>=0&&G<=se)return!A;return H.current=!0,!0};z.useEffect(()=>{Z&&window.requestAnimationFrame(()=>{B(!0)})},[]);function le(Y){M.current=null,H.current=!1,d(Y)}return z.createElement(zl,{"data-vaul-drawer-direction":S,"data-vaul-drawer":"","data-vaul-delayed-snap-points":R?"true":"false","data-vaul-snap-points":b&&Z?"true":"false","data-vaul-custom-container":C?"true":"false","data-vaul-animate":j?.current?"true":"false",...s,ref:L,style:v&&v.length>0?{"--snap-point-height":`${v[g??0]}px`,...e}:e,onPointerDown:Y=>{E||(s.onPointerDown==null||s.onPointerDown.call(s,Y),M.current={x:Y.pageX,y:Y.pageY},c(Y))},onOpenAutoFocus:Y=>{r?.(Y),T||Y.preventDefault()},onPointerDownOutside:Y=>{if(t?.(Y),!x||Y.defaultPrevented){Y.preventDefault();return}m.current&&(m.current=!1)},onFocusOutside:Y=>{if(!x){Y.preventDefault();return}},onPointerMove:Y=>{if($.current=Y,E||(s.onPointerMove==null||s.onPointerMove.call(s,Y),!M.current))return;const ce=Y.pageY-M.current.y,se=Y.pageX-M.current.x,G=Y.pointerType==="touch"?10:2;oe({x:se,y:ce},S,G)?h(Y):(Math.abs(se)>G||Math.abs(ce)>G)&&(M.current=null)},onPointerUp:Y=>{s.onPointerUp==null||s.onPointerUp.call(s,Y),M.current=null,H.current=!1,d(Y)},onPointerOut:Y=>{s.onPointerOut==null||s.onPointerOut.call(s,Y),le($.current)},onContextMenu:Y=>{s.onContextMenu==null||s.onContextMenu.call(s,Y),$.current&&le($.current)}})});X0.displayName="Drawer.Content";const JP=250,XP=120,QP=z.forwardRef(function({preventCycle:t=!1,children:e,...r},s){const{closeDrawer:i,isDragging:l,snapPoints:c,activeSnapPoint:d,setActiveSnapPoint:h,dismissible:m,handleOnly:v,isOpen:g,onPress:x,onDrag:b}=Mi(),S=z.useRef(null),_=z.useRef(!1);function C(){if(_.current){T();return}window.setTimeout(()=>{E()},XP)}function E(){if(l||t||_.current){T();return}if(T(),!c||c.length===0){m||i();return}if(d===c[c.length-1]&&m){i();return}const B=c.findIndex(M=>M===d);if(B===-1)return;const L=c[B+1];h(L)}function j(){S.current=window.setTimeout(()=>{_.current=!0},JP)}function T(){S.current&&window.clearTimeout(S.current),_.current=!1}return z.createElement("div",{onClick:C,onPointerCancel:T,onPointerDown:R=>{v&&x(R),j()},onPointerMove:R=>{v&&b(R)},ref:s,"data-vaul-drawer-visible":g?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},z.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});QP.displayName="Drawer.Handle";function ZP(t){const e=Mi(),{container:r=e.container,...s}=t;return z.createElement(df,{container:r,...s})}const Zn={Root:YP,Content:X0,Overlay:J0,Trigger:uf,Portal:ZP,Title:Bl,Description:Vl};function eO({...t}){return f.jsx(Zn.Root,{"data-slot":"drawer",...t})}function tO({...t}){return f.jsx(Zn.Trigger,{"data-slot":"drawer-trigger",...t})}function nO({...t}){return f.jsx(Zn.Portal,{"data-slot":"drawer-portal",...t})}const Q0=w.forwardRef(({className:t,...e},r)=>f.jsx(Zn.Overlay,{ref:r,"data-slot":"drawer-overlay",className:Me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));Q0.displayName=Zn.Overlay.displayName;const Z0=w.forwardRef(({className:t,children:e,...r},s)=>f.jsxs(nO,{"data-slot":"drawer-portal",children:[f.jsx(Q0,{}),f.jsxs(Zn.Content,{ref:s,"data-slot":"drawer-content",className:Me("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...r,children:[f.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),e]})]}));Z0.displayName="DrawerContent";const ex=w.forwardRef(({className:t,...e},r)=>f.jsx(Zn.Title,{ref:r,"data-slot":"drawer-title",className:Me("text-foreground font-semibold",t),...e}));ex.displayName=Zn.Title.displayName;const tx=w.forwardRef(({className:t,...e},r)=>f.jsx(Zn.Description,{ref:r,"data-slot":"drawer-description",className:Me("text-muted-foreground text-sm",t),...e}));tx.displayName=Zn.Description.displayName;const Hd=["#4f46e5","#0ea5e9","#10b981","#f59e0b","#ef4444","#ec4899","#8b5cf6","#64748b"],Wg=({value:t,onChange:e})=>f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between text-xs text-slate-500 font-medium",children:[f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx(av,{className:"w-3.5 h-3.5"})," Volume"]}),f.jsxs("span",{children:[Math.round(t*100),"%"]})]}),f.jsx(Tf,{value:[t],max:1,step:.01,onValueChange:([r])=>e(r),className:"[&_.bg-primary]:bg-slate-700"})]}),Hg=({value:t,onChange:e})=>f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between text-xs text-slate-500 font-medium",children:[f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx(M_,{className:"w-3.5 h-3.5"})," Panning"]}),f.jsx("span",{className:"font-mono",children:t===0?"CENTER":t<0?`L ${Math.abs(Math.round(t*100))}%`:`R ${Math.round(t*100)}%`})]}),f.jsxs("div",{className:"relative h-6 flex items-center",children:[f.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-0.5 bg-slate-300 -translate-x-1/2 z-0"}),f.jsx("div",{className:"absolute left-0 right-0 h-1 bg-slate-100 rounded-full z-0"}),f.jsx(Tf,{value:[t],min:-1,max:1,step:.05,onValueChange:([r])=>e(r),className:"relative z-10 [&_.bg-primary]:bg-transparent [&_.bg-primary]:border-transparent [&_.border-primary]:border-slate-600 [&_.border-primary]:bg-white [&_.border-primary]:border-2"})]}),f.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 font-bold px-1",children:[f.jsx("span",{children:"L"}),f.jsx("span",{children:"R"})]})]}),il=({label:t,value:e,onChange:r})=>f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between text-xs text-slate-500 font-medium",children:[f.jsx("span",{className:"flex items-center gap-1.5",children:t}),f.jsxs("span",{children:[e.toFixed(1),"s"]})]}),f.jsx(Tf,{value:[e],max:5,step:.1,onValueChange:([s])=>r(s),className:"[&_.bg-primary]:bg-slate-700"})]}),rO=({value:t,onChange:e})=>f.jsxs("div",{className:"space-y-3",children:[f.jsx(Zt,{className:"text-xs text-slate-500 font-medium",children:"Zone Color"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:Hd.map(r=>f.jsx("button",{onClick:()=>e(r),className:`w-6 h-6 rounded-full transition-all ${t===r?"ring-2 ring-offset-2 ring-slate-400 scale-110":"hover:scale-110"}`,style:{backgroundColor:r}},r))})]}),nx=()=>{const t=w.useRef(null),e=w.useRef(new Map);w.useEffect(()=>()=>{t.current&&t.current.close(),e.current.forEach(({audio:d})=>d.pause()),e.current.clear()},[]);const r=()=>(t.current||(t.current=new(window.AudioContext||window.webkitAudioContext)),t.current.state==="suspended"&&t.current.resume(),t.current);return{play:(d,h,m)=>{const v=r(),g=m.fadeIn??.3,x=e.current.get(d);if(x){if(x.fadeOutDuration=m.fadeOut??.3,x.fadeOutTimer){clearTimeout(x.fadeOutTimer),x.fadeOutTimer=void 0,x.gain.gain.cancelScheduledValues(v.currentTime),x.gain.gain.linearRampToValueAtTime(m.volume,v.currentTime+g);return}return}const b=new Audio(h);b.loop=m.loop,b.crossOrigin="anonymous";const S=v.createMediaElementSource(b),_=v.createGain(),C=v.createStereoPanner();S.connect(_),_.connect(C),C.connect(v.destination),C.pan.value=m.pan,_.gain.setValueAtTime(0,v.currentTime),_.gain.linearRampToValueAtTime(m.volume,v.currentTime+g),b.play().catch(E=>console.error("Playback failed:",E)),e.current.set(d,{source:S,gain:_,panner:C,audio:b,fadeOutDuration:m.fadeOut??.3}),b.onended=()=>{m.loop||e.current.delete(d)}},stop:d=>{const h=e.current.get(d);if(h&&!h.fadeOutTimer){const m=r(),v=h.fadeOutDuration||.3;h.gain.gain.cancelScheduledValues(m.currentTime),h.gain.gain.setValueAtTime(h.gain.gain.value,m.currentTime),h.gain.gain.linearRampToValueAtTime(0,m.currentTime+v);const g=setTimeout(()=>{h.audio.pause();try{h.source.disconnect(),h.gain.disconnect(),h.panner.disconnect()}catch{}e.current.delete(d)},v*1e3+100);h.fadeOutTimer=g}},stopAll:()=>{e.current.forEach((d,h)=>{const m=e.current.get(h);if(m&&!m.fadeOutTimer){const v=r();m.gain.gain.cancelScheduledValues(v.currentTime),m.gain.gain.setValueAtTime(m.gain.gain.value,v.currentTime),m.gain.gain.linearRampToValueAtTime(0,v.currentTime+.1),setTimeout(()=>{m.audio.pause();try{m.source.disconnect(),m.gain.disconnect(),m.panner.disconnect()}catch{}e.current.delete(h)},150)}})},updateSettings:(d,h)=>{const m=e.current.get(d);if(m&&(m.fadeOutDuration=h.fadeOut??.3,!m.fadeOutTimer)){const v=r();m.gain.gain.cancelScheduledValues(v.currentTime),m.gain.gain.linearRampToValueAtTime(h.volume,v.currentTime+.1),m.panner.pan.value=h.pan,m.audio.loop=h.loop}}}},oO=({session:t,project:e})=>{const[r,s]=w.useState(null),[i,l]=w.useState(!1);return w.useEffect(()=>{l(!0),Qg(async()=>{const{createShareLink:c}=await Promise.resolve().then(()=>xw);return{createShareLink:c}},void 0).then(({createShareLink:c})=>{c(t?.access_token,e.id).then(d=>{s(`${window.location.origin}?s=${d.shortId}`)}).catch(d=>console.error("Error creating share link:",d)).finally(()=>l(!1))})},[t?.access_token,e.id]),i||!r?f.jsx("div",{className:"flex items-center justify-center py-8",children:f.jsx(_o,{className:"w-6 h-6 animate-spin text-indigo-600"})}):f.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[f.jsxs("div",{className:"grid flex-1 gap-2",children:[f.jsx("label",{htmlFor:"link",className:"sr-only",children:"Link"}),f.jsx("input",{id:"link",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",readOnly:!0,value:r})]}),f.jsxs(Ne,{type:"submit",size:"sm",className:"px-3",onClick:async()=>{try{await navigator.clipboard.writeText(r)}catch{const d=document.getElementById("link");d&&(d.select(),document.execCommand("copy"))}},children:[f.jsx("span",{className:"sr-only",children:"Copy"}),f.jsx(x_,{className:"h-4 w-4"})]}),f.jsx(Ne,{type:"button",size:"sm",variant:"secondary",className:"px-3",onClick:()=>{window.open(r,"_blank")},children:f.jsx(C_,{className:"h-4 w-4"})})]})},Kg=({project:t,selectedHotspotId:e,onUpdate:r,setSelectedHotspotId:s,addGlobalChannel:i,session:l,openUploadModal:c,previewingChannelId:d,toggleChannelPreview:h,collapsedChannels:m,toggleChannelCollapse:v,setNarrationModalOpen:g})=>{const x=t.hotspots.find(b=>b.id===e);return x?f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"font-bold text-lg",children:"Zone Settings"}),f.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>{typeof s=="function"&&s(null)},children:f.jsx(yi,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Zt,{children:"Name"}),f.jsx(qn,{value:x.name,onChange:b=>r(S=>({...S,hotspots:S.hotspots.map(_=>_.id===x.id?{..._,name:b.target.value}:_)}))})]}),f.jsx(rO,{value:x.color,onChange:b=>r(S=>({...S,hotspots:S.hotspots.map(_=>_.id===x.id?{..._,color:b}:_)}))}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Zt,{children:"Audio File"}),f.jsx("div",{className:"bg-slate-50 border rounded-lg p-3",children:x.audioUrl?f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsx("span",{className:"text-xs font-medium truncate flex-1",children:x.audioFile?.name||"Audio File"}),f.jsx(Ne,{size:"sm",variant:"ghost",className:"h-6 w-6 text-red-500",onClick:()=>r(b=>({...b,hotspots:b.hotspots.map(S=>S.id===x.id?{...S,audioFile:null,audioUrl:null,audioPath:null}:S)})),children:f.jsx(ov,{className:"w-3 h-3"})})]}):f.jsxs(Ne,{id:"tour-zone-upload-audio",variant:"outline",size:"sm",className:"w-full",onClick:()=>c("hotspot",x.id),children:[f.jsx(On,{className:"w-4 h-4 mr-2"})," Upload Audio"]})})]}),x.audioUrl&&f.jsxs("div",{className:"space-y-6 pt-2",children:[f.jsx(Wg,{value:x.settings.volume,onChange:b=>r(S=>({...S,hotspots:S.hotspots.map(_=>_.id===x.id?{..._,settings:{..._.settings,volume:b}}:_)}))}),f.jsx(Hg,{value:x.settings.pan,onChange:b=>r(S=>({...S,hotspots:S.hotspots.map(_=>_.id===x.id?{..._,settings:{..._.settings,pan:b}}:_)}))}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(il,{label:"Fade In",value:x.settings.fadeIn??.5,onChange:b=>r(S=>({...S,hotspots:S.hotspots.map(_=>_.id===x.id?{..._,settings:{..._.settings,fadeIn:b}}:_)}))}),f.jsx(il,{label:"Fade Out",value:x.settings.fadeOut??.5,onChange:b=>r(S=>({...S,hotspots:S.hotspots.map(_=>_.id===x.id?{..._,settings:{..._.settings,fadeOut:b}}:_)}))})]}),f.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(B_,{className:"w-4 h-4 text-slate-500"}),f.jsx(Zt,{className:"text-xs",children:"Loop Audio"})]}),f.jsx(cd,{checked:x.settings.loop,onCheckedChange:b=>r(S=>({...S,hotspots:S.hotspots.map(_=>_.id===x.id?{..._,settings:{..._.settings,loop:b}}:_)}))})]})]}),f.jsxs("div",{className:"pt-6 border-t space-y-3",children:[f.jsxs(Ne,{id:"tour-zone-done-btn",className:"w-full",onClick:()=>s(null),children:[f.jsx(bo,{className:"w-4 h-4 mr-2"})," Done"]}),f.jsx(Ne,{variant:"ghost",className:"w-full text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>{r(b=>({...b,hotspots:b.hotspots.filter(S=>S.id!==x.id)})),s(null)},children:"Delete Zone"})]})]})]}):f.jsx("div",{className:"p-6 space-y-8",children:f.jsxs("div",{children:[f.jsx("h2",{className:"font-bold text-lg mb-4",children:"Project Settings"}),f.jsxs("div",{className:"space-y-4 mb-6",id:"tour-intro-audio",children:[f.jsx(Zt,{className:"text-slate-500 text-xs uppercase tracking-wider font-bold",children:"Start Screen Narration"}),f.jsxs("div",{className:"bg-slate-50 border rounded-lg p-4 space-y-3",children:[t.introAudioUrl?f.jsxs("div",{className:"flex items-center gap-3 bg-white p-2 rounded border",children:[f.jsx(nv,{className:"w-4 h-4 text-indigo-600"}),f.jsx("span",{className:"text-xs font-medium truncate flex-1",children:t.introAudioFile?.name||"Narration"}),f.jsx(Ne,{size:"icon",variant:"ghost",className:"h-6 w-6 text-red-500",onClick:()=>r(b=>({...b,introAudioFile:null,introAudioUrl:null,introAudioPath:null})),children:f.jsx(yi,{className:"w-3 h-3"})})]}):f.jsxs(Ne,{variant:"outline",size:"sm",className:"w-full",onClick:()=>g(!0),children:[f.jsx(On,{className:"w-3 h-3 mr-2"})," Upload Narration"]}),t.introAudioUrl&&f.jsxs("div",{className:"flex items-center justify-between px-1",children:[f.jsx(Zt,{className:"text-xs text-slate-500",children:"Loop Narration"}),f.jsx(cd,{checked:t.introAudioLoop,onCheckedChange:b=>r(S=>({...S,introAudioLoop:b}))})]})]})]}),f.jsxs("div",{className:"mb-6",id:"tour-add-channel",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx(Zt,{className:"text-slate-500 text-xs uppercase tracking-wider font-bold",children:"Background Channels"}),f.jsxs(Ne,{size:"sm",variant:"outline",onClick:i,children:[f.jsx(fl,{className:"w-3 h-3 mr-1"})," Add"]})]}),f.jsxs("div",{className:"space-y-3",children:[(t.globalChannels||[]).length===0&&f.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-lg p-4 text-center hover:border-indigo-300 transition-colors cursor-pointer",onClick:i,children:[f.jsx("div",{className:"mx-auto w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center mb-2 text-slate-400",children:f.jsx(fl,{className:"w-5 h-5"})}),f.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Add Background Audio"}),f.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Rain, city noise, or ambient music"})]}),(t.globalChannels||[]).map(b=>{const S=m.has(b.id);return f.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-1 cursor-pointer min-w-0",onClick:()=>v(b.id),children:[f.jsx(Ne,{size:"icon",variant:"ghost",className:"h-6 w-6 shrink-0 text-slate-400 hover:text-slate-600",children:S?f.jsx(p_,{className:"w-4 h-4"}):f.jsx(ev,{className:"w-4 h-4"})}),f.jsx(qn,{className:"h-7 text-sm font-medium border-none flex-1 min-w-0 focus-visible:ring-0",value:b.name,onChange:_=>{_.stopPropagation(),r(C=>({...C,globalChannels:C.globalChannels.map(E=>E.id===b.id?{...E,name:_.target.value}:E)}))},onClick:_=>_.stopPropagation()})]}),f.jsx(Ne,{size:"icon",variant:"ghost",className:"h-6 w-6 text-slate-400 hover:text-red-500 shrink-0",onClick:()=>r(_=>({..._,globalChannels:_.globalChannels.filter(C=>C.id!==b.id)})),children:f.jsx(yi,{className:"w-3 h-3"})})]}),!S&&(b.audioUrl?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"text-xs text-slate-500 flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[f.jsx(Ne,{size:"icon",variant:"ghost",className:"h-7 w-7 shrink-0",onClick:()=>h(b),children:d===b.id?f.jsx(dl,{className:"w-3.5 h-3.5"}):f.jsx(ys,{className:"w-3.5 h-3.5"})}),f.jsx("span",{className:"truncate",children:b.audioFile?.name||"Audio Track"})]}),f.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[f.jsx("span",{className:"text-[10px]",children:"Loop"}),f.jsx(cd,{className:"scale-75 origin-right",checked:b.settings.loop,onCheckedChange:_=>r(C=>({...C,globalChannels:C.globalChannels.map(E=>E.id===b.id?{...E,settings:{...E.settings,loop:_}}:E)}))})]})]}),f.jsx(Wg,{value:b.settings.volume,onChange:_=>r(C=>({...C,globalChannels:C.globalChannels.map(E=>E.id===b.id?{...E,settings:{...E.settings,volume:_}}:E)}))}),f.jsx(Hg,{value:b.settings.pan,onChange:_=>r(C=>({...C,globalChannels:C.globalChannels.map(E=>E.id===b.id?{...E,settings:{...E.settings,pan:_}}:E)}))}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(il,{label:"Fade In",value:b.settings.fadeIn??2,onChange:_=>r(C=>({...C,globalChannels:C.globalChannels.map(E=>E.id===b.id?{...E,settings:{...E.settings,fadeIn:_}}:E)}))}),f.jsx(il,{label:"Fade Out",value:b.settings.fadeOut??2,onChange:_=>r(C=>({...C,globalChannels:C.globalChannels.map(E=>E.id===b.id?{...E,settings:{...E.settings,fadeOut:_}}:E)}))})]})]}):f.jsxs(Ne,{variant:"outline",size:"sm",className:"w-full text-xs mt-3",onClick:()=>c("channel",b.id),children:[f.jsx(On,{className:"w-3 h-3 mr-2"})," Upload Audio"]}))]},b.id)})]})]}),f.jsxs("div",{id:"tour-zone-inventory",children:[f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsxs(Zt,{className:"text-slate-500 text-xs uppercase tracking-wider font-bold",children:["Zone Inventory (",t.hotspots.length,")"]})}),f.jsx("div",{className:"bg-slate-50 border rounded-lg overflow-hidden max-h-60 overflow-y-auto",children:t.hotspots.length===0?f.jsx("p",{className:"text-xs text-slate-400 p-4 text-center italic",children:"Draw on the image to create zones."}):f.jsx("div",{className:"divide-y divide-slate-200",children:t.hotspots.map(b=>f.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-white hover:text-indigo-600 cursor-pointer transition-colors text-sm text-slate-700",onClick:()=>s(b.id),children:[f.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:b.color}}),f.jsx("span",{className:"flex-1 truncate font-medium",children:b.name}),b.audioUrl&&f.jsx(av,{className:"w-3 h-3 text-slate-400"})]},b.id))})})]})]})})},sO=async(t,e)=>{const r={...t};if(r.imagePath)try{const{url:s}=await mi(e,r.imagePath);r.imageUrl=s}catch(s){console.error("Failed to refresh image url",s)}if(r.introAudioPath)try{const{url:s}=await mi(e,r.introAudioPath);r.introAudioUrl=s}catch(s){console.error("Failed to refresh intro url",s)}return r.hotspots=await Promise.all(r.hotspots.map(async s=>{if(s.audioPath)try{const{url:i}=await mi(e,s.audioPath);return{...s,audioUrl:i}}catch{return s}return s})),r.globalChannels=await Promise.all((r.globalChannels||[]).map(async s=>{if(s.audioPath)try{const{url:i}=await mi(e,s.audioPath);return{...s,audioUrl:i}}catch{return s}return s})),r},qg=[{id:"create-project",targetId:"tour-create-project",title:"Start a Project",description:"Click here to create your first sound map project.",placement:"right"},{id:"upload-image",targetId:"tour-upload-image",title:"Upload Your Base Image",description:"Upload the image you want to make interactive. This could be a map, artwork, or any image where you want to create audio zones.",placement:"bottom"},{id:"draw-zones",targetId:"tour-canvas-area",title:"Draw Audio Zones",description:"Click and hold on the image to draw a polygon around an interactive area. Release the mouse to finish. Each zone can have its own audio.",placement:"left"},{id:"zone-inventory",targetId:"tour-zone-inventory",title:"Zone Inventory",description:"All your created zones appear here. Click on any zone to select it and configure its audio settings.",placement:"top"},{id:"zone-upload-audio",targetId:"tour-zone-upload-audio",title:"Add Audio to Zone",description:'Now add an audio file to this zone. Click "Upload Audio" to choose a file from your computer or browse sounds from the library or record with your microphone.',placement:"left"},{id:"zone-done",targetId:"tour-zone-done-btn",title:"Save Zone Settings",description:`Once you've added audio and configured the zone settings, click "Done" to return to the main view.`,placement:"top"},{id:"intro-audio",targetId:"tour-intro-audio",title:"Start Screen Narration",description:"Add a narration that plays on the start screen before users interact. This is perfect for setting context and providing instructions.",placement:"left"},{id:"add-channel",targetId:"tour-add-channel",title:"Background Audio Channels",description:"Add ambient sounds or background music that plays continuously underneath your zones. Great for rain, city noise, or atmospheric music.",placement:"left"},{id:"preview",targetId:"tour-preview-btn",title:"Preview Your Creation",description:"Test your interactive experience before sharing it with others.",placement:"bottom"},{id:"share",targetId:"tour-share-btn",title:"Share Your Sound Map",description:"Generate a shareable link to open on tablets or other devices. Users can explore by touch, making it accessible for everyone.",placement:"bottom"}],iO=()=>{const[t,e]=w.useState(null),[r,s]=w.useState("gallery"),[i,l]=w.useState([]),[c,d]=w.useState(null),[h,m]=w.useState(!1),[v,g]=w.useState(!1),[x,b]=w.useState(!1),[S,_]=w.useState(0),[C,E]=w.useState(!1),[j,T]=w.useState(null),[R,B]=w.useState(!1),[L,M]=w.useState(!1),[$,H]=w.useState([]),Z=()=>{S<qg.length-1?_(q=>q+1):(b(!1),t?.access_token&&gi(t.access_token,{hasSeenOnboarding:!0}).catch(console.error))},oe=()=>{b(!1),t?.access_token&&gi(t.access_token,{hasSeenOnboarding:!0}).catch(console.error)},[le,Y]=w.useState(null),[ce,se]=w.useState(null),[G,J]=w.useState(()=>{if(typeof window<"u"){const q=new URLSearchParams(window.location.search);return!!(q.get("userId")&&q.get("projectId"))||!!q.get("s")}return!1});w.useEffect(()=>{if(G){const ee=new URLSearchParams(window.location.search).get("s");ee&&Qg(async()=>{const{getSharedProject:ue,initServer:ke}=await Promise.resolve().then(()=>xw);return{getSharedProject:ue,initServer:ke}},void 0).then(({getSharedProject:ue,initServer:ke})=>{ke(),ue(ee).then(Y).catch(Oe=>{console.error("Error loading shared project:",Oe),se("Link invalid or expired.")})})}},[G]),w.useEffect(()=>{ko.auth.getSession().then(({data:{session:ee}})=>{e(ee)});const{data:{subscription:q}}=ko.auth.onAuthStateChange((ee,ue)=>{e(ue)});return()=>q.unsubscribe()},[]),w.useEffect(()=>{t?.access_token&&(g(!0),mw(),yw(t.access_token).then(async q=>{const ee=await Promise.all(q.map(ue=>sO(ue,t.access_token)));l(ee)}).catch(console.error).finally(()=>g(!1)),ww(t.access_token).then(q=>{q.hasSeenOnboarding||b(!0)}).catch(console.error))},[t?.access_token]),w.useEffect(()=>{if(t?.access_token&&i.length>0){m(!0);const q=setTimeout(()=>{vw(t.access_token,i).then(()=>m(!1)).catch(ee=>{console.error(ee),m(!1)})},2e3);return()=>clearTimeout(q)}},[i,t?.access_token]);const A=i.find(q=>q.id===c),V=()=>{const q={id:crypto.randomUUID(),title:`Untitled Project ${i.length+1}`,imageFile:null,imageUrl:null,hotspots:[],globalChannels:[],introAudioFile:null,introAudioUrl:null,introAudioLoop:!1,createdAt:Date.now()};l([...i,q]),d(q.id),s("editor"),x&&S===0&&_(1)},X=(q,ee)=>{T({type:q,id:ee}),E(!0),x&&(b(!1),t?.access_token&&gi(t.access_token,{hasSeenOnboarding:!0}).catch(console.error))},O=async q=>{if(!j||!t)return;const ee=i.find(ue=>ue.id===c);if(ee){if(j.type==="hotspot"){const ue=`${t.user.id}/${ee.id}/hs_${j.id}_${Date.now()}.mp3`;Q(ke=>({...ke,hotspots:ke.hotspots.map(Oe=>Oe.id===j.id?{...Oe,audioFile:q,audioUrl:URL.createObjectURL(q),audioPath:ue,name:q.name.split(".")[0]}:Oe)}));try{await yo(t.access_token,q,ue)}catch(ke){console.error(ke)}}else if(j.type==="channel"){const ue=`${t.user.id}/${ee.id}/gc_${j.id}_${Date.now()}.mp3`;Q(ke=>({...ke,globalChannels:ke.globalChannels.map(Oe=>Oe.id===j.id?{...Oe,audioFile:q,audioUrl:URL.createObjectURL(q),audioPath:ue}:Oe)}));try{await yo(t.access_token,q,ue)}catch(ke){console.error(ke)}}}},D=async q=>{if(!j||!t)return;const ee=i.find(ue=>ue.id===c);if(ee)try{const ke=await(await fetch(q.previews["preview-hq-mp3"]||q.previews["preview-lq-mp3"])).blob(),Oe=new File([ke],`${q.name}.mp3`,{type:"audio/mpeg"});if(j.type==="hotspot"){const Je=`${t.user.id}/${ee.id}/hs_${j.id}_${Date.now()}.mp3`,rt=q.previews["preview-hq-mp3"]||q.previews["preview-lq-mp3"];Q(Ee=>({...Ee,hotspots:Ee.hotspots.map(Nt=>Nt.id===j.id?{...Nt,audioFile:Oe,audioUrl:rt,audioPath:Je,name:q.name}:Nt)})),await yo(t.access_token,Oe,Je)}else if(j.type==="channel"){const Je=`${t.user.id}/${ee.id}/gc_${j.id}_${Date.now()}.mp3`,rt=q.previews["preview-hq-mp3"]||q.previews["preview-lq-mp3"];Q(Ee=>({...Ee,globalChannels:Ee.globalChannels.map(Nt=>Nt.id===j.id?{...Nt,audioFile:Oe,audioUrl:rt,audioPath:Je,name:q.name}:Nt)})),await yo(t.access_token,Oe,Je)}}catch(ue){console.error("Failed to download sound:",ue)}},K=async(q,ee)=>{if(!(!t||!A)){Q(ue=>({...ue,introAudioFile:q,introAudioUrl:URL.createObjectURL(q),introAudioPath:ee}));try{await yo(t.access_token,q,ee)}catch(ue){console.error("Failed to upload narration:",ue)}}},Q=q=>{l(ee=>ee.map(ke=>{if(ke.id===c){const Oe=typeof q=="function"?q(ke):q;return x&&(S===1&&Oe.imageUrl&&!ke.imageUrl&&_(2),S===2&&Oe.hotspots.length>0&&ke.hotspots.length===0&&_(3),S===4&&Oe.hotspots.some(rt=>rt.audioUrl)&&!ke.hotspots.some(rt=>rt.audioUrl)&&_(5),S===6&&Oe.introAudioUrl&&!ke.introAudioUrl&&_(7),S===7&&(Oe.globalChannels?.length||0)>(ke.globalChannels?.length||0)&&_(8)),Oe}return ke}))},ae=q=>{l(ee=>ee.filter(ue=>ue.id!==q)),c===q&&(d(null),s("gallery"))},fe=()=>{x&&S===9&&(b(!1),t?.access_token&&gi(t.access_token,{hasSeenOnboarding:!0}).catch(console.error))};return G?ce?f.jsxs("div",{className:"flex flex-col h-screen items-center justify-center text-slate-400 bg-slate-900 gap-4",children:[f.jsx("p",{children:ce}),f.jsx(Ne,{variant:"outline",onClick:()=>window.location.href=window.location.pathname,children:"Return Home"})]}):le?f.jsx(Yg,{project:le,onBack:()=>{window.location.href=window.location.pathname},isShared:!0}):f.jsx("div",{className:"flex h-screen items-center justify-center text-slate-500 bg-slate-900 text-white",children:"Loading experience..."}):t?r==="profile"?f.jsx(SC,{onBack:()=>s("gallery"),onSignOut:()=>e(null),onShowOnboarding:()=>{s("gallery"),b(!0),_(0)}}):f.jsxs(f.Fragment,{children:[f.jsx(kC,{steps:qg,currentStepIndex:S,isOpen:x,onNext:Z,onClose:oe}),r==="gallery"&&f.jsx(aO,{projects:i,onCreate:V,onSelect:q=>{d(q),s("editor")},onDelete:ae,onProfile:()=>s("profile"),isLoading:v,session:t}),r==="player"&&A&&f.jsx(Yg,{project:A,onBack:()=>s("editor")}),r==="editor"&&A&&f.jsx(lO,{project:A,onUpdate:Q,onBack:()=>s("gallery"),onPreview:()=>{const q=A.hotspots.filter(ee=>!ee.audioUrl).map((ee,ue)=>ee.name||`Zone ${ue+1}`);q.length>0?(H(q),M(!0)):(x&&S===8&&_(9),s("player"))},session:t,onShare:fe,openUploadModal:X,setNarrationModalOpen:B,tourStepIndex:S,setTourStepIndex:_,showOnboarding:x}),!A&&r!=="gallery"&&f.jsx("div",{children:"Error: Project not found"}),f.jsx(IT,{open:C,onOpenChange:E,onLocalUpload:O,onLibrarySelect:D}),t&&A&&f.jsx(DT,{open:R,onClose:()=>B(!1),onSave:K,sessionUserId:t.user.id,projectId:A.id}),f.jsx(wf,{open:L,onOpenChange:M,children:f.jsxs(xf,{children:[f.jsxs(bf,{children:[f.jsxs(Sf,{className:"flex items-center gap-2",children:[f.jsx(sv,{className:"w-5 h-5 text-amber-500"}),"Zones Without Audio"]}),f.jsx(kf,{asChild:!0,children:f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-500",children:"The following zones do not have audio files attached:"}),f.jsx("ul",{className:"mt-3 space-y-1 text-sm list-none",children:$.map((q,ee)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-amber-500 mt-0.5",children:""}),f.jsx("span",{className:"text-slate-700",children:q})]},ee))}),f.jsx("p",{className:"mt-4 text-sm text-slate-600",children:"These zones will be visible but won't play any sound when clicked in preview mode."})]})})]}),f.jsxs(_f,{children:[f.jsx(pw,{children:"Go Back"}),f.jsx(Ef,{onClick:()=>{M(!1),x&&S===4&&_(5),s("player")},className:"bg-indigo-600 hover:bg-indigo-700",children:"Preview Anyway"})]})]})})]}):f.jsx(_C,{onLoginSuccess:()=>{}})},aO=({projects:t,onCreate:e,onSelect:r,onDelete:s,onProfile:i,isLoading:l,session:c})=>f.jsx("div",{className:"min-h-screen bg-slate-50 p-8",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8 gap-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"My Projects"}),f.jsx("p",{className:"text-slate-500 mt-1",children:"Select a sound map to edit or create a new one."})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs(Ne,{variant:"ghost",onClick:i,className:"text-slate-500 hover:text-indigo-600 h-12 sm:h-10 px-3 sm:px-4 flex items-center gap-2",children:[f.jsx(iv,{className:"w-7 h-7 sm:w-6 sm:h-6 shrink-0"}),f.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:c?.user?.user_metadata?.full_name||c?.user?.email?.split("@")[0]||"User"})]}),f.jsxs(Ne,{id:"tour-create-project",onClick:e,className:"bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg shrink-0 rounded-full h-12 w-12 p-0 sm:rounded-md sm:h-10 sm:w-auto sm:px-4 flex items-center justify-center",children:[f.jsx(fl,{className:"w-6 h-6 sm:w-5 sm:h-5 sm:mr-2"}),f.jsx("span",{className:"hidden sm:inline",children:"New Project"})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l?f.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-slate-500",children:[f.jsx(_o,{className:"w-8 h-8 animate-spin text-indigo-600 mb-4"}),f.jsx("p",{children:"Loading projects..."})]}):t.length>0?t.map(d=>f.jsxs(yl,{className:"group hover:shadow-lg transition-shadow cursor-pointer overflow-hidden border-slate-200",children:[f.jsxs("div",{className:"h-48 bg-slate-100 relative flex items-center justify-center overflow-hidden",onClick:()=>r(d.id),children:[d.imageUrl?f.jsx("img",{src:d.imageUrl,alt:d.title,className:"w-full h-full object-cover"}):f.jsx(T_,{className:"w-12 h-12 text-slate-300"}),f.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),f.jsx(wl,{className:"p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{onClick:()=>r(d.id),className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-slate-800 truncate",children:d.title}),f.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[d.hotspots.length," zones  ",d.globalChannels?.length||0," channels"]})]}),f.jsxs(SP,{children:[f.jsx(kP,{asChild:!0,children:f.jsx(Ne,{variant:"ghost",size:"icon",className:"h-8 w-8",children:f.jsx(k_,{className:"w-4 h-4"})})}),f.jsx(EP,{align:"end",children:f.jsxs(wf,{children:[f.jsx(tN,{asChild:!0,children:f.jsxs(F0,{className:"text-red-600",onSelect:h=>h.preventDefault(),children:[f.jsx(ov,{className:"w-4 h-4 mr-2"})," Delete"]})}),f.jsxs(xf,{children:[f.jsxs(bf,{children:[f.jsx(Sf,{children:"Are you sure?"}),f.jsxs(kf,{children:['This will permanently delete the project "',d.title,'". This action cannot be undone.']})]}),f.jsxs(_f,{children:[f.jsx(pw,{children:"Cancel"}),f.jsx(Ef,{className:"bg-red-600 hover:bg-red-700",onClick:()=>s(d.id),children:"Delete"})]})]})]})})]})]})})]},d.id)):f.jsxs("div",{className:"col-span-full py-20 text-center bg-white rounded-xl border border-dashed border-slate-300",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mb-4",children:f.jsx(nv,{className:"w-8 h-8 text-indigo-500"})}),f.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No projects yet"}),f.jsx(Ne,{onClick:e,variant:"outline",className:"mt-4",children:"Create Project"})]})})]})}),Kd=t=>t.length===0?"":t.map(e=>`${e.x},${e.y}`).join(" "),Gg=(t,e)=>{const r=(i,l)=>{let c=!1;for(let d=0,h=l.length-1;d<l.length;h=d++){const m=l[d].x,v=l[d].y,g=l[h].x,x=l[h].y;v>i.y!=x>i.y&&i.x<(g-m)*(i.y-v)/(x-v)+m&&(c=!c)}return c};for(const i of t)if(r(i,e))return!0;for(const i of e)if(r(i,t))return!0;const s=(i,l,c,d)=>{const h=(m,v,g)=>(g.y-m.y)*(v.x-m.x)>(v.y-m.y)*(g.x-m.x);return h(i,c,d)!==h(l,c,d)&&h(i,l,c)!==h(i,l,d)};for(let i=0;i<t.length;i++){const l=t[i],c=t[(i+1)%t.length];for(let d=0;d<e.length;d++){const h=e[d],m=e[(d+1)%e.length];if(s(l,c,h,m))return!0}}return!1},lO=({project:t,onUpdate:e,onBack:r,onPreview:s,session:i,onShare:l,openUploadModal:c,setNarrationModalOpen:d,tourStepIndex:h,setTourStepIndex:m,showOnboarding:v})=>{const[g,x]=w.useState(!1),[b,S]=w.useState([]),[_,C]=w.useState(null),[E,j]=w.useState(!1),[T,R]=w.useState(!1),B=nx(),[L,M]=w.useState(null),$=w.useRef(null),[H,Z]=w.useState(new Set),oe=w.useRef(null),le=w.useRef(null);w.useEffect(()=>()=>{$.current&&clearTimeout($.current)},[]),w.useEffect(()=>{v&&h===3&&_&&m?.(4)},[_,v,h,m]);const Y=w.useCallback(D=>{const K=_!==null;C(D),v&&h===5&&K&&D===null&&m?.(6)},[_,v,h,m]);w.useEffect(()=>{Z(D=>{const K=new Set(t.globalChannels.map(ae=>ae.id)),Q=new Set;return D.forEach(ae=>{K.has(ae)&&Q.add(ae)}),Q})},[t.globalChannels.length]);const ce=D=>{if(!D.audioUrl)return;const K=`preview-${D.id}`;L===D.id?(B.stop(K),M(null),$.current&&(clearTimeout($.current),$.current=null)):(L&&B.stop(`preview-${L}`),$.current&&clearTimeout($.current),B.play(K,D.audioUrl,D.settings),M(D.id),$.current=setTimeout(()=>{B.stop(K),M(null),$.current=null},5e3))},se=async D=>{const K=D.target.files?.[0];if(K){const Q=URL.createObjectURL(K),ae=`${i.user.id}/${t.id}/bg_${Date.now()}_${K.name}`;e(fe=>({...fe,imageFile:K,imageUrl:Q,hotspots:[],imagePath:ae}));try{await yo(i.access_token,K,ae)}catch(fe){console.error("Image upload failed",fe)}}},G=D=>{if(!oe.current)return{x:0,y:0};const K=oe.current.getBoundingClientRect(),Q="touches"in D?D.touches[0].clientX:D.clientX,ae="touches"in D?D.touches[0].clientY:D.clientY;return{x:(Q-K.left)/K.width*100,y:(ae-K.top)/K.height*100}},J=D=>{if(!t.imageUrl||D.target.tagName==="polygon")return;x(!0);const K=G(D);S([K]),Y(null),B.stopAll()},A=D=>{g&&S(K=>[...K,G(D)])},V=()=>{if(g){if(b.length>5){if(t.hotspots.some(Q=>Gg(b,Q.points))){R(!0),x(!1),S([]);return}const K={id:crypto.randomUUID(),points:b,audioFile:null,audioUrl:null,name:`Zone ${t.hotspots.length+1}`,color:Hd[Math.floor(Math.random()*Hd.length)],settings:{volume:1,pan:0,loop:!1,fadeIn:.5,fadeOut:.5}};e({...t,hotspots:[...t.hotspots,K]}),Y(K.id),window.innerWidth<1024&&j(!0)}x(!1),S([])}},X=()=>{const D={id:crypto.randomUUID(),name:`Channel ${(t.globalChannels||[]).length+1}`,audioFile:null,audioUrl:null,settings:{volume:.5,pan:0,loop:!0,fadeIn:2,fadeOut:2}};e({...t,globalChannels:[...t.globalChannels||[],D]})},O=D=>{Z(K=>{const Q=new Set(K);return Q.has(D)?Q.delete(D):Q.add(D),Q})};return f.jsxs("div",{className:"h-screen flex flex-col bg-white",children:[f.jsxs("header",{className:"bg-white border-b px-4 py-3 flex items-center justify-between shrink-0 z-20 gap-3",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[f.jsx(Ne,{variant:"ghost",size:"icon",onClick:r,className:"-ml-2 shrink-0",children:f.jsx(ul,{className:"w-5 h-5"})}),f.jsx(qn,{className:"font-semibold text-lg border-transparent hover:border-slate-200 focus-visible:border-indigo-500 shadow-none focus-visible:ring-0 px-3 h-9 flex-1 min-w-0 max-w-md transition-colors",value:t.title,onChange:D=>e({...t,title:D.target.value})})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs(hf,{children:[f.jsx(zR,{asChild:!0,children:f.jsxs(Ne,{variant:"outline",size:"sm",className:"hidden sm:flex",id:"tour-share-btn",onClick:l,children:[f.jsx(Y_,{className:"w-4 h-4 mr-2"})," Share"]})}),f.jsxs(Wl,{children:[f.jsxs(pf,{children:[f.jsx(Hl,{children:"Share Project"}),f.jsx(Kl,{children:"Anyone with this link can view and play your sound map. Perfect for tablets."})]}),f.jsx(oO,{session:i,project:t})]})]}),f.jsxs(Ne,{id:"tour-preview-btn",onClick:s,className:"bg-indigo-600 text-white shrink-0 h-9 w-9 sm:w-auto sm:px-4 p-0 flex items-center justify-center",disabled:!t.imageUrl,children:[f.jsx(ys,{className:"w-4 h-4 sm:mr-2"}),f.jsx("span",{className:"hidden sm:inline",children:"Preview"})]})]})]}),f.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col lg:flex-row relative",children:[f.jsx("div",{className:"flex-1 bg-slate-100 relative overflow-hidden flex items-center justify-center p-4 lg:p-8 select-none h-full",children:t.imageUrl?f.jsxs("div",{id:"tour-canvas-area",ref:oe,className:"relative shadow-2xl",onMouseDown:J,onMouseMove:A,onMouseUp:V,onMouseLeave:V,children:[f.jsx("img",{src:t.imageUrl,className:"max-w-full max-h-[85vh] block pointer-events-none select-none",draggable:!1}),f.jsxs("svg",{ref:le,className:"absolute inset-0 w-full h-full pointer-events-none",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[t.hotspots.map(D=>f.jsx("polygon",{points:Kd(D.points),fill:(_===D.id,D.color),fillOpacity:_===D.id?.5:.25,stroke:_===D.id?"white":D.color,strokeWidth:_===D.id?"0.8":"0.4",style:{pointerEvents:"all",cursor:"pointer",vectorEffect:"non-scaling-stroke"},onClick:K=>{K.stopPropagation(),Y(D.id),D.audioUrl&&(B.stopAll(),B.play(D.id,D.audioUrl,D.settings)),window.innerWidth<1024&&j(!0)}},D.id)),g&&b.length>0&&(()=>{const D=b.length>5&&t.hotspots.some(K=>Gg(b,K.points));return f.jsx("polygon",{points:Kd(b),fill:D?"rgba(239, 68, 68, 0.2)":"rgba(99, 102, 241, 0.2)",stroke:D?"#ef4444":"#4f46e5",strokeWidth:"0.5"})})()]})]}):f.jsx("div",{className:"text-center",id:"tour-upload-image",children:f.jsx(Ne,{asChild:!0,size:"lg",children:f.jsxs("label",{className:"cursor-pointer",children:[f.jsx(On,{className:"w-5 h-5 mr-2"})," Upload Image",f.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:se})]})})})}),f.jsx("div",{className:"hidden lg:flex w-96 bg-white border-l shadow-xl z-10 flex-col shrink-0",children:f.jsx("div",{className:"flex-1 overflow-y-auto",children:f.jsx(Kg,{project:t,selectedHotspotId:_,onUpdate:e,setSelectedHotspotId:Y,addGlobalChannel:X,session:i,openUploadModal:c,previewingChannelId:L,toggleChannelPreview:ce,collapsedChannels:H,toggleChannelCollapse:O,setNarrationModalOpen:d})})}),f.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 p-4 pointer-events-none flex justify-center z-30",children:f.jsxs(eO,{open:E,onOpenChange:j,children:[f.jsx(tO,{asChild:!0,children:f.jsxs(Ne,{className:"shadow-xl rounded-full pointer-events-auto bg-white text-indigo-600 hover:bg-slate-50 border border-slate-200 h-12 px-6",children:[f.jsx(q_,{className:"w-5 h-5 mr-2"}),_?"Edit Zone":"Settings & Layers",f.jsx(ev,{className:"w-4 h-4 ml-2 opacity-50"})]})}),f.jsxs(Z0,{className:"max-h-[85vh] flex flex-col",children:[f.jsx(ex,{className:"sr-only",children:"Project Settings"}),f.jsx(tx,{className:"sr-only",children:"Manage zones, audio, and project settings."}),f.jsx("div",{className:"overflow-y-auto flex-1",children:f.jsx(Kg,{project:t,selectedHotspotId:_,onUpdate:e,setSelectedHotspotId:Y,addGlobalChannel:X,session:i,openUploadModal:c,previewingChannelId:L,toggleChannelPreview:ce,collapsedChannels:H,toggleChannelCollapse:O,setNarrationModalOpen:d})})]})]})})]}),f.jsx(wf,{open:T,onOpenChange:R,children:f.jsxs(xf,{className:"max-w-md",children:[f.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-100 flex items-center justify-center",children:f.jsx(sv,{className:"w-8 h-8 text-amber-600"})}),f.jsxs(bf,{className:"space-y-3",children:[f.jsx(Sf,{className:"text-2xl font-semibold text-slate-900",children:"Selection Overlaps"}),f.jsx(kf,{className:"text-sm text-slate-600 leading-relaxed",children:"This selection overlaps with an existing zone. Audio zones cannot overlap with each other. Please draw your selection in a different area that doesn't overlap with existing zones."})]})]}),f.jsx(_f,{className:"mt-2 flex justify-center",children:f.jsx(Ef,{onClick:()=>R(!1),className:"bg-amber-600 hover:bg-amber-700 text-white w-full sm:w-auto",children:"Got it"})})]})})]})},Yg=({project:t,onBack:e,isShared:r})=>{const[s,i]=w.useState(!1),[l,c]=w.useState(null),d=nx(),h=w.useRef(null),m=()=>{i(!0);const b=document.documentElement;b.requestFullscreen&&b.requestFullscreen().catch(S=>console.log("Fullscreen blocked",S)),h.current&&h.current.pause(),d.stopAll(),(t.globalChannels||[]).forEach(S=>{S.audioUrl&&d.play(S.id,S.audioUrl,S.settings)})};w.useEffect(()=>{if(!s&&t.introAudioUrl){const b=new Audio(t.introAudioUrl);return b.loop=t.introAudioLoop,h.current=b,b.play().catch(S=>console.log("Autoplay blocked by browser policy:",S)),()=>{b.pause()}}},[s,t.introAudioUrl,t.introAudioLoop]);const v=b=>{b.audioUrl&&l!==b.id&&(l&&d.stop(l),d.play(b.id,b.audioUrl,b.settings),c(b.id))},g=b=>{(l===b.id&&!b.settings.loop||l===b.id&&b.settings.loop)&&(d.stop(l),c(null))},x=b=>{const S=b.touches[0],_=document.elementFromPoint(S.clientX,S.clientY);if(_&&_.tagName==="polygon"){const C=_.getAttribute("data-id");if(C&&C!==l){const E=t.hotspots.find(j=>j.id===C);E&&v(E)}}else l&&(d.stop(l),c(null))};return s?f.jsxs("div",{className:"fixed inset-0 bg-slate-900 flex flex-col z-50",children:[f.jsx("div",{className:"absolute top-4 left-4 z-50",children:r?f.jsxs(Ne,{variant:"secondary",size:"sm",className:"bg-black/20 text-white border-none backdrop-blur-md",onClick:()=>{window.location.href=window.location.pathname},children:[f.jsx(fl,{className:"w-4 h-4 mr-2"})," Create Map"]}):f.jsxs(Ne,{variant:"secondary",size:"sm",onClick:e,className:"bg-black/20 text-white border-none backdrop-blur-md hover:bg-black/40",children:[f.jsx(ul,{className:"w-4 h-4 mr-2"})," Back to Edit"]})}),f.jsx("div",{className:"flex-1 flex items-center justify-center p-4 overflow-hidden",onTouchMove:x,children:f.jsxs("div",{className:"relative shadow-2xl select-none",style:{touchAction:"none"},children:[f.jsx("img",{src:t.imageUrl||"",className:"max-w-full max-h-[90vh] block pointer-events-none",draggable:!1}),f.jsx("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:t.hotspots.map(b=>f.jsx("polygon",{"data-id":b.id,points:Kd(b.points),fill:l===b.id?b.color:"transparent",fillOpacity:.5,stroke:"transparent",onMouseEnter:()=>v(b),onMouseLeave:()=>g(b),onTouchStart:()=>v(b),className:"cursor-crosshair transition-all duration-200"},b.id))})]})})]}):f.jsx("div",{className:"fixed inset-0 bg-slate-900 flex flex-col items-center justify-center p-6 text-center z-[100]",children:f.jsxs("div",{className:"max-w-md w-full animate-in fade-in zoom-in duration-300 space-y-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:t.title}),f.jsx("p",{className:"text-slate-400",children:"Interactive Sound Map"})]}),f.jsxs(Ne,{size:"lg",onClick:m,className:"w-full h-14 text-lg bg-indigo-600 hover:bg-indigo-500 text-white shadow-xl rounded-full transition-all hover:scale-105",children:[f.jsx(ys,{className:"w-6 h-6 mr-2 fill-current"}),"Start Experience"]}),f.jsx(Ne,{variant:"link",className:"text-slate-500",onClick:e,children:r?"Create Your Own":f.jsxs(f.Fragment,{children:[f.jsx(ul,{className:"w-4 h-4 mr-2"})," Back to Editor"]})})]})})};var cO=(t,e,r,s,i,l,c,d)=>{let h=document.documentElement,m=["light","dark"];function v(b){(Array.isArray(t)?t:[t]).forEach(S=>{let _=S==="class",C=_&&l?i.map(E=>l[E]||E):i;_?(h.classList.remove(...C),h.classList.add(l&&l[b]?l[b]:b)):h.setAttribute(S,b)}),g(b)}function g(b){d&&m.includes(b)&&(h.style.colorScheme=b)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)v(s);else try{let b=localStorage.getItem(e)||r,S=c&&b==="system"?x():b;v(S)}catch{}},uO=w.createContext(void 0),dO={setTheme:t=>{},themes:[]},fO=()=>{var t;return(t=w.useContext(uO))!=null?t:dO};w.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:s,enableColorScheme:i,defaultTheme:l,value:c,themes:d,nonce:h,scriptProps:m})=>{let v=JSON.stringify([r,e,l,t,d,c,s,i]).slice(1,-1);return w.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${cO.toString()})(${v})`}})});const hO=({...t})=>{const{theme:e="system"}=fO();return f.jsx(AT,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function pO(){return f.jsxs(f.Fragment,{children:[f.jsx(iO,{}),f.jsx(hO,{})]})}o_.createRoot(document.getElementById("root")).render(f.jsx(pO,{}));
